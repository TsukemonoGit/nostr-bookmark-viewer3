import{S as je,i as Fe,s as ze,e as Z,b as L,v as se,d as O,f as ie,g as S,h as c,L as de,K as z,a7 as we,C as he,G as pe,I as ve,J as me,k as g,a as P,y as W,q as E,D as Xe,l as k,c as U,z as Y,m,r as D,n as f,F as u,A as x,O as re,B as ee,P as Ge,o as Ze,T as Qe,ae as We,u as B,M as oe,N as ne,af as Ye,$ as ye,a0 as xe,X as et,V as Ve}from"../chunks/index.1fa16860.js";import{p as tt}from"../chunks/stores.a22b943f.js";import{A as lt,B as rt,R as at,C as ot,P as nt,c as Ne,b as st,u as _e}from"../chunks/navigation.b66b9f2c.js";import{p as it,k as ct,l as ut,n as ft,M as dt,N as _t,m as qe,d as ht,c as pt,e as He,C as ge,g as Le,T as vt}from"../chunks/Content.9801d256.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.baaee050.js";import"../chunks/singletons.754aa4bc.js";/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function mt(a,e,r,t){const l=it(lt(),rt(),ut());return ct({rxNostr:a,queryKey:e,filters:r,operator:l,req:t})}const gt=a=>({events:a&16,status:a&32}),Te=a=>{var e;return{events:(e=a[4])==null?void 0:e.map(ke),status:a[5]}},kt=a=>({events:a&16,status:a&32}),Se=a=>{var e;return{events:(e=a[4])==null?void 0:e.map(ke),status:a[5]}},bt=a=>({events:a&16,status:a&32}),Oe=a=>{var e;return{events:(e=a[4])==null?void 0:e.map(ke),status:a[5]}},wt=a=>({error:a&8,events:a&16,status:a&32}),Pe=a=>{var e;return{error:a[3],events:(e=a[4])==null?void 0:e.map(ke),status:a[5]}};function $t(a){let e;const r=a[12].nodata,t=he(r,a,a[11],Te);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&2096)&&pe(t,r,l,l[11],e?me(r,l[11],o,gt):ve(l[11]),Te)},i(l){e||(S(t,l),e=!0)},o(l){O(t,l),e=!1},d(l){t&&t.d(l)}}}function Et(a){let e;const r=a[12].loading,t=he(r,a,a[11],Se);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&2096)&&pe(t,r,l,l[11],e?me(r,l[11],o,kt):ve(l[11]),Se)},i(l){e||(S(t,l),e=!0)},o(l){O(t,l),e=!1},d(l){t&&t.d(l)}}}function Dt(a){let e;const r=a[12].default,t=he(r,a,a[11],Oe);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&2096)&&pe(t,r,l,l[11],e?me(r,l[11],o,bt):ve(l[11]),Oe)},i(l){e||(S(t,l),e=!0)},o(l){O(t,l),e=!1},d(l){t&&t.d(l)}}}function It(a){let e;const r=a[12].error,t=he(r,a,a[11],Pe);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&2104)&&pe(t,r,l,l[11],e?me(r,l[11],o,wt):ve(l[11]),Pe)},i(l){e||(S(t,l),e=!0)},o(l){O(t,l),e=!1},d(l){t&&t.d(l)}}}function yt(a){let e,r,t,l;const o=[It,Dt,Et,$t],s=[];function i(n,d){var _;return n[3]?0:((_=n[4])==null?void 0:_.length)>0?1:n[5]==="loading"?2:3}return e=i(a),r=s[e]=o[e](a),{c(){r.c(),t=Z()},l(n){r.l(n),t=Z()},m(n,d){s[e].m(n,d),L(n,t,d),l=!0},p(n,[d]){let _=e;e=i(n),e===_?s[e].p(n,d):(se(),O(s[_],1,1,()=>{s[_]=null}),ie(),r=s[e],r?r.p(n,d):(r=s[e]=o[e](n),r.c()),S(r,1),r.m(t.parentNode,t))},i(n){l||(S(r),l=!0)},o(n){O(r),l=!1},d(n){s[e].d(n),n&&c(t)}}}const ke=({event:a})=>a;function Vt(a,e,r){let t,l,o,s,i,n,d=z,_=()=>(d(),d=we(s,v=>r(3,n=v)),s),b,h=z,w=()=>(h(),h=we(l,v=>r(4,b=v)),l),q,V=z,T=()=>(V(),V=we(o,v=>r(5,q=v)),o);de(a,ft,v=>r(10,i=v)),a.$$.on_destroy.push(()=>d()),a.$$.on_destroy.push(()=>h()),a.$$.on_destroy.push(()=>V());let{$$slots:R={},$$scope:$}=e,{queryKey:p}=e,{filters:I}=e,{req:K=void 0}=e;return a.$$set=v=>{"queryKey"in v&&r(6,p=v.queryKey),"filters"in v&&r(7,I=v.filters),"req"in v&&r(8,K=v.req),"$$scope"in v&&r(11,$=v.$$scope)},a.$$.update=()=>{a.$$.dirty&1472&&r(9,t=mt(i.rxNostr,p,I,K)),a.$$.dirty&512&&w(r(2,l=t.data)),a.$$.dirty&512&&T(r(1,o=t.status)),a.$$.dirty&512&&_(r(0,s=t.error))},[s,o,l,n,b,q,p,I,K,t,i,$,R]}class Nt extends je{constructor(e){super(),Fe(this,e,Vt,yt,ze,{queryKey:6,filters:7,req:8})}}function Ue(a,e,r){const t=a.slice();return t[24]=e[r],t}function Me(a,e,r){const t=a.slice();return t[28]=e[r],t}function Be(a){let e,r,t,l;return r=new He({props:{queryKey:["metadata",a[24].pubkey],pubkey:a[24].pubkey,$$slots:{nodata:[Xt,({metadata:o})=>({27:o}),({metadata:o})=>[o?134217728:0]],error:[Ht,({metadata:o})=>({27:o}),({metadata:o})=>[o?134217728:0]],loading:[Gt,({metadata:o})=>({27:o}),({metadata:o})=>[o?134217728:0]],default:[zt,({metadata:o})=>({27:o}),({metadata:o})=>[o?134217728:0]]},$$scope:{ctx:a}}}),{c(){e=g("div"),W(r.$$.fragment),t=P(),this.h()},l(o){e=k(o,"DIV",{class:!0});var s=m(e);Y(r.$$.fragment,s),t=U(s),s.forEach(c),this.h()},h(){f(e,"class","card drop-shadow px-1 py-2 my-1 grid grid-cols-[1fr_auto] gap-1")},m(o,s){L(o,e,s),x(r,e,null),u(e,t),l=!0},p(o,s){const i={};s[0]&4194304&&(i.queryKey=["metadata",o[24].pubkey]),s[0]&4194304&&(i.pubkey=o[24].pubkey),s[0]&138412046|s[1]&4&&(i.$$scope={dirty:s,ctx:o}),r.$set(i)},i(o){l||(S(r.$$.fragment,o),l=!0)},o(o){O(r.$$.fragment,o),l=!1},d(o){o&&c(e),ee(r)}}}function Re(a){let e,r,t={ctx:a,current:null,token:null,hasCatch:!1,pending:Tt,then:Lt,catch:qt,value:32};return ye(r=Le(JSON.parse(a[27].content).picture,a[2].url.origin),t),{c(){e=Z(),t.block.c()},l(l){e=Z(),t.block.l(l)},m(l,o){L(l,e,o),t.block.m(l,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e},p(l,o){a=l,t.ctx=a,o[0]&134217732&&r!==(r=Le(JSON.parse(a[27].content).picture,a[2].url.origin))&&ye(r,t)||xe(t,a,o)},d(l){l&&c(e),t.block.d(l),t.token=null,t=null}}}function qt(a){return{c:z,l:z,m:z,p:z,d:z}}function Lt(a){let e,r;return{c(){e=g("img"),this.h()},l(t){e=k(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){f(e,"class","w-12 object-contain justify-center"),Ve(e.src,r=a[32])||f(e,"src",r),f(e,"alt","avatar")},m(t,l){L(t,e,l)},p(t,l){l[0]&134217732&&!Ve(e.src,r=t[32])&&f(e,"src",r)},d(t){t&&c(e)}}}function Tt(a){let e,r;return{c(){e=g("div"),r=E("loading"),this.h()},l(t){e=k(t,"DIV",{class:!0});var l=m(e);r=D(l,"loading"),l.forEach(c),this.h()},h(){f(e,"class","flex justify-center items-center text-sm")},m(t,l){L(t,e,l),u(e,r)},p:z,d(t){t&&c(e)}}}function Je(a){let e,r,t=_e(a[24].tags),l=[];for(let s=0;s<t.length;s+=1)l[s]=Ke(Me(a,t,s));const o=s=>O(l[s],1,1,()=>{l[s]=null});return{c(){e=g("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var i=m(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(c),this.h()},h(){f(e,"class","max-h-[6em] overflow-auto whitespace-nowrap border-s-4 border-s-rose-800/25 dark:border-s-rose-100/25")},m(s,i){L(s,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null);r=!0},p(s,i){if(i[0]&138412232|i[1]&1){t=_e(s[24].tags);let n;for(n=0;n<t.length;n+=1){const d=Me(s,t,n);l[n]?(l[n].p(d,i),S(l[n],1)):(l[n]=Ke(d),l[n].c(),S(l[n],1),l[n].m(e,null))}for(se(),n=t.length;n<l.length;n+=1)o(n);ie()}},i(s){if(!r){for(let i=0;i<t.length;i+=1)S(l[i]);r=!0}},o(s){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)O(l[i]);r=!1},d(s){s&&c(e),et(l,s)}}}function St(a){let e,r,t=a[28][0]+"",l,o,s=a[28][1]+"",i,n;return{c(){e=g("div"),r=E("["),l=E(t),o=E(`]
                            `),i=E(s),n=P(),this.h()},l(d){e=k(d,"DIV",{class:!0});var _=m(e);r=D(_,"["),l=D(_,t),o=D(_,`]
                            `),i=D(_,s),n=U(_),_.forEach(c),this.h()},h(){f(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(d,_){L(d,e,_),u(e,r),u(e,l),u(e,o),u(e,i),u(e,n)},p(d,_){_[0]&4194304&&t!==(t=d[28][0]+"")&&B(l,t),_[0]&4194304&&s!==(s=d[28][1]+"")&&B(i,s)},i:z,o:z,d(d){d&&c(e)}}}function Ot(a){let e,r;return e=new vt({props:{queryKey:[a[28][1]],id:a[28][1],$$slots:{nodata:[Kt,({text:t})=>({31:t}),({text:t})=>[0,t?1:0]],error:[Jt,({text:t})=>({31:t}),({text:t})=>[0,t?1:0]],loading:[Rt,({text:t})=>({31:t}),({text:t})=>[0,t?1:0]],default:[Bt,({text:t})=>({31:t}),({text:t})=>[0,t?1:0]]},$$scope:{ctx:a}}}),{c(){W(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,l){const o={};l[0]&4194304&&(o.queryKey=[t[28][1]]),l[0]&4194304&&(o.id=t[28][1]),l[0]&4194312|l[1]&5&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){ee(e,t)}}}function Pt(a){let e,r;return e=new He({props:{queryKey:["metadata",a[28][1]],pubkey:a[28][1],$$slots:{nodata:[Ft,({metadata:t})=>({27:t}),({metadata:t})=>[t?134217728:0]],error:[jt,({metadata:t})=>({27:t}),({metadata:t})=>[t?134217728:0]],loading:[At,({metadata:t})=>({27:t}),({metadata:t})=>[t?134217728:0]],default:[Ct,({metadata:t})=>({27:t}),({metadata:t})=>[t?134217728:0]]},$$scope:{ctx:a}}}),{c(){W(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,l){const o={};l[0]&4194304&&(o.queryKey=["metadata",t[28][1]]),l[0]&4194304&&(o.pubkey=t[28][1]),l[0]&138412032|l[1]&4&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){ee(e,t)}}}function Ut(a){let e=a[31].content+"",r;return{c(){r=E(e)},l(t){r=D(t,e)},m(t,l){L(t,r,l)},p(t,l){l[1]&1&&e!==(e=t[31].content+"")&&B(r,e)},d(t){t&&c(r)}}}function Mt(a){let e="<content-warning>",r;return{c(){r=E(e)},l(t){r=D(t,e)},m(t,l){L(t,r,l)},p:z,d(t){t&&c(r)}}}function Bt(a){let e,r,t=a[28][0]+"",l,o,s,i,n,d,_;function b(V,T){return T[0]&8|T[1]&1&&(i=null),i==null&&(i=!!(V[31].tags.some(rl)&&V[3]==!1)),i?Mt:Ut}let h=b(a,[-1,-1]),w=h(a);function q(){return a[14](a[31])}return{c(){e=g("div"),r=E("["),l=E(t),o=E(`]
                              `),s=g("button"),w.c(),n=P(),this.h()},l(V){e=k(V,"DIV",{class:!0});var T=m(e);r=D(T,"["),l=D(T,t),o=D(T,`]
                              `),s=k(T,"BUTTON",{class:!0});var R=m(s);w.l(R),R.forEach(c),T.forEach(c),n=U(V),this.h()},h(){f(s,"class","text-emerald-800 dark:text-blue-400 whitespace-nowrap overflow-hidden text-ellipsis"),f(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(V,T){L(V,e,T),u(e,r),u(e,l),u(e,o),u(e,s),w.m(s,null),L(V,n,T),d||(_=re(s,"click",q),d=!0)},p(V,T){a=V,T[0]&4194304&&t!==(t=a[28][0]+"")&&B(l,t),h===(h=b(a,T))&&w?w.p(a,T):(w.d(1),w=h(a),w&&(w.c(),w.m(s,null)))},d(V){V&&c(e),w.d(),V&&c(n),d=!1,_()}}}function Rt(a){let e,r,t,l=a[28][0]+"",o,s,i=a[28][1]+"",n,d;return{c(){e=g("div"),r=g("div"),t=E("["),o=E(l),s=E("] "),n=E(i),d=P(),this.h()},l(_){e=k(_,"DIV",{slot:!0});var b=m(e);r=k(b,"DIV",{class:!0});var h=m(r);t=D(h,"["),o=D(h,l),s=D(h,"] "),n=D(h,i),h.forEach(c),d=U(b),b.forEach(c),this.h()},h(){f(r,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),f(e,"slot","loading")},m(_,b){L(_,e,b),u(e,r),u(r,t),u(r,o),u(r,s),u(r,n),u(e,d)},p(_,b){b[0]&4194304&&l!==(l=_[28][0]+"")&&B(o,l),b[0]&4194304&&i!==(i=_[28][1]+"")&&B(n,i)},d(_){_&&c(e)}}}function Jt(a){let e,r,t,l=a[28][0]+"",o,s,i=a[28][1]+"",n,d;return{c(){e=g("div"),r=g("div"),t=E("["),o=E(l),s=E("] "),n=E(i),d=P(),this.h()},l(_){e=k(_,"DIV",{slot:!0});var b=m(e);r=k(b,"DIV",{class:!0});var h=m(r);t=D(h,"["),o=D(h,l),s=D(h,"] "),n=D(h,i),h.forEach(c),d=U(b),b.forEach(c),this.h()},h(){f(r,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),f(e,"slot","error")},m(_,b){L(_,e,b),u(e,r),u(r,t),u(r,o),u(r,s),u(r,n),u(e,d)},p(_,b){b[0]&4194304&&l!==(l=_[28][0]+"")&&B(o,l),b[0]&4194304&&i!==(i=_[28][1]+"")&&B(n,i)},d(_){_&&c(e)}}}function Kt(a){let e,r,t,l=a[28][0]+"",o,s,i=a[28][1]+"",n,d;return{c(){e=g("div"),r=g("div"),t=E("["),o=E(l),s=E("] "),n=E(i),d=P(),this.h()},l(_){e=k(_,"DIV",{slot:!0});var b=m(e);r=k(b,"DIV",{class:!0});var h=m(r);t=D(h,"["),o=D(h,l),s=D(h,"] "),n=D(h,i),h.forEach(c),d=U(b),b.forEach(c),this.h()},h(){f(r,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),f(e,"slot","nodata")},m(_,b){L(_,e,b),u(e,r),u(r,t),u(r,o),u(r,s),u(r,n),u(e,d)},p(_,b){b[0]&4194304&&l!==(l=_[28][0]+"")&&B(o,l),b[0]&4194304&&i!==(i=_[28][1]+"")&&B(n,i)},d(_){_&&c(e)}}}function Ct(a){let e,r,t,l,o,s=JSON.parse(a[27].content).name+"",i,n,d,_;function b(){return a[13](a[27],a[28])}return{c(){e=g("div"),r=E("to[p] "),t=g("button"),l=E("@"),o=g("u"),i=E(s),n=P(),this.h()},l(h){e=k(h,"DIV",{class:!0});var w=m(e);r=D(w,"to[p] "),t=k(w,"BUTTON",{class:!0});var q=m(t);l=D(q,"@"),o=k(q,"U",{});var V=m(o);i=D(V,s),V.forEach(c),q.forEach(c),w.forEach(c),n=U(h),this.h()},h(){f(t,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),f(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(h,w){L(h,e,w),u(e,r),u(e,t),u(t,l),u(t,o),u(o,i),L(h,n,w),d||(_=re(t,"click",b),d=!0)},p(h,w){a=h,w[0]&134217728&&s!==(s=JSON.parse(a[27].content).name+"")&&B(i,s)},d(h){h&&c(e),h&&c(n),d=!1,_()}}}function At(a){let e,r,t,l=a[28][1]+"",o,s;return{c(){e=g("div"),r=g("div"),t=E("to[p] "),o=E(l),s=P(),this.h()},l(i){e=k(i,"DIV",{slot:!0});var n=m(e);r=k(n,"DIV",{class:!0});var d=m(r);t=D(d,"to[p] "),o=D(d,l),d.forEach(c),s=U(n),n.forEach(c),this.h()},h(){f(r,"class","-mt- px-2 opacity-60 text-sm overflow-hidden"),f(e,"slot","loading")},m(i,n){L(i,e,n),u(e,r),u(r,t),u(r,o),u(e,s)},p(i,n){n[0]&4194304&&l!==(l=i[28][1]+"")&&B(o,l)},d(i){i&&c(e)}}}function jt(a){let e,r,t,l=a[28][1]+"",o,s;return{c(){e=g("div"),r=g("div"),t=E("to[p] "),o=E(l),s=P(),this.h()},l(i){e=k(i,"DIV",{slot:!0});var n=m(e);r=k(n,"DIV",{class:!0});var d=m(r);t=D(d,"to[p] "),o=D(d,l),d.forEach(c),s=U(n),n.forEach(c),this.h()},h(){f(r,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),f(e,"slot","error")},m(i,n){L(i,e,n),u(e,r),u(r,t),u(r,o),u(e,s)},p(i,n){n[0]&4194304&&l!==(l=i[28][1]+"")&&B(o,l)},d(i){i&&c(e)}}}function Ft(a){let e,r,t,l=a[28][1]+"",o,s;return{c(){e=g("div"),r=g("div"),t=E("to[p] "),o=E(l),s=P(),this.h()},l(i){e=k(i,"DIV",{slot:!0});var n=m(e);r=k(n,"DIV",{class:!0});var d=m(r);t=D(d,"to[p] "),o=D(d,l),d.forEach(c),s=U(n),n.forEach(c),this.h()},h(){f(r,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),f(e,"slot","nodata")},m(i,n){L(i,e,n),u(e,r),u(r,t),u(r,o),u(e,s)},p(i,n){n[0]&4194304&&l!==(l=i[28][1]+"")&&B(o,l)},d(i){i&&c(e)}}}function Ke(a){let e,r,t,l;const o=[Pt,Ot,St],s=[];function i(n,d){return n[28][0]==="p"?0:n[28][0]==="e"||n[28][0]==="q"?1:2}return e=i(a),r=s[e]=o[e](a),{c(){r.c(),t=Z()},l(n){r.l(n),t=Z()},m(n,d){s[e].m(n,d),L(n,t,d),l=!0},p(n,d){let _=e;e=i(n),e===_?s[e].p(n,d):(se(),O(s[_],1,1,()=>{s[_]=null}),ie(),r=s[e],r?r.p(n,d):(r=s[e]=o[e](n),r.c()),S(r,1),r.m(t.parentNode,t))},i(n){l||(S(r),l=!0)},o(n){O(r),l=!1},d(n){s[e].d(n),n&&c(t)}}}function zt(a){let e,r,t=JSON.parse(a[27].content).picture,l,o,s,i,n=JSON.parse(a[27].content).display_name+"",d,_,b,h,w,q,V=JSON.parse(a[27].content).name+"",T,R,$,p,I=new Date(a[24].created_at*1e3).toLocaleString()+"",K,v,C=_e(a[24].tags).length>0,F,G,H,te,ce,ae,M=t&&Re(a);function A(){return a[11](a[27],a[24])}function y(){return a[12](a[24])}let N=C&&Je(a);return H=new ge({props:{text:a[24].content,tag:a[24].tags,id:a[24].id,view:a[3],URLPreview:a[1],isPageOwner:!1}}),{c(){e=g("div"),r=g("div"),M&&M.c(),l=P(),o=g("div"),s=g("div"),i=g("div"),d=E(n),_=P(),b=g("div"),h=g("button"),w=E("@"),q=g("u"),T=E(V),R=P(),$=g("div"),p=g("button"),K=E(I),v=P(),N&&N.c(),F=P(),G=g("div"),W(H.$$.fragment),this.h()},l(j){e=k(j,"DIV",{class:!0});var J=m(e);r=k(J,"DIV",{class:!0});var X=m(r);M&&M.l(X),X.forEach(c),l=U(J),o=k(J,"DIV",{class:!0});var Q=m(o);s=k(Q,"DIV",{class:!0});var le=m(s);i=k(le,"DIV",{class:!0});var ue=m(i);d=D(ue,n),ue.forEach(c),_=U(le),b=k(le,"DIV",{class:!0});var fe=m(b);h=k(fe,"BUTTON",{class:!0});var be=m(h);w=D(be,"@"),q=k(be,"U",{});var $e=m(q);T=D($e,V),$e.forEach(c),be.forEach(c),fe.forEach(c),R=U(le),$=k(le,"DIV",{class:!0});var Ee=m($);p=k(Ee,"BUTTON",{class:!0});var De=m(p);K=D(De,I),De.forEach(c),Ee.forEach(c),le.forEach(c),v=U(Q),N&&N.l(Q),F=U(Q),G=k(Q,"DIV",{class:!0});var Ie=m(G);Y(H.$$.fragment,Ie),Ie.forEach(c),Q.forEach(c),J.forEach(c),this.h()},h(){f(r,"class","w-12 h-12 rounded-full flex justify-center overflow-hidden bg-surface-500/25 mt-1"),f(i,"class","font-bold wi truncate justify-items-end"),f(h,"class","text-emerald-800 dark:text-blue-500 text-sm"),f(b,"class","truncate wid min-w-[2em] justify-items-end"),f(p,"class","text-sm underline decoration-secondary-500"),f($,"class","min-w-max"),f(s,"class","w-full grid grid-cols-[auto_1fr_auto] gap-1 h-fix"),f(G,"class","parent-container break-all whitespace-pre-wrap"),f(o,"class","grid grid-rows-[auto_auto_auto] gap-0 break-all w-full"),f(e,"class","grid grid-cols-[auto_1fr] gap-1")},m(j,J){L(j,e,J),u(e,r),M&&M.m(r,null),u(e,l),u(e,o),u(o,s),u(s,i),u(i,d),u(s,_),u(s,b),u(b,h),u(h,w),u(h,q),u(q,T),u(s,R),u(s,$),u($,p),u(p,K),u(o,v),N&&N.m(o,null),u(o,F),u(o,G),x(H,G,null),te=!0,ce||(ae=[re(h,"click",A),re(p,"click",y)],ce=!0)},p(j,J){a=j,J[0]&134217728&&(t=JSON.parse(a[27].content).picture),t?M?M.p(a,J):(M=Re(a),M.c(),M.m(r,null)):M&&(M.d(1),M=null),(!te||J[0]&134217728)&&n!==(n=JSON.parse(a[27].content).display_name+"")&&B(d,n),(!te||J[0]&134217728)&&V!==(V=JSON.parse(a[27].content).name+"")&&B(T,V),(!te||J[0]&4194304)&&I!==(I=new Date(a[24].created_at*1e3).toLocaleString()+"")&&B(K,I),J[0]&4194304&&(C=_e(a[24].tags).length>0),C?N?(N.p(a,J),J[0]&4194304&&S(N,1)):(N=Je(a),N.c(),S(N,1),N.m(o,F)):N&&(se(),O(N,1,1,()=>{N=null}),ie());const X={};J[0]&4194304&&(X.text=a[24].content),J[0]&4194304&&(X.tag=a[24].tags),J[0]&4194304&&(X.id=a[24].id),J[0]&8&&(X.view=a[3]),J[0]&2&&(X.URLPreview=a[1]),H.$set(X)},i(j){te||(S(N),S(H.$$.fragment,j),te=!0)},o(j){O(N),O(H.$$.fragment,j),te=!1},d(j){j&&c(e),M&&M.d(),N&&N.d(),ee(H),ce=!1,Ge(ae)}}}function Gt(a){let e,r,t,l=a[24].pubkey+"",o,s,i,n,d=new Date(a[24].created_at*1e3).toLocaleString()+"",_,b,h,w,q,V,T;function R(){return a[10](a[24])}return w=new ge({props:{text:a[24].content,tag:a[24].tags,id:a[24].id,view:a[3],URLPreview:a[1],isPageOwner:!1}}),{c(){e=g("div"),r=g("div"),t=E("Loading profile... ("),o=E(l),s=E(")"),i=P(),n=g("button"),_=E(d),b=P(),h=g("div"),W(w.$$.fragment),this.h()},l($){e=k($,"DIV",{slot:!0});var p=m(e);r=k(p,"DIV",{class:!0});var I=m(r);t=D(I,"Loading profile... ("),o=D(I,l),s=D(I,")"),I.forEach(c),i=U(p),n=k(p,"BUTTON",{class:!0});var K=m(n);_=D(K,d),K.forEach(c),b=U(p),h=k(p,"DIV",{class:!0});var v=m(h);Y(w.$$.fragment,v),v.forEach(c),p.forEach(c),this.h()},h(){f(r,"class","text-sm break-all overflow-hidden"),f(n,"class","text-sm underline decoration-secondary-500"),f(h,"class","parent-container break-all whitespace-pre-wrap"),f(e,"slot","loading")},m($,p){L($,e,p),u(e,r),u(r,t),u(r,o),u(r,s),u(e,i),u(e,n),u(n,_),u(e,b),u(e,h),x(w,h,null),q=!0,V||(T=re(n,"click",R),V=!0)},p($,p){a=$,(!q||p[0]&4194304)&&l!==(l=a[24].pubkey+"")&&B(o,l),(!q||p[0]&4194304)&&d!==(d=new Date(a[24].created_at*1e3).toLocaleString()+"")&&B(_,d);const I={};p[0]&4194304&&(I.text=a[24].content),p[0]&4194304&&(I.tag=a[24].tags),p[0]&4194304&&(I.id=a[24].id),p[0]&8&&(I.view=a[3]),p[0]&2&&(I.URLPreview=a[1]),w.$set(I)},i($){q||(S(w.$$.fragment,$),q=!0)},o($){O(w.$$.fragment,$),q=!1},d($){$&&c(e),ee(w),V=!1,T()}}}function Ht(a){let e,r,t,l=a[24].pubkey+"",o,s,i,n,d=new Date(a[24].created_at*1e3).toLocaleString()+"",_,b,h,w,q,V,T;function R(){return a[9](a[24])}return w=new ge({props:{text:a[24].content,tag:a[24].tags,id:a[24].id,view:a[3],URLPreview:a[1],isPageOwner:!1}}),{c(){e=g("div"),r=g("div"),t=E("Failed to get profile ("),o=E(l),s=E(")"),i=P(),n=g("button"),_=E(d),b=P(),h=g("div"),W(w.$$.fragment),this.h()},l($){e=k($,"DIV",{slot:!0});var p=m(e);r=k(p,"DIV",{class:!0});var I=m(r);t=D(I,"Failed to get profile ("),o=D(I,l),s=D(I,")"),I.forEach(c),i=U(p),n=k(p,"BUTTON",{class:!0});var K=m(n);_=D(K,d),K.forEach(c),b=U(p),h=k(p,"DIV",{class:!0});var v=m(h);Y(w.$$.fragment,v),v.forEach(c),p.forEach(c),this.h()},h(){f(r,"class","text-sm break-all overflow-hidden"),f(n,"class","text-sm underline decoration-secondary-500"),f(h,"class","parent-container break-all whitespace-pre-wrap"),f(e,"slot","error")},m($,p){L($,e,p),u(e,r),u(r,t),u(r,o),u(r,s),u(e,i),u(e,n),u(n,_),u(e,b),u(e,h),x(w,h,null),q=!0,V||(T=re(n,"click",R),V=!0)},p($,p){a=$,(!q||p[0]&4194304)&&l!==(l=a[24].pubkey+"")&&B(o,l),(!q||p[0]&4194304)&&d!==(d=new Date(a[24].created_at*1e3).toLocaleString()+"")&&B(_,d);const I={};p[0]&4194304&&(I.text=a[24].content),p[0]&4194304&&(I.tag=a[24].tags),p[0]&4194304&&(I.id=a[24].id),p[0]&8&&(I.view=a[3]),p[0]&2&&(I.URLPreview=a[1]),w.$set(I)},i($){q||(S(w.$$.fragment,$),q=!0)},o($){O(w.$$.fragment,$),q=!1},d($){$&&c(e),ee(w),V=!1,T()}}}function Xt(a){let e,r,t,l=a[24].pubkey+"",o,s,i,n,d=new Date(a[24].created_at*1e3).toLocaleString()+"",_,b,h,w,q,V,T;function R(){return a[8](a[24])}return w=new ge({props:{text:a[24].content,tag:a[24].tags,id:a[24].id,view:a[3],URLPreview:a[1],isPageOwner:!1}}),{c(){e=g("div"),r=g("div"),t=E("Profile not found ("),o=E(l),s=E(")"),i=P(),n=g("button"),_=E(d),b=P(),h=g("div"),W(w.$$.fragment),this.h()},l($){e=k($,"DIV",{slot:!0});var p=m(e);r=k(p,"DIV",{class:!0});var I=m(r);t=D(I,"Profile not found ("),o=D(I,l),s=D(I,")"),I.forEach(c),i=U(p),n=k(p,"BUTTON",{class:!0});var K=m(n);_=D(K,d),K.forEach(c),b=U(p),h=k(p,"DIV",{class:!0});var v=m(h);Y(w.$$.fragment,v),v.forEach(c),p.forEach(c),this.h()},h(){f(r,"class","text-sm break-all overflow-hidden"),f(n,"class","text-sm underline decoration-secondary-500"),f(h,"class","parent-container break-all whitespace-pre-wrap"),f(e,"slot","nodata")},m($,p){L($,e,p),u(e,r),u(r,t),u(r,o),u(r,s),u(e,i),u(e,n),u(n,_),u(e,b),u(e,h),x(w,h,null),q=!0,V||(T=re(n,"click",R),V=!0)},p($,p){a=$,(!q||p[0]&4194304)&&l!==(l=a[24].pubkey+"")&&B(o,l),(!q||p[0]&4194304)&&d!==(d=new Date(a[24].created_at*1e3).toLocaleString()+"")&&B(_,d);const I={};p[0]&4194304&&(I.text=a[24].content),p[0]&4194304&&(I.tag=a[24].tags),p[0]&4194304&&(I.id=a[24].id),p[0]&8&&(I.view=a[3]),p[0]&2&&(I.URLPreview=a[1]),w.$set(I)},i($){q||(S(w.$$.fragment,$),q=!0)},o($){O(w.$$.fragment,$),q=!1},d($){$&&c(e),ee(w),V=!1,T()}}}function Ce(a,e){let r,t,l,o=e[24].kind!==3&&e[24].kind!==6&&Be(e);return{key:a,first:null,c(){r=Z(),o&&o.c(),t=Z(),this.h()},l(s){r=Z(),o&&o.l(s),t=Z(),this.h()},h(){this.first=r},m(s,i){L(s,r,i),o&&o.m(s,i),L(s,t,i),l=!0},p(s,i){e=s,e[24].kind!==3&&e[24].kind!==6?o?(o.p(e,i),i[0]&4194304&&S(o,1)):(o=Be(e),o.c(),S(o,1),o.m(t.parentNode,t)):o&&(se(),O(o,1,1,()=>{o=null}),ie())},i(s){l||(S(o),l=!0)},o(s){O(o),l=!1},d(s){s&&c(r),o&&o.d(s),s&&c(t)}}}function Zt(a){let e=[],r=new Map,t,l,o=a[22];const s=i=>i[24].id;for(let i=0;i<o.length;i+=1){let n=Ue(a,o,i),d=s(n);r.set(d,e[i]=Ce(d,n))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=Z()},l(i){for(let n=0;n<e.length;n+=1)e[n].l(i);t=Z()},m(i,n){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(i,n);L(i,t,n),l=!0},p(i,n){n[0]&138412238|n[1]&1&&(o=i[22],se(),e=We(e,n,s,1,i,o,r,t.parentNode,Ye,Ce,t,Ue),ie())},i(i){if(!l){for(let n=0;n<o.length;n+=1)S(e[n]);l=!0}},o(i){for(let n=0;n<e.length;n+=1)O(e[n]);l=!1},d(i){for(let n=0;n<e.length;n+=1)e[n].d(i);i&&c(t)}}}function Qt(a){let e,r,t;return{c(){e=g("div"),r=g("div"),t=E("Loading note..."),this.h()},l(l){e=k(l,"DIV",{slot:!0});var o=m(e);r=k(o,"DIV",{class:!0});var s=m(r);t=D(s,"Loading note..."),s.forEach(c),o.forEach(c),this.h()},h(){f(r,"class","text-sm break-all overflow-hidden"),f(e,"slot","loading")},m(l,o){L(l,e,o),u(e,r),u(r,t)},p:z,d(l){l&&c(e)}}}function Wt(a){let e,r,t=a[23]+"",l;return{c(){e=g("div"),r=g("div"),l=E(t),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=m(e);r=k(s,"DIV",{class:!0});var i=m(r);l=D(i,t),i.forEach(c),s.forEach(c),this.h()},h(){f(r,"class","text-sm break-all overflow-hidden"),f(e,"slot","error")},m(o,s){L(o,e,s),u(e,r),u(r,l)},p(o,s){s[0]&8388608&&t!==(t=o[23]+"")&&B(l,t)},d(o){o&&c(e)}}}function Yt(a){let e,r,t;return{c(){e=g("div"),r=g("div"),t=E("Note not found"),this.h()},l(l){e=k(l,"DIV",{slot:!0});var o=m(e);r=k(o,"DIV",{class:!0});var s=m(r);t=D(s,"Note not found"),s.forEach(c),o.forEach(c),this.h()},h(){f(r,"class","text-sm break-all overflow-hidden"),f(e,"slot","nodata")},m(l,o){L(l,e,o),u(e,r),u(r,t)},p:z,d(l){l&&c(e)}}}function xt(a){let e,r;return e=new Nt({props:{queryKey:["hashtag-list","unique-hashtag-list",a[2].params.hashtag],filters:[{"#t":[a[2].params.hashtag],limit:40}],req:a[5],$$slots:{nodata:[Yt,({events:t})=>({22:t}),({events:t})=>[t?4194304:0]],error:[Wt,({error:t,events:l})=>({23:t,22:l}),({error:t,events:l})=>[(t?8388608:0)|(l?4194304:0)]],loading:[Qt,({events:t})=>({22:t}),({events:t})=>[t?4194304:0]],default:[Zt,({events:t})=>({22:t}),({events:t})=>[t?4194304:0]]},$$scope:{ctx:a}}}),{c(){W(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){x(e,t,l),r=!0},p(t,l){const o={};l[0]&4&&(o.queryKey=["hashtag-list","unique-hashtag-list",t[2].params.hashtag]),l[0]&4&&(o.filters=[{"#t":[t[2].params.hashtag],limit:40}]),l[0]&12582926|l[1]&4&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(S(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){ee(e,t)}}}function el(a){let e,r,t,l;return{c(){e=oe("svg"),r=oe("path"),t=oe("path"),l=oe("circle"),this.h()},l(o){e=ne(o,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var s=m(e);r=ne(s,"path",{d:!0,fill:!0}),m(r).forEach(c),t=ne(s,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),m(t).forEach(c),l=ne(s,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){f(r,"d","M12 2L3.5 20.5H20.5L12 2Z"),f(r,"fill","#FDD835"),f(t,"d","M12 15V17"),f(t,"stroke","black"),f(t,"stroke-width","2"),f(t,"stroke-linecap","round"),f(l,"cx","12"),f(l,"cy","11"),f(l,"r","1.5"),f(l,"fill","black"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(o,s){L(o,e,s),u(e,r),u(e,t),u(e,l)},d(o){o&&c(e)}}}function tl(a){let e,r,t;return{c(){e=oe("svg"),r=oe("circle"),t=oe("path"),this.h()},l(l){e=ne(l,"svg",{width:!0,height:!0,viewBox:!0,fill:!0,xmlns:!0});var o=m(e);r=ne(o,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),m(r).forEach(c),t=ne(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){f(r,"cx","12"),f(r,"cy","12"),f(r,"r","11"),f(r,"fill","#42B983"),f(t,"d","M6 18L18 6"),f(t,"stroke","white"),f(t,"stroke-width","2"),f(t,"stroke-linecap","round"),f(e,"width","24"),f(e,"height","24"),f(e,"viewBox","0 0 24 24"),f(e,"fill","none"),f(e,"xmlns","http://www.w3.org/2000/svg")},m(l,o){L(l,e,o),u(e,r),u(e,t)},d(l){l&&c(e)}}}function Ae(a){let e,r,t;return r=new nt({props:{"...":!0,stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30",width:"w-24"}}),{c(){e=g("div"),W(r.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=m(e);Y(r.$$.fragment,o),o.forEach(c),this.h()},h(){f(e,"class","fixed bottom-2 right-2")},m(l,o){L(l,e,o),x(r,e,null),t=!0},i(l){t||(S(r.$$.fragment,l),t=!0)},o(l){O(r.$$.fragment,l),t=!1},d(l){l&&c(e),ee(r)}}}function ll(a){let e,r,t,l,o,s,i,n,d,_,b,h,w,q,V,T,R,$,p,I,K,v,C,F,G,H,te;d=new dt({}),V=new _t({props:{relays:a[0],$$slots:{default:[xt]},$$scope:{ctx:a}}});function ce(y,N){return y[3]?tl:el}let ae=ce(a),M=ae(a),A=a[4]&&Ae();return{c(){e=g("meta"),t=g("meta"),l=g("meta"),o=g("meta"),i=g("meta"),n=P(),W(d.$$.fragment),_=P(),b=g("div"),h=g("div"),w=P(),q=g("main"),W(V.$$.fragment),T=P(),R=g("div"),$=g("div"),p=g("button"),I=E("←戻る"),K=P(),v=g("button"),M.c(),C=P(),F=g("div"),A&&A.c(),this.h()},l(y){const N=Xe("svelte-193nhrj",document.head);e=k(N,"META",{name:!0,content:!0}),t=k(N,"META",{prefix:!0}),l=k(N,"META",{property:!0,content:!0}),o=k(N,"META",{property:!0,content:!0}),i=k(N,"META",{property:!0,content:!0}),N.forEach(c),n=U(y),Y(d.$$.fragment,y),_=U(y),b=k(y,"DIV",{class:!0,"data-popup":!0});var j=m(b);h=k(j,"DIV",{class:!0}),m(h).forEach(c),j.forEach(c),w=U(y),q=k(y,"MAIN",{class:!0});var J=m(q);Y(V.$$.fragment,J),J.forEach(c),T=U(y),R=k(y,"DIV",{class:!0});var X=m(R);$=k(X,"DIV",{class:!0});var Q=m($);p=k(Q,"BUTTON",{type:!0,class:!0});var le=m(p);I=D(le,"←戻る"),le.forEach(c),K=U(Q),v=k(Q,"BUTTON",{type:!0,class:!0});var ue=m(v);M.l(ue),ue.forEach(c),Q.forEach(c),X.forEach(c),C=U(y),F=k(y,"DIV",{class:!0});var fe=m(F);A&&A.l(fe),fe.forEach(c),this.h()},h(){document.title="nostr-bookmark-viewer",f(e,"name","description"),f(e,"content",r="ぶくまびうあのハッシュタグ"+a[2].params.hashtag+"検索"),f(t,"prefix","og: https://ogp.me/ns#"),f(l,"property","og:title"),f(l,"content","nostr-bookmark-viewer3"),f(o,"property","og:description"),f(o,"content",s=`Nostrのブックマークを見たりできるやつ
ハッシュタグ`+a[2].params.hashtag),f(i,"property","og:image"),f(i,"content","https://nostr-bookmark-viewer3.vercel.app/img2.png"),f(h,"class","arrow bg-surface-100-800-token"),f(b,"class","card border border-purple-800 p-4 w-[22rem] shadow-xl z-20 break-all max-h-[80%] overflow-auto"),f(b,"data-popup","popupFeatured"),f(q,"class","container max-w-5xl px-1 mb-12"),f(p,"type","button"),f(p,"class","btn variant-filled-primary"),f(v,"type","button"),f(v,"class","btn variant-filled-primary"),f($,"class","btn-group py-0.5 variant-filled-primary w-screen justify-center rounded-none"),f(R,"class","fixed bottom-0 z-10 w-screen"),f(F,"class","container max-w-5xl mx-auto z-10")},m(y,N){u(document.head,e),u(document.head,t),u(document.head,l),u(document.head,o),u(document.head,i),L(y,n,N),x(d,y,N),L(y,_,N),L(y,b,N),u(b,h),L(y,w,N),L(y,q,N),x(V,q,null),L(y,T,N),L(y,R,N),u(R,$),u($,p),u(p,I),u($,K),u($,v),M.m(v,null),L(y,C,N),L(y,F,N),A&&A.m(F,null),G=!0,H||(te=[re(p,"click",a[15]),re(v,"click",a[16])],H=!0)},p(y,N){(!G||N[0]&4&&r!==(r="ぶくまびうあのハッシュタグ"+y[2].params.hashtag+"検索"))&&f(e,"content",r),(!G||N[0]&4&&s!==(s=`Nostrのブックマークを見たりできるやつ
ハッシュタグ`+y[2].params.hashtag))&&f(o,"content",s);const j={};N[0]&1&&(j.relays=y[0]),N[0]&14|N[1]&4&&(j.$$scope={dirty:N,ctx:y}),V.$set(j),ae!==(ae=ce(y))&&(M.d(1),M=ae(y),M&&(M.c(),M.m(v,null))),y[4]?A?N[0]&16&&S(A,1):(A=Ae(),A.c(),S(A,1),A.m(F,null)):A&&(se(),O(A,1,1,()=>{A=null}),ie())},i(y){G||(S(d.$$.fragment,y),S(V.$$.fragment,y),S(A),G=!0)},o(y){O(d.$$.fragment,y),O(V.$$.fragment,y),O(A),G=!1},d(y){c(e),c(t),c(l),c(o),c(i),y&&c(n),ee(d,y),y&&c(_),y&&c(b),y&&c(w),y&&c(q),ee(V),y&&c(T),y&&c(R),M.d(),y&&c(C),y&&c(F),A&&A.d(),H=!1,Ge(te)}}}const rl=a=>a[0]==="content-warning";function al(a,e,r){let t,l,o;de(a,tt,v=>r(2,t=v)),de(a,Ne,v=>r(3,l=v)),de(a,st,v=>r(4,o=v));let s,i=!0;Ze(()=>{const v=localStorage.getItem("config");if(r(0,s=[...at]),v){const C=JSON.parse(v);r(0,s=C.searchRelays),r(1,i=C.URLPreview),C.loadEvent,C.writeRelays,s.length==0}});const n=ot(),d={ref:ht,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function _(v){console.log("click");const C={type:"component",title:"Event Json",value:{note:v},component:d};qe.trigger(C)}const b={ref:pt,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function h(v,C){console.log(v);const F={type:"component",value:{metadata:v,pubkey:C},component:b};qe.trigger(F)}return[s,i,t,l,o,n,_,h,v=>{_(v)},v=>{_(v)},v=>{_(v)},(v,C)=>{h(v,C.pubkey)},v=>{_(v)},(v,C)=>{h(v,C[1])},v=>{_(v)},()=>{history.back()},()=>{Qe(Ne,l=!l,l)}]}class fl extends je{constructor(e){super(),Fe(this,e,al,ll,ze,{},null,[-1,-1])}}export{fl as component};
