import{s as Le,r as be,f as b,g as k,h as V,d as c,j as u,i as T,x as ke,y as Ce,z as Ee,C as Q,D as Te,E as Se,a as w,c as N,w as C,F as z,G as we,I as it,J as Y,K as at,L as De,M as Oe,N as Ie,A as tt,l as ie,e as fe,O as H,m as ae,P as ce,o as ot,Q as lt,n as nt,u as ut}from"../chunks/scheduler.9fee0ef1.js";import{S as Ne,i as Pe,a as q,t as J,g as rt,c as st,b as le,d as ne,m as re,e as se}from"../chunks/index.9deb4333.js";import{R as ze,n as qe,e as xe,P as ct,t as te,d as ft,g as dt}from"../chunks/navigation.8a69eadb.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.28e18f2f.js";import{T as ht}from"../chunks/Toast.64409788.js";function mt(s){let e,t,n;const l=s[15].default,r=be(l,s,s[14],null);return{c(){e=b("div"),r&&r.c(),this.h()},l(i){e=k(i,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-multiselectable":!0,"aria-label":!0});var o=V(e);r&&r.l(o),o.forEach(c),this.h()},h(){u(e,"class",t="tree "+s[1]),u(e,"data-testid","tree"),u(e,"role","tree"),u(e,"aria-multiselectable","true"),u(e,"aria-label",s[0])},m(i,o){T(i,e,o),r&&r.m(e,null),n=!0},p(i,[o]){r&&r.p&&(!n||o&16384)&&ke(r,l,i,i[14],n?Ee(l,i[14],o,null):Ce(i[14]),null),(!n||o&2&&t!==(t="tree "+i[1]))&&u(e,"class",t),(!n||o&1)&&u(e,"aria-label",i[0])},i(i){n||(q(r,i),n=!0)},o(i){J(r,i),n=!1},d(i){i&&c(e),r&&r.d(i)}}}function gt(s,e,t){let n,{$$slots:l={},$$scope:r}=e,{width:i="w-full"}=e,{spacing:o="space-y-1"}=e,{padding:v="py-4 px-4"}=e,{indent:p="ml-4"}=e,{hover:d="hover:variant-soft"}=e,{rounded:E="rounded-container-token"}=e,{caretOpen:y="rotate-180"}=e,{caretClosed:f=""}=e,{hyphenOpacity:a="opacity-10"}=e,{regionSummary:h=""}=e,{regionSymbol:x=""}=e,{regionChildren:S=""}=e,{labelledby:P=""}=e;return Q("padding",v),Q("indent",p),Q("hover",d),Q("rounded",E),Q("caretOpen",y),Q("caretClosed",f),Q("hyphenOpacity",a),Q("regionSummary",h),Q("regionSymbol",x),Q("regionChildren",S),s.$$set=g=>{t(16,e=Te(Te({},e),Se(g))),"width"in g&&t(2,i=g.width),"spacing"in g&&t(3,o=g.spacing),"padding"in g&&t(4,v=g.padding),"indent"in g&&t(5,p=g.indent),"hover"in g&&t(6,d=g.hover),"rounded"in g&&t(7,E=g.rounded),"caretOpen"in g&&t(8,y=g.caretOpen),"caretClosed"in g&&t(9,f=g.caretClosed),"hyphenOpacity"in g&&t(10,a=g.hyphenOpacity),"regionSummary"in g&&t(11,h=g.regionSummary),"regionSymbol"in g&&t(12,x=g.regionSymbol),"regionChildren"in g&&t(13,S=g.regionChildren),"labelledby"in g&&t(0,P=g.labelledby),"$$scope"in g&&t(14,r=g.$$scope)},s.$$.update=()=>{t(1,n=`${i} ${o} ${e.class??""}`)},e=Se(e),[P,n,i,o,v,p,d,E,y,f,a,h,x,S,r,l]}class _t extends Ne{constructor(e){super(),Pe(this,e,gt,mt,Le,{width:2,spacing:3,padding:4,indent:5,hover:6,rounded:7,caretOpen:8,caretClosed:9,hyphenOpacity:10,regionSummary:11,regionSymbol:12,regionChildren:13,labelledby:0})}}const pt=s=>({}),Fe=s=>({}),yt=s=>({}),Ge=s=>({});function vt(s){let e,t,n;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(l){e=Ie(l,"svg",{xmlns:!0,viewBox:!0,class:!0});var r=V(e);t=Ie(r,"path",{d:!0}),V(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"d","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"class",n="w-3 "+s[2])},m(l,r){T(l,e,r),C(e,t)},p(l,r){r&4&&n!==(n="w-3 "+l[2])&&u(e,"class",n)},d(l){l&&c(e)}}}function bt(s){let e,t;return{c(){e=Oe("svg"),t=Oe("path"),this.h()},l(n){e=Ie(n,"svg",{xmlns:!0,viewBox:!0});var l=V(e);t=Ie(l,"path",{d:!0}),V(t).forEach(c),l.forEach(c),this.h()},h(){u(t,"d","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512")},m(n,l){T(n,e,l),C(e,t)},p:tt,d(n){n&&c(e)}}}function Je(s){let e,t;const n=s[21].lead,l=be(n,s,s[20],Ge);return{c(){e=b("div"),l&&l.c(),this.h()},l(r){e=k(r,"DIV",{class:!0});var i=V(e);l&&l.l(i),i.forEach(c),this.h()},h(){u(e,"class","tree-item-lead")},m(r,i){T(r,e,i),l&&l.m(e,null),t=!0},p(r,i){l&&l.p&&(!t||i&1048576)&&ke(l,n,r,r[20],t?Ee(n,r[20],i,yt):Ce(r[20]),Ge)},i(r){t||(q(l,r),t=!0)},o(r){J(l,r),t=!1},d(r){r&&c(e),l&&l.d(r)}}}function kt(s){let e,t,n,l,r,i,o,v,p,d,E,y,f,a,h,x;function S(O,_){return O[6].children?bt:vt}let P=S(s),g=P(s),B=s[6].lead&&Je(s);const K=s[21].default,U=be(K,s,s[20],null),F=s[21].children,A=be(F,s,s[20],Fe);return{c(){e=b("details"),t=b("summary"),n=b("div"),g.c(),r=w(),B&&B.c(),i=w(),o=b("div"),U&&U.c(),d=w(),E=b("div"),A&&A.c(),this.h()},l(O){e=k(O,"DETAILS",{class:!0,"data-testid":!0});var _=V(e);t=k(_,"SUMMARY",{class:!0,role:!0,"aria-selected":!0,"aria-expanded":!0});var R=V(t);n=k(R,"DIV",{class:!0});var M=V(n);g.l(M),M.forEach(c),r=N(R),B&&B.l(R),i=N(R),o=k(R,"DIV",{class:!0});var D=V(o);U&&U.l(D),D.forEach(c),R.forEach(c),d=N(_),E=k(_,"DIV",{class:!0,role:!0});var I=V(E);A&&A.l(I),I.forEach(c),_.forEach(c),this.h()},h(){u(n,"class",l="tree-summary-symbol "+s[3]),u(o,"class","tree-item-content"),u(t,"class",v="tree-item-summary "+s[4]),u(t,"role","treeitem"),u(t,"aria-selected","false"),u(t,"aria-expanded",p=s[6].children?s[0]:void 0),u(E,"class",y="tree-item-children "+s[1]),u(E,"role","group"),u(e,"class",f="tree-item "+s[5]),u(e,"data-testid","tree-item")},m(O,_){T(O,e,_),C(e,t),C(t,n),g.m(n,null),C(t,r),B&&B.m(t,null),C(t,i),C(t,o),U&&U.m(o,null),C(e,d),C(e,E),A&&A.m(E,null),e.open=s[0],a=!0,h||(x=[z(t,"click",s[22]),z(t,"keydown",s[23]),z(t,"keyup",s[24]),z(e,"toggle",s[25])],h=!0)},p(O,[_]){P===(P=S(O))&&g?g.p(O,_):(g.d(1),g=P(O),g&&(g.c(),g.m(n,null))),(!a||_&8&&l!==(l="tree-summary-symbol "+O[3]))&&u(n,"class",l),O[6].lead?B?(B.p(O,_),_&64&&q(B,1)):(B=Je(O),B.c(),q(B,1),B.m(t,i)):B&&(rt(),J(B,1,1,()=>{B=null}),st()),U&&U.p&&(!a||_&1048576)&&ke(U,K,O,O[20],a?Ee(K,O[20],_,null):Ce(O[20]),null),(!a||_&16&&v!==(v="tree-item-summary "+O[4]))&&u(t,"class",v),(!a||_&65&&p!==(p=O[6].children?O[0]:void 0))&&u(t,"aria-expanded",p),A&&A.p&&(!a||_&1048576)&&ke(A,F,O,O[20],a?Ee(F,O[20],_,pt):Ce(O[20]),Fe),(!a||_&2&&y!==(y="tree-item-children "+O[1]))&&u(E,"class",y),(!a||_&32&&f!==(f="tree-item "+O[5]))&&u(e,"class",f),_&1&&(e.open=O[0])},i(O){a||(q(B),q(U,O),q(A,O),a=!0)},o(O){J(B),J(U,O),J(A,O),a=!1},d(O){O&&c(e),g.d(),B&&B.d(),U&&U.d(O),A&&A.d(O),h=!1,we(x)}}}const Ct="",Et="list-none flex items-center cursor-pointer",Tt="fill-current w-3 text-center transition-transform duration-[200ms]",St="";function Ot(s,e,t){let n,l,r,i,o,v,p,{$$slots:d={},$$scope:E}=e;const y=it(d);let{open:f=!1}=e,{spacing:a="space-x-4"}=e,{padding:h=Y("padding")}=e,{indent:x=Y("indent")}=e,{hover:S=Y("hover")}=e,{rounded:P=Y("rounded")}=e,{caretOpen:g=Y("caretOpen")}=e,{caretClosed:B=Y("caretClosed")}=e,{hyphenOpacity:K=Y("hyphenOpacity")}=e,{regionSummary:U=""}=e,{regionSymbol:F=Y("regionSymbol")}=e,{regionChildren:A=Y("regionChildren")}=e;const O=at();function _(I){De.call(this,s,I)}function R(I){De.call(this,s,I)}function M(I){De.call(this,s,I)}function D(){f=this.open,t(0,f)}return s.$$set=I=>{t(27,e=Te(Te({},e),Se(I))),"open"in I&&t(0,f=I.open),"spacing"in I&&t(7,a=I.spacing),"padding"in I&&t(8,h=I.padding),"indent"in I&&t(9,x=I.indent),"hover"in I&&t(10,S=I.hover),"rounded"in I&&t(11,P=I.rounded),"caretOpen"in I&&t(12,g=I.caretOpen),"caretClosed"in I&&t(13,B=I.caretClosed),"hyphenOpacity"in I&&t(14,K=I.hyphenOpacity),"regionSummary"in I&&t(15,U=I.regionSummary),"regionSymbol"in I&&t(16,F=I.regionSymbol),"regionChildren"in I&&t(17,A=I.regionChildren),"$$scope"in I&&t(20,E=I.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&O("toggle",{open:f}),s.$$.dirty&12289&&t(18,n=f?g:B),t(5,l=`${Ct} ${e.class??""}`),s.$$.dirty&36224&&t(4,r=`${Et} ${a} ${P} ${h} ${S} ${U}`),s.$$.dirty&262144&&t(19,o=`${n}`),s.$$.dirty&589824&&t(3,i=`${Tt} ${o} ${F}`),s.$$.dirty&16384&&t(2,v=`${K}`),s.$$.dirty&131584&&t(1,p=`${St} ${x} ${A}`)},e=Se(e),[f,p,v,i,r,l,y,a,h,x,S,P,g,B,K,U,F,A,n,o,E,d,_,R,M,D]}class Ve extends Ne{constructor(e){super(),Pe(this,e,Ot,kt,Le,{open:0,spacing:7,padding:8,indent:9,hover:10,rounded:11,caretOpen:12,caretClosed:13,hyphenOpacity:14,regionSummary:15,regionSymbol:16,regionChildren:17})}}function Ke(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function We(s,e,t){const n=s.slice();return n[23]=e[t],n[25]=t,n}function Qe(s){let e,t=xe(s[1]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Ye(We(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=fe()},l(l){for(let r=0;r<n.length;r+=1)n[r].l(l);e=fe()},m(l,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(l,r);T(l,e,r)},p(l,r){if(r&514){t=xe(l[1]);let i;for(i=0;i<t.length;i+=1){const o=We(l,t,i);n[i]?n[i].p(o,r):(n[i]=Ye(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){l&&c(e),lt(n,l)}}}function Ye(s){let e,t,n="delete",l,r=s[23]+"",i,o,v,p,d;function E(){return s[14](s[25])}return{c(){e=b("li"),t=b("button"),t.textContent=n,l=w(),i=ie(r),o=w(),this.h()},l(y){e=k(y,"LI",{class:!0});var f=V(e);t=k(f,"BUTTON",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-tnp5qv"&&(t.textContent=n),l=N(f),i=ae(f,r),o=N(f),f.forEach(c),this.h()},h(){u(t,"class","py-1 btn variant-filled-primary rounded-full"),e.value=v=s[23],u(e,"class","pb-1 px-5")},m(y,f){T(y,e,f),C(e,t),C(e,l),C(e,i),C(e,o),p||(d=z(t,"click",E),p=!0)},p(y,f){s=y,f&2&&r!==(r=s[23]+"")&&nt(i,r),f&2&&v!==(v=s[23])&&(e.value=v)},d(y){y&&c(e),p=!1,d()}}}function It(s){let e;return{c(){e=ie("詳細設定")},l(t){e=ae(t,"詳細設定")},m(t,n){T(t,e,n)},d(t){t&&c(e)}}}function xt(s){let e;return{c(){e=ie("検索用リレー")},l(t){e=ae(t,"検索用リレー")},m(t,n){T(t,e,n)},d(t){t&&c(e)}}}function Xe(s){let e,t=xe(s[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=Ze(Ke(s,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=fe()},l(l){for(let r=0;r<n.length;r+=1)n[r].l(l);e=fe()},m(l,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(l,r);T(l,e,r)},p(l,r){if(r&2064){t=xe(l[4]);let i;for(i=0;i<t.length;i+=1){const o=Ke(l,t,i);n[i]?n[i].p(o,r):(n[i]=Ze(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){l&&c(e),lt(n,l)}}}function Ze(s){let e,t,n="delete",l,r=s[23]+"",i,o,v,p,d;function E(){return s[17](s[25])}return{c(){e=b("li"),t=b("button"),t.textContent=n,l=w(),i=ie(r),o=w(),this.h()},l(y){e=k(y,"LI",{class:!0});var f=V(e);t=k(f,"BUTTON",{class:!0,"data-svelte-h":!0}),H(t)!=="svelte-10fmxvy"&&(t.textContent=n),l=N(f),i=ae(f,r),o=N(f),f.forEach(c),this.h()},h(){u(t,"class","py-1 btn variant-filled-primary rounded-full"),e.value=v=s[23],u(e,"class","pb-1 px-5")},m(y,f){T(y,e,f),C(e,t),C(e,l),C(e,i),C(e,o),p||(d=z(t,"click",E),p=!0)},p(y,f){s=y,f&16&&r!==(r=s[23]+"")&&nt(i,r),f&16&&v!==(v=s[23])&&(e.value=v)},d(y){y&&c(e),p=!1,d()}}}function Lt(s){let e,t="デフォルトに戻す",n,l,r,i,o,v="add relay",p,d,E,y,f,a=s[4].length>0&&Xe(s);return{c(){e=b("button"),e.textContent=t,n=w(),l=b("div"),r=b("input"),i=w(),o=b("button"),o.textContent=v,p=w(),d=b("ul"),E=ie(`リレーリスト
            `),a&&a.c(),this.h()},l(h){e=k(h,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(e)!=="svelte-3g2kz0"&&(e.textContent=t),n=N(h),l=k(h,"DIV",{class:!0});var x=V(l);r=k(x,"INPUT",{class:!0,type:!0,placeholder:!0}),i=N(x),o=k(x,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-c6azqe"&&(o.textContent=v),x.forEach(c),p=N(h),d=k(h,"UL",{class:!0});var S=V(d);E=ae(S,`リレーリスト
            `),a&&a.l(S),S.forEach(c),this.h()},h(){u(e,"type","button"),u(e,"class","btn variant-filled-surface mb-3 mt-1"),u(r,"class","px-2"),u(r,"type","text"),u(r,"placeholder","wss://..."),r.disabled=s[3],u(o,"class","py-1 btn variant-filled"),u(l,"class","relay input-group input-group-divider grid-cols-[1fr_auto] h-12"),u(d,"class","border-solid border-2 border-surface-500/25 mx-8 my-1")},m(h,x){T(h,e,x),T(h,n,x),T(h,l,x),C(l,r),ce(r,s[2]),C(l,i),C(l,o),T(h,p,x),T(h,d,x),C(d,E),a&&a.m(d,null),y||(f=[z(e,"click",s[15]),z(r,"input",s[16]),z(o,"click",Bt)],y=!0)},p(h,x){x&8&&(r.disabled=h[3]),x&4&&r.value!==h[2]&&ce(r,h[2]),h[4].length>0?a?a.p(h,x):(a=Xe(h),a.c(),a.m(d,null)):a&&(a.d(1),a=null)},d(h){h&&(c(e),c(n),c(l),c(p),c(d)),a&&a.d(),y=!1,we(f)}}}function wt(s){let e;return{c(){e=ie("軽量用設定")},l(t){e=ae(t,"軽量用設定")},m(t,n){T(t,e,n)},d(t){t&&c(e)}}}function Nt(s){let e,t="デフォルトに戻す",n,l,r,i,o,v="自動的に画像を読み込む、URLプレビューを表示する",p,d,E,y,f,a="イベントの内容を自動で読み込む",h,x;return{c(){e=b("button"),e.textContent=t,n=w(),l=b("label"),r=b("input"),i=w(),o=b("p"),o.textContent=v,p=w(),d=b("label"),E=b("input"),y=w(),f=b("p"),f.textContent=a,this.h()},l(S){e=k(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(e)!=="svelte-rtolm0"&&(e.textContent=t),n=N(S),l=k(S,"LABEL",{class:!0});var P=V(l);r=k(P,"INPUT",{class:!0,type:!0}),i=N(P),o=k(P,"P",{"data-svelte-h":!0}),H(o)!=="svelte-1lztin3"&&(o.textContent=v),P.forEach(c),p=N(S),d=k(S,"LABEL",{class:!0});var g=V(d);E=k(g,"INPUT",{class:!0,type:!0}),y=N(g),f=k(g,"P",{"data-svelte-h":!0}),H(f)!=="svelte-1qoym74"&&(f.textContent=a),g.forEach(c),this.h()},h(){u(e,"type","button"),u(e,"class","btn variant-filled-surface mb-3 mt-1"),u(r,"class","checkbox"),u(r,"type","checkbox"),u(l,"class","flex items-center space-x-2"),u(E,"class","checkbox"),u(E,"type","checkbox"),u(d,"class","flex items-center space-x-2")},m(S,P){T(S,e,P),T(S,n,P),T(S,l,P),C(l,r),r.checked=s[5],C(l,i),C(l,o),T(S,p,P),T(S,d,P),C(d,E),E.checked=s[6],C(d,y),C(d,f),h||(x=[z(e,"click",s[18]),z(r,"change",s[19]),z(E,"change",s[20])],h=!0)},p(S,P){P&32&&(r.checked=S[5]),P&64&&(E.checked=S[6])},d(S){S&&(c(e),c(n),c(l),c(p),c(d)),h=!1,we(x)}}}function Pt(s){let e,t="nextボタンをおしたときに設定が保存されます",n,l,r="とりあえずnprofileの方だけに適応",i,o,v="(naddrのほうはデフォルトのまま)",p,d,E,y,f;return d=new Ve({props:{$$slots:{children:[Lt],default:[xt]},$$scope:{ctx:s}}}),y=new Ve({props:{$$slots:{children:[Nt],default:[wt]},$$scope:{ctx:s}}}),{c(){e=b("p"),e.textContent=t,n=w(),l=b("p"),l.textContent=r,i=w(),o=b("p"),o.textContent=v,p=w(),le(d.$$.fragment),E=w(),le(y.$$.fragment)},l(a){e=k(a,"P",{"data-svelte-h":!0}),H(e)!=="svelte-1rj39i3"&&(e.textContent=t),n=N(a),l=k(a,"P",{"data-svelte-h":!0}),H(l)!=="svelte-ritfjv"&&(l.textContent=r),i=N(a),o=k(a,"P",{"data-svelte-h":!0}),H(o)!=="svelte-1r6vtq6"&&(o.textContent=v),p=N(a),ne(d.$$.fragment,a),E=N(a),ne(y.$$.fragment,a)},m(a,h){T(a,e,h),T(a,n,h),T(a,l,h),T(a,i,h),T(a,o,h),T(a,p,h),re(d,a,h),T(a,E,h),re(y,a,h),f=!0},p(a,h){const x={};h&134217756&&(x.$$scope={dirty:h,ctx:a}),d.$set(x);const S={};h&134217824&&(S.$$scope={dirty:h,ctx:a}),y.$set(S)},i(a){f||(q(d.$$.fragment,a),q(y.$$.fragment,a),f=!0)},o(a){J(d.$$.fragment,a),J(y.$$.fragment,a),f=!1},d(a){a&&(c(e),c(n),c(l),c(i),c(o),c(p),c(E)),se(d,a),se(y,a)}}}function Ut(s){let e,t;return e=new Ve({props:{$$slots:{children:[Pt],default:[It]},$$scope:{ctx:s}}}),{c(){le(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,l){re(e,n,l),t=!0},p(n,l){const r={};l&134217852&&(r.$$scope={dirty:l,ctx:n}),e.$set(r)},i(n){t||(q(e.$$.fragment,n),t=!0)},o(n){J(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function $e(s){let e,t,n;return t=new ct({props:{"...":!0,stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30",width:"w-24"}}),{c(){e=b("div"),le(t.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var r=V(e);ne(t.$$.fragment,r),r.forEach(c),this.h()},h(){u(e,"class","block fixed bottom-2 right-2")},m(l,r){T(l,e,r),re(t,e,null),n=!0},i(l){n||(q(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){l&&c(e),se(t)}}}function Rt(s){let e,t,n,l="ぶくまびうあ",r,i,o='<ul class="list px-4"><li><span class="badge bg-primary-500"></span><span>kind:30001に保存されているリストを取得、表示します。</span></li> <li><span class="badge bg-primary-500"></span> <span>ブックマークを取得する公開鍵を設定し、接続するリレーをリレーリストに追加してください。</span></li></ul>',v,p,d,E="公開鍵(public key)",y,f,a,h="use NIP-07 <br/>Extension",x,S,P,g,B=`※use NIP-07 Extension:
    拡張機能に有効なリレー(write)を設定している場合リレーリストを上書きします`,K,U,F,A=`<span class="font-medium mr-1">リレー(relay)</span>
    URLを入力したら<span class="rounded-full variant-filled p-1 m-1">add relay</span>をクリックしてください`,O,_,R,M,D,I="add relay",Ue,X,Re,he,Z,me,W,Ae="Next →",ge,_e,pe,$,He=`Github: <a href="https://github.com/TsukemonoGit/nostr-bookmark-viewer3" target="_blank" rel="noopener noreferrer">TsukemonoGit/nostr-bookmark-viewer3</a> <br/>
  Author:
  <a href="https://nostx.shino3.net/npub1sjcvg64knxkrt6ev52rywzu9uzqakgy8ehhk8yezxmpewsthst6sw3jqcw" target="_blank" rel="noopener noreferrer">mono(Nostr)</a>`,ye,oe,de,Be,je;e=new ht({});let G=s[1].length>0&&Qe(s);Z=new _t({props:{$$slots:{default:[Ut]},$$scope:{ctx:s}}});let j=s[3]&&$e();return{c(){le(e.$$.fragment),t=w(),n=b("h4"),n.textContent=l,r=w(),i=b("div"),i.innerHTML=o,v=w(),p=b("div"),d=b("p"),d.textContent=E,y=w(),f=b("div"),a=b("button"),a.innerHTML=h,x=w(),S=b("input"),P=w(),g=b("div"),g.textContent=B,K=w(),U=b("div"),F=b("p"),F.innerHTML=A,O=w(),_=b("div"),R=b("input"),M=w(),D=b("button"),D.textContent=I,Ue=w(),X=b("ul"),Re=ie(`リレーリスト
    `),G&&G.c(),he=w(),le(Z.$$.fragment),me=w(),W=b("button"),W.textContent=Ae,ge=w(),_e=b("hr"),pe=w(),$=b("div"),$.innerHTML=He,ye=w(),j&&j.c(),oe=fe(),this.h()},l(m){ne(e.$$.fragment,m),t=N(m),n=k(m,"H4",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-16c0o95"&&(n.textContent=l),r=N(m),i=k(m,"DIV",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-9m4l72"&&(i.innerHTML=o),v=N(m),p=k(m,"DIV",{class:!0});var L=V(p);d=k(L,"P",{class:!0,"data-svelte-h":!0}),H(d)!=="svelte-wysn2h"&&(d.textContent=E),y=N(L),f=k(L,"DIV",{class:!0});var ee=V(f);a=k(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),H(a)!=="svelte-1hz24r2"&&(a.innerHTML=h),x=N(ee),S=k(ee,"INPUT",{type:!0,class:!0,placeholder:!0}),ee.forEach(c),P=N(L),g=k(L,"DIV",{class:!0,"data-svelte-h":!0}),H(g)!=="svelte-zqdljx"&&(g.textContent=B),L.forEach(c),K=N(m),U=k(m,"DIV",{class:!0});var ue=V(U);F=k(ue,"P",{"data-svelte-h":!0}),H(F)!=="svelte-1yajjfg"&&(F.innerHTML=A),O=N(ue),_=k(ue,"DIV",{class:!0});var ve=V(_);R=k(ve,"INPUT",{class:!0,type:!0,placeholder:!0}),M=N(ve),D=k(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),H(D)!=="svelte-1b0yryc"&&(D.textContent=I),ve.forEach(c),Ue=N(ue),X=k(ue,"UL",{class:!0});var Me=V(X);Re=ae(Me,`リレーリスト
    `),G&&G.l(Me),Me.forEach(c),ue.forEach(c),he=N(m),ne(Z.$$.fragment,m),me=N(m),W=k(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(W)!=="svelte-1wo8dyr"&&(W.textContent=Ae),ge=N(m),_e=k(m,"HR",{}),pe=N(m),$=k(m,"DIV",{"data-svelte-h":!0}),H($)!=="svelte-7ydtvi"&&($.innerHTML=He),ye=N(m),j&&j.l(m),oe=fe(),this.h()},h(){u(n,"class","h4"),u(i,"class","py-2 border-solid border-2 border-surface-500/25 mx-4"),u(d,"class","font-medium"),u(a,"class","py-1 btn variant-filled-secondary"),u(S,"type","text"),u(S,"class","px-2 text-ellipsis"),u(S,"placeholder","npub1..."),u(f,"class","input-group input-group-divider grid-cols-[auto_1fr]"),u(g,"class","text-sm mx-8"),u(p,"class","container my-4"),u(R,"class","px-2"),u(R,"type","text"),u(R,"placeholder","wss://..."),R.disabled=s[3],u(D,"class","py-1 btn variant-filled"),u(_,"class","relay input-group input-group-divider grid-cols-[1fr_auto] h-12"),u(X,"class","border-solid border-2 border-surface-500/25 mx-8 my-1"),u(U,"class","container py-4"),u(W,"type","button"),u(W,"class","btn variant-filled-secondary rounded-full my-5")},m(m,L){re(e,m,L),T(m,t,L),T(m,n,L),T(m,r,L),T(m,i,L),T(m,v,L),T(m,p,L),C(p,d),C(p,y),C(p,f),C(f,a),C(f,x),C(f,S),ce(S,s[0]),C(p,P),C(p,g),T(m,K,L),T(m,U,L),C(U,F),C(U,O),C(U,_),C(_,R),ce(R,s[2]),C(_,M),C(_,D),C(U,Ue),C(U,X),C(X,Re),G&&G.m(X,null),T(m,he,L),re(Z,m,L),T(m,me,L),T(m,W,L),T(m,ge,L),T(m,_e,L),T(m,pe,L),T(m,$,L),T(m,ye,L),j&&j.m(m,L),T(m,oe,L),de=!0,Be||(je=[z(a,"click",s[7]),z(S,"input",s[12]),z(R,"input",s[13]),z(D,"click",s[8]),z(W,"click",s[10])],Be=!0)},p(m,[L]){L&1&&S.value!==m[0]&&ce(S,m[0]),(!de||L&8)&&(R.disabled=m[3]),L&4&&R.value!==m[2]&&ce(R,m[2]),m[1].length>0?G?G.p(m,L):(G=Qe(m),G.c(),G.m(X,null)):G&&(G.d(1),G=null);const ee={};L&134217852&&(ee.$$scope={dirty:L,ctx:m}),Z.$set(ee),m[3]?j?L&8&&q(j,1):(j=$e(),j.c(),q(j,1),j.m(oe.parentNode,oe)):j&&(rt(),J(j,1,1,()=>{j=null}),st())},i(m){de||(q(e.$$.fragment,m),q(Z.$$.fragment,m),q(j),de=!0)},o(m){J(e.$$.fragment,m),J(Z.$$.fragment,m),J(j),de=!1},d(m){m&&(c(t),c(n),c(r),c(i),c(v),c(p),c(K),c(U),c(he),c(me),c(W),c(ge),c(_e),c(pe),c($),c(ye),c(oe)),se(e,m),G&&G.d(),se(Z,m),j&&j.d(m),Be=!1,we(je)}}}async function et(s){let e,t;if(s.startsWith("ws://"))e=s.slice(5),t=new URL("http://"+e);else if(s.startsWith("wss://"))e=s.slice(6),t=new URL("https://"+e);else return console.log("test"),!1;let n=new Headers;n.set("Accept","application/nostr+json");try{let l=await fetch(t,{headers:n});console.log(l),console.log(l.status);try{console.log(await l.json())}catch{}return!!l.ok}catch(l){return console.log(l),!1}}function Bt(){}function Mt(s,e,t){let n,l=[],r,i=!1,o,v=[],p,d;ot(async()=>{const _=localStorage.getItem("config");if(_){const M=JSON.parse(_);t(4,v=M.searchRelays),t(5,p=M.URLPreview),t(6,d=M.loadEvent)}else t(4,v=ze),t(5,p=!0),t(6,d=!0);const R=localStorage.getItem("nprofile");if(R)try{const{type:M,data:D}=qe.decode(R);console.log(M),console.log(D),M==="nprofile"&&D.relays&&(t(0,n=D.pubkey),t(1,l=D.relays))}catch{console.log("nprofileのデコードに失敗しました")}});async function E(){try{t(0,n=await window.nostr.getPublicKey())}catch(_){console.log(_),o={message:"failed to get pubkey",timeout:3e3,background:"variant-filled-error"},te.trigger(o);return}try{t(3,i=!0);const _=await window.nostr.getRelays(),R=Object.keys(_).filter(D=>_[D].write===!0),M=[];for(const D of R)console.log(D),M.includes(D)||await et(D)&&M.push(D);M.length>0&&t(1,l=M),t(3,i=!1)}catch(_){console.log(_),o={message:"failed to get relays",timeout:3e3,background:"variant-filled-error"},te.trigger(o)}}async function y(){if(!i){if(t(3,i=!0),t(2,r=r.trim()),l.includes(r))o={message:"already exists",timeout:3e3,background:"variant-filled"},te.trigger(o);else try{if(await et(r))l.push(r),t(1,l);else throw t(3,i=!1),new Error}catch{o={message:"Please check relay URL",timeout:3e3,background:"variant-filled-error"},te.trigger(o)}t(2,r=""),t(3,i=!1)}}function f(_){l.splice(_,1),t(1,l)}async function a(){t(3,i=!0),x();let _;try{_=ft(n)}catch{o={message:"Please check pubkey",timeout:3e3,background:"variant-filled-error"},te.trigger(o),t(3,i=!1);return}if(l.length<1){o={message:"Please add relay",timeout:3e3,background:"variant-filled-error"},te.trigger(o),t(3,i=!1);return}const R={pubkey:_,relays:l};try{const M=qe.nprofileEncode(R);localStorage.setItem("nprofile",M),t(3,i=!1),await dt("/p/"+M)}catch{o={message:"nprofileエンコードに失敗しました",timeout:3e3,background:"variant-filled-error"},te.trigger(o),t(3,i=!1);return}}function h(_){v.splice(_,1),t(4,v)}function x(){if(v)try{const R=JSON.stringify({searchRelays:v,URLPreview:p,loadEvent:d});localStorage.setItem("config",R)}catch(_){console.log(_)}}function S(){n=this.value,t(0,n)}function P(){r=this.value,t(2,r)}const g=_=>f(_),B=()=>{t(4,v=ze)};function K(){r=this.value,t(2,r)}const U=_=>h(_),F=()=>{t(5,p=!0),t(6,d=!0)};function A(){p=this.checked,t(5,p)}function O(){d=this.checked,t(6,d)}return[n,l,r,i,v,p,d,E,y,f,a,h,S,P,g,B,K,U,F,A,O]}class Dt extends Ne{constructor(e){super(),Pe(this,e,Mt,Rt,Le,{})}}function Vt(s){let e,t,n,l,r,i,o,v,p="nostr-bookmark-viewer3(v4)",d,E,y;return E=new Dt({}),{c(){e=b("meta"),t=b("meta"),n=b("meta"),l=b("meta"),r=b("meta"),i=w(),o=b("main"),v=b("h1"),v.textContent=p,d=w(),le(E.$$.fragment),this.h()},l(f){const a=ut("svelte-1ive41a",document.head);e=k(a,"META",{name:!0,content:!0}),t=k(a,"META",{prefix:!0}),n=k(a,"META",{property:!0,content:!0}),l=k(a,"META",{property:!0,content:!0}),r=k(a,"META",{property:!0,content:!0}),a.forEach(c),i=N(f),o=k(f,"MAIN",{class:!0});var h=V(o);v=k(h,"H1",{class:!0,"data-svelte-h":!0}),H(v)!=="svelte-1wndn91"&&(v.textContent=p),d=N(h),ne(E.$$.fragment,h),h.forEach(c),this.h()},h(){document.title="nostr-bookmark-viewer",u(e,"name","description"),u(e,"content","user setting"),u(t,"prefix","og: https://ogp.me/ns#"),u(n,"property","og:title"),u(n,"content","nostr-bookmark-viewer3"),u(l,"property","og:description"),u(l,"content","Nostrのブックマークをみたりできるやつ"),u(r,"property","og:image"),u(r,"content","https://nostr-bookmark-viewer3.vercel.app/img2.png"),u(v,"class","h1 mb-5"),u(o,"class","container max-w-5xl p-2")},m(f,a){C(document.head,e),C(document.head,t),C(document.head,n),C(document.head,l),C(document.head,r),T(f,i,a),T(f,o,a),C(o,v),C(o,d),re(E,o,null),y=!0},p:tt,i(f){y||(q(E.$$.fragment,f),y=!0)},o(f){J(E.$$.fragment,f),y=!1},d(f){f&&(c(i),c(o)),c(e),c(t),c(n),c(l),c(r),se(E)}}}class Ft extends Ne{constructor(e){super(),Pe(this,e,null,Vt,Le,{})}}export{Ft as component};
