import{S as Ql,i as Xl,s as Yl,k as h,a as O,y as Z,q as $,D as Zl,l as m,h as d,c as L,z as W,m as v,r as w,n as p,F as c,b as y,A as x,O as re,u as U,d as B,f as ge,g as P,B as ee,X as at,P as Ml,L as mt,o as Wl,T as Ze,K as F,v as be,Y as xl,w as en,Z as tn,_ as ln,e as te,H as Bl,E as jl,$ as St,a0 as Al,V as il}from"../chunks/index.1fa16860.js";import{c as nn}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.2ebf8e47.js";import{p as on}from"../chunks/stores.25c82744.js";import{n as rt,R as rn,s as cl,f as an,P as sn,b as ot,c as fl,p as cn,t as fn,g as un,e as ul,u as Pt}from"../chunks/navigation.bd521855.js";import{M as dn,s as vt,o as Rl,a as Ut,w as Fl,m as Lt,N as _n,b as pn,c as hn,d as mn,S as vn,T as zt,e as Cl,C as Mt,g as dl}from"../chunks/Content.19ba7156.js";import{M as gn,A as bn,T as Hl,a as ql,P as kn}from"../chunks/PostNote.5700dfbf.js";import{p as $n}from"../chunks/popup.28cfbfc0.js";function _l(o,e,l){const t=o.slice();return t[50]=e[l],t[52]=l,t}function pl(o,e,l){const t=o.slice();return t[53]=e[l],t}function hl(o,e,l){const t=o.slice();return t[59]=e[l],t}function ml(o,e,l){const t=o.slice();return t[53]=e[l],t}function vl(o,e,l){const t=o.slice();return t[65]=e[l],t}function gl(o,e,l){const t=o.slice();return t[65]=e[l],t}function bl(o){let e,l=o[65]+"",t;return{c(){e=h("li"),t=$(l),this.h()},l(n){e=m(n,"LI",{class:!0});var r=v(e);t=w(r,l),r.forEach(d),this.h()},h(){p(e,"class","ml-4")},m(n,r){y(n,e,r),c(e,t)},p:F,d(n){n&&d(e)}}}function kl(o){let e,l=o[65]+"",t;return{c(){e=h("li"),t=$(l),this.h()},l(n){e=m(n,"LI",{class:!0});var r=v(e);t=w(r,l),r.forEach(d),this.h()},h(){p(e,"class","ml-4")},m(n,r){y(n,e,r),c(e,t)},p(n,r){r[0]&512&&l!==(l=n[65]+"")&&U(t,l)},d(n){n&&d(e)}}}function wn(o){let e,l,t,n,r,a,u,s;return t=new bn({props:{gridColumns:"grid grid-cols-[auto_1fr_auto]",slotDefault:"place-self-center",slotTrail:"place-self-end",padding:"p-0",background:"bg-surface-300-600-token ",gap:"gap-0",$$slots:{trail:[Nn],lead:[Tn],default:[Vn]},$$scope:{ctx:o}}}),r=new Hl({props:{justify:"justify-center",flex:"flex-1",rounded:"",class:"bg-surface-50/80 dark:bg-surface-800/80 w-full drop-shadow",$$slots:{default:[Ln]},$$scope:{ctx:o}}}),u=new _n({props:{relays:o[9],$$slots:{default:[uo]},$$scope:{ctx:o}}}),{c(){e=h("div"),l=h("div"),Z(t.$$.fragment),n=O(),Z(r.$$.fragment),a=O(),Z(u.$$.fragment),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=v(e);l=m(f,"DIV",{class:!0});var _=v(l);W(t.$$.fragment,_),n=L(_),W(r.$$.fragment,_),_.forEach(d),f.forEach(d),a=L(i),W(u.$$.fragment,i),this.h()},h(){p(l,"class","max-w-screen-lg m-auto z-10"),p(e,"class","w-full fixed top-0 left-1/2 transform -translate-x-1/2 z-10")},m(i,f){y(i,e,f),c(e,l),x(t,l,null),c(l,n),x(r,l,null),y(i,a,f),x(u,i,f),s=!0},p(i,f){const _={};f[0]&264|f[2]&256&&(_.$$scope={dirty:f,ctx:i}),t.$set(_);const k={};f[0]&16|f[2]&256&&(k.$$scope={dirty:f,ctx:i}),r.$set(k);const b={};f[0]&512&&(b.relays=i[9]),f[0]&5536|f[2]&256&&(b.$$scope={dirty:f,ctx:i}),u.$set(b)},i(i){s||(P(t.$$.fragment,i),P(r.$$.fragment,i),P(u.$$.fragment,i),s=!0)},o(i){B(t.$$.fragment,i),B(r.$$.fragment,i),B(u.$$.fragment,i),s=!1},d(i){i&&d(e),ee(t),ee(r),i&&d(a),ee(u,i)}}}function En(o){let e;return{c(){e=$(o[1])},l(l){e=w(l,o[1])},m(l,t){y(l,e,t)},p(l,t){t[0]&2&&U(e,l[1])},i:F,o:F,d(l){l&&d(e)}}}function Dn(o){let e;return{c(){e=$("now loading")},l(l){e=w(l,"now loading")},m(l,t){y(l,e,t)},p:F,i:F,o:F,d(l){l&&d(e)}}}function $l(o){let e,l;return e=new ql({props:{group:mo,name:o[3][0].tags[0][1],value:0,$$slots:{default:[In]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,n){x(e,t,n),l=!0},p(t,n){const r={};n[0]&8&&(r.name=t[3][0].tags[0][1]),n[0]&8|n[2]&256&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function In(o){let e=o[3][0].tags[0][1]+"",l;return{c(){l=$(e)},l(t){l=w(t,e)},m(t,n){y(t,l,n)},p(t,n){n[0]&8&&e!==(e=t[3][0].tags[0][1]+"")&&U(l,e)},d(t){t&&d(l)}}}function yn(o){let e,l,t=!o[8]&&$l(o);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,r){t&&t.m(n,r),y(n,e,r),l=!0},p(n,r){n[8]?t&&(be(),B(t,1,1,()=>{t=null}),ge()):t?(t.p(n,r),r[0]&256&&P(t,1)):(t=$l(n),t.c(),P(t,1),t.m(e.parentNode,e))},i(n){l||(P(t),l=!0)},o(n){B(t),l=!1},d(n){t&&t.d(n),n&&d(e)}}}function Vn(o){let e,l,t;return l=new Hl({props:{padding:"py-3 px-4",justify:"justify",active:"variant-filled-secondary",hover:"hover:variant-soft-secondary",border:"border-b border-surface-400-500-token",rounded:"rounded-tl-container-token rounded-tr-container-token",$$slots:{default:[yn]},$$scope:{ctx:o}}}),{c(){e=h("div"),Z(l.$$.fragment),this.h()},l(n){e=m(n,"DIV",{class:!0});var r=v(e);W(l.$$.fragment,r),r.forEach(d),this.h()},h(){p(e,"class","tabGroup svelte-pws32x")},m(n,r){y(n,e,r),x(l,e,null),t=!0},p(n,r){const a={};r[0]&264|r[2]&256&&(a.$$scope={dirty:r,ctx:n}),l.$set(a)},i(n){t||(P(l.$$.fragment,n),t=!0)},o(n){B(l.$$.fragment,n),t=!1},d(n){n&&d(e),ee(l)}}}function Tn(o){let e,l,t,n,r;return{c(){e=h("div"),l=h("button"),t=$("📝"),this.h()},l(a){e=m(a,"DIV",{class:!0});var u=v(e);l=m(u,"BUTTON",{class:!0});var s=v(l);t=w(s,"📝"),s.forEach(d),u.forEach(d),this.h()},h(){p(l,"class","btn-icon variant-filled-surface"),p(e,"class","lead-icon pl-2 z-20")},m(a,u){y(a,e,u),c(e,l),c(l,t),n||(r=xl($n.call(null,l,o[16])),n=!0)},p:F,d(a){a&&d(e),n=!1,r()}}}function Nn(o){let e;return{c(){e=h("div"),this.h()},l(l){e=m(l,"DIV",{class:!0}),v(e).forEach(d),this.h()},h(){p(e,"class","pr-2 text-center justify-center")},m(l,t){y(l,e,t)},p:F,d(l){l&&d(e)}}}function On(o){let e;return{c(){e=$("public")},l(l){e=w(l,"public")},m(l,t){y(l,e,t)},d(l){l&&d(e)}}}function Ln(o){let e,l,t;function n(a){o[24](a)}let r={name:"pub",value:"pub",$$slots:{default:[On]},$$scope:{ctx:o}};return o[4]!==void 0&&(r.group=o[4]),e=new ql({props:r}),en.push(()=>tn(e,"group",n)),{c(){Z(e.$$.fragment)},l(a){W(e.$$.fragment,a)},m(a,u){x(e,a,u),t=!0},p(a,u){const s={};u[2]&256&&(s.$$scope={dirty:u,ctx:a}),!l&&u[0]&16&&(l=!0,s.group=a[4],ln(()=>l=!1)),e.$set(s)},i(a){t||(P(e.$$.fragment,a),t=!0)},o(a){B(e.$$.fragment,a),t=!1},d(a){ee(e,a)}}}function wl(o){let e,l,t=o[7],n=[];for(let a=0;a<t.length;a+=1)n[a]=Sl(_l(o,t,a));const r=a=>B(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=te()},l(a){for(let u=0;u<n.length;u+=1)n[u].l(a);e=te()},m(a,u){for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(a,u);y(a,e,u),l=!0},p(a,u){if(u[0]&3020192|u[1]&201326592){t=a[7];let s;for(s=0;s<t.length;s+=1){const i=_l(a,t,s);n[s]?(n[s].p(i,u),P(n[s],1)):(n[s]=Sl(i),n[s].c(),P(n[s],1),n[s].m(e.parentNode,e))}for(be(),s=t.length;s<n.length;s+=1)r(s);ge()}},i(a){if(!l){for(let u=0;u<t.length;u+=1)P(n[u]);l=!0}},o(a){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)B(n[u]);l=!1},d(a){at(n,a),a&&d(e)}}}function El(o){let e,l,t,n,r={ctx:o,current:null,token:null,hasCatch:!1,pending:fo,then:Pn,catch:Sn,value:56,blocks:[,,,]};return St(l=ul(o[50]),r),{c(){e=h("div"),r.block.c(),t=O(),this.h()},l(a){e=m(a,"DIV",{class:!0});var u=v(e);r.block.l(u),t=L(u),u.forEach(d),this.h()},h(){p(e,"class","card drop-shadow px-1 py-2 my-1 grid grid-cols-[1fr_auto] gap-1")},m(a,u){y(a,e,u),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=t,c(e,t),n=!0},p(a,u){o=a,r.ctx=o,u[0]&128&&l!==(l=ul(o[50]))&&St(l,r)||Al(r,o,u)},i(a){n||(P(r.block),n=!0)},o(a){for(let u=0;u<3;u+=1){const s=r.blocks[u];B(s)}n=!1},d(a){a&&d(e),r.block.d(),r.token=null,r=null}}}function Sn(o){return{c:F,l:F,m:F,p:F,i:F,o:F,d:F}}function Pn(o){let e,l,t,n,r;const a=[Mn,Un],u=[];function s(f,_){return f[56].tag[0]==="e"||f[56].tag[0]==="a"?0:1}e=s(o),l=u[e]=a[e](o);let i=o[56].tag[0]==="e"&&Nl(o);return{c(){l.c(),t=O(),i&&i.c(),n=te()},l(f){l.l(f),t=L(f),i&&i.l(f),n=te()},m(f,_){u[e].m(f,_),y(f,t,_),i&&i.m(f,_),y(f,n,_),r=!0},p(f,_){let k=e;e=s(f),e===k?u[e].p(f,_):(be(),B(u[k],1,1,()=>{u[k]=null}),ge(),l=u[e],l?l.p(f,_):(l=u[e]=a[e](f),l.c()),P(l,1),l.m(t.parentNode,t)),f[56].tag[0]==="e"?i?(i.p(f,_),_[0]&128&&P(i,1)):(i=Nl(f),i.c(),P(i,1),i.m(n.parentNode,n)):i&&(be(),B(i,1,1,()=>{i=null}),ge())},i(f){r||(P(l),P(i),r=!0)},o(f){B(l),B(i),r=!1},d(f){u[e].d(f),f&&d(t),i&&i.d(f),f&&d(n)}}}function Un(o){let e,l,t=o[56].tag[0]+"",n,r,a,u=o[56].tag.slice(1),s=[];for(let i=0;i<u.length;i+=1)s[i]=Dl(pl(o,u,i));return{c(){e=h("div"),l=h("div"),n=$(t),r=O(),a=h("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=m(i,"DIV",{class:!0});var f=v(e);l=m(f,"DIV",{class:!0});var _=v(l);n=w(_,t),_.forEach(d),r=L(f),a=m(f,"DIV",{class:!0});var k=v(a);for(let b=0;b<s.length;b+=1)s[b].l(k);k.forEach(d),f.forEach(d),this.h()},h(){p(l,"class","font-bold"),p(a,"class","flex"),p(e,"class","grid grid-rows-[auto_auto] gap-0")},m(i,f){y(i,e,f),c(e,l),c(l,n),c(e,r),c(e,a);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(a,null)},p(i,f){if(f[0]&128&&t!==(t=i[56].tag[0]+"")&&U(n,t),f[0]&128){u=i[56].tag.slice(1);let _;for(_=0;_<u.length;_+=1){const k=pl(i,u,_);s[_]?s[_].p(k,f):(s[_]=Dl(k),s[_].c(),s[_].m(a,null))}for(;_<s.length;_+=1)s[_].d(1);s.length=u.length}},i:F,o:F,d(i){i&&d(e),at(s,i)}}}function Mn(o){let e,l;return e=new zt({props:{queryKey:[o[56].id],id:o[56].id,$$slots:{nodata:[ro,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]],error:[oo,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]],loading:[no,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]],default:[lo,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,n){x(e,t,n),l=!0},p(t,n){const r={};n[0]&128&&(r.queryKey=[t[56].id]),n[0]&128&&(r.id=t[56].id),n[0]&5280|n[1]&67108864|n[2]&256&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function Dl(o){let e,l=o[53]+"",t,n;return{c(){e=h("div"),t=$(l),n=O(),this.h()},l(r){e=m(r,"DIV",{class:!0});var a=v(e);t=w(a,l),n=L(a),a.forEach(d),this.h()},h(){p(e,"class","flex flex-wrap px-1 mx-1 break-all")},m(r,a){y(r,e,a),c(e,t),c(e,n)},p(r,a){a[0]&128&&l!==(l=r[53]+"")&&U(t,l)},d(r){r&&d(e)}}}function Il(o){let e,l,t={ctx:o,current:null,token:null,hasCatch:!1,pending:An,then:jn,catch:Bn,value:62};return St(l=dl(JSON.parse(o[58].content).picture,o[10].url.origin),t),{c(){e=te(),t.block.c()},l(n){e=te(),t.block.l(n)},m(n,r){y(n,e,r),t.block.m(n,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(n,r){o=n,t.ctx=o,r[0]&1024|r[1]&134217728&&l!==(l=dl(JSON.parse(o[58].content).picture,o[10].url.origin))&&St(l,t)||Al(t,o,r)},d(n){n&&d(e),t.block.d(n),t.token=null,t=null}}}function Bn(o){return{c:F,l:F,m:F,p:F,d:F}}function jn(o){let e,l;return{c(){e=h("img"),this.h()},l(t){e=m(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"class","w-12 object-contain justify-center"),il(e.src,l=o[62])||p(e,"src",l),p(e,"alt","avatar")},m(t,n){y(t,e,n)},p(t,n){n[0]&1024|n[1]&134217728&&!il(e.src,l=t[62])&&p(e,"src",l)},d(t){t&&d(e)}}}function An(o){let e,l;return{c(){e=h("div"),l=$("loading"),this.h()},l(t){e=m(t,"DIV",{class:!0});var n=v(e);l=w(n,"loading"),n.forEach(d),this.h()},h(){p(e,"class","flex justify-center items-center text-sm")},m(t,n){y(t,e,n),c(e,l)},p:F,d(t){t&&d(e)}}}function yl(o){let e=JSON.parse(o[58].content).display_name+"",l;return{c(){l=$(e)},l(t){l=w(t,e)},m(t,n){y(t,l,n)},p(t,n){n[1]&134217728&&e!==(e=JSON.parse(t[58].content).display_name+"")&&U(l,e)},d(t){t&&d(l)}}}function Vl(o){let e,l,t=Pt(o[57].tags),n=[];for(let a=0;a<t.length;a+=1)n[a]=Tl(hl(o,t,a));const r=a=>B(n[a],1,1,()=>{n[a]=null});return{c(){e=h("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=m(a,"DIV",{class:!0});var u=v(e);for(let s=0;s<n.length;s+=1)n[s].l(u);u.forEach(d),this.h()},h(){p(e,"class","max-h-[6em] overflow-auto whitespace-nowrap border-s-4 border-s-rose-800/25 dark:border-s-rose-100/25")},m(a,u){y(a,e,u);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);l=!0},p(a,u){if(u[0]&397312|u[1]&201326592){t=Pt(a[57].tags);let s;for(s=0;s<t.length;s+=1){const i=hl(a,t,s);n[s]?(n[s].p(i,u),P(n[s],1)):(n[s]=Tl(i),n[s].c(),P(n[s],1),n[s].m(e,null))}for(be(),s=t.length;s<n.length;s+=1)r(s);ge()}},i(a){if(!l){for(let u=0;u<t.length;u+=1)P(n[u]);l=!0}},o(a){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)B(n[u]);l=!1},d(a){a&&d(e),at(n,a)}}}function Rn(o){let e,l,t=o[59][0]+"",n,r,a=o[59][1]+"",u,s;return{c(){e=h("div"),l=$("["),n=$(t),r=$(`]
                                    `),u=$(a),s=O(),this.h()},l(i){e=m(i,"DIV",{class:!0});var f=v(e);l=w(f,"["),n=w(f,t),r=w(f,`]
                                    `),u=w(f,a),s=L(f),f.forEach(d),this.h()},h(){p(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(i,f){y(i,e,f),c(e,l),c(e,n),c(e,r),c(e,u),c(e,s)},p(i,f){f[1]&67108864&&t!==(t=i[59][0]+"")&&U(n,t),f[1]&67108864&&a!==(a=i[59][1]+"")&&U(u,a)},i:F,o:F,d(i){i&&d(e)}}}function Fn(o){let e,l;return e=new zt({props:{queryKey:[o[59][1]],id:o[59][1],$$slots:{nodata:[Gn,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]],error:[zn,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]],loading:[Kn,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]],default:[Jn,({text:t})=>({57:t}),({text:t})=>[0,t?67108864:0]]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,n){x(e,t,n),l=!0},p(t,n){const r={};n[1]&67108864&&(r.queryKey=[t[59][1]]),n[1]&67108864&&(r.id=t[59][1]),n[0]&4096|n[1]&67108864|n[2]&256&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function Cn(o){let e,l;return e=new Cl({props:{queryKey:["metadata",o[59][1]],pubkey:o[59][1],$$slots:{nodata:[Zn,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]],error:[Yn,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]],loading:[Xn,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]],default:[Qn,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,n){x(e,t,n),l=!0},p(t,n){const r={};n[1]&67108864&&(r.queryKey=["metadata",t[59][1]]),n[1]&67108864&&(r.pubkey=t[59][1]),n[1]&201326592|n[2]&256&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function Hn(o){let e=o[57].content+"",l;return{c(){l=$(e)},l(t){l=w(t,e)},m(t,n){y(t,l,n)},p(t,n){n[1]&67108864&&e!==(e=t[57].content+"")&&U(l,e)},d(t){t&&d(l)}}}function qn(o){let e="<content-warning>",l;return{c(){l=$(e)},l(t){l=w(t,e)},m(t,n){y(t,l,n)},p:F,d(t){t&&d(l)}}}function Jn(o){let e,l,t=o[59][0]+"",n,r,a,u,s,i,f;function _(E,T){return T[0]&4096|T[1]&67108864&&(u=null),u==null&&(u=!!(E[57].tags.some(vo)&&E[12]==!1)),u?qn:Hn}let k=_(o,[-1,-1,-1]),b=k(o);function I(){return o[34](o[57])}return{c(){e=h("div"),l=$("["),n=$(t),r=$(`]
                                      `),a=h("button"),b.c(),s=O(),this.h()},l(E){e=m(E,"DIV",{class:!0});var T=v(e);l=w(T,"["),n=w(T,t),r=w(T,`]
                                      `),a=m(T,"BUTTON",{class:!0});var A=v(a);b.l(A),A.forEach(d),T.forEach(d),s=L(E),this.h()},h(){p(a,"class","text-emerald-800 dark:text-blue-400 whitespace-nowrap overflow-hidden text-ellipsis"),p(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(E,T){y(E,e,T),c(e,l),c(e,n),c(e,r),c(e,a),b.m(a,null),y(E,s,T),i||(f=re(a,"click",I),i=!0)},p(E,T){o=E,T[1]&67108864&&t!==(t=o[59][0]+"")&&U(n,t),k===(k=_(o,T))&&b?b.p(o,T):(b.d(1),b=k(o),b&&(b.c(),b.m(a,null)))},d(E){E&&d(e),b.d(),E&&d(s),i=!1,f()}}}function Kn(o){let e,l,t,n=o[59][0]+"",r,a,u=o[59][1]+"",s,i;return{c(){e=h("div"),l=h("div"),t=$("["),r=$(n),a=$("] "),s=$(u),i=O(),this.h()},l(f){e=m(f,"DIV",{slot:!0});var _=v(e);l=m(_,"DIV",{class:!0});var k=v(l);t=w(k,"["),r=w(k,n),a=w(k,"] "),s=w(k,u),k.forEach(d),i=L(_),_.forEach(d),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","loading")},m(f,_){y(f,e,_),c(e,l),c(l,t),c(l,r),c(l,a),c(l,s),c(e,i)},p(f,_){_[1]&67108864&&n!==(n=f[59][0]+"")&&U(r,n),_[1]&67108864&&u!==(u=f[59][1]+"")&&U(s,u)},d(f){f&&d(e)}}}function zn(o){let e,l,t,n=o[59][0]+"",r,a,u=o[59][1]+"",s,i;return{c(){e=h("div"),l=h("div"),t=$("["),r=$(n),a=$("] "),s=$(u),i=O(),this.h()},l(f){e=m(f,"DIV",{slot:!0});var _=v(e);l=m(_,"DIV",{class:!0});var k=v(l);t=w(k,"["),r=w(k,n),a=w(k,"] "),s=w(k,u),k.forEach(d),i=L(_),_.forEach(d),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","error")},m(f,_){y(f,e,_),c(e,l),c(l,t),c(l,r),c(l,a),c(l,s),c(e,i)},p(f,_){_[1]&67108864&&n!==(n=f[59][0]+"")&&U(r,n),_[1]&67108864&&u!==(u=f[59][1]+"")&&U(s,u)},d(f){f&&d(e)}}}function Gn(o){let e,l,t,n=o[59][0]+"",r,a,u=o[59][1]+"",s,i;return{c(){e=h("div"),l=h("div"),t=$("["),r=$(n),a=$("] "),s=$(u),i=O(),this.h()},l(f){e=m(f,"DIV",{slot:!0});var _=v(e);l=m(_,"DIV",{class:!0});var k=v(l);t=w(k,"["),r=w(k,n),a=w(k,"] "),s=w(k,u),k.forEach(d),i=L(_),_.forEach(d),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","nodata")},m(f,_){y(f,e,_),c(e,l),c(l,t),c(l,r),c(l,a),c(l,s),c(e,i)},p(f,_){_[1]&67108864&&n!==(n=f[59][0]+"")&&U(r,n),_[1]&67108864&&u!==(u=f[59][1]+"")&&U(s,u)},d(f){f&&d(e)}}}function Qn(o){let e,l=o[59][o[59].length-1]==="mention"?"mention":"to",t,n,r,a,u=JSON.parse(o[58].content).name+"",s,i,f,_;function k(){return o[33](o[58],o[59])}return{c(){e=h("div"),t=$(l),n=$(`[p]
                                      `),r=h("button"),a=h("u"),s=$(u),i=O(),this.h()},l(b){e=m(b,"DIV",{class:!0});var I=v(e);t=w(I,l),n=w(I,`[p]
                                      `),r=m(I,"BUTTON",{class:!0});var E=v(r);a=m(E,"U",{});var T=v(a);s=w(T,u),T.forEach(d),E.forEach(d),I.forEach(d),i=L(b),this.h()},h(){p(r,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),p(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(b,I){y(b,e,I),c(e,t),c(e,n),c(e,r),c(r,a),c(a,s),y(b,i,I),f||(_=re(r,"click",k),f=!0)},p(b,I){o=b,I[1]&67108864&&l!==(l=o[59][o[59].length-1]==="mention"?"mention":"to")&&U(t,l),I[1]&134217728&&u!==(u=JSON.parse(o[58].content).name+"")&&U(s,u)},d(b){b&&d(e),b&&d(i),f=!1,_()}}}function Xn(o){let e,l,t=o[59][o[59].length-1]==="mention"?"mention":"to",n,r,a=o[59][1]+"",u,s;return{c(){e=h("div"),l=h("div"),n=$(t),r=$("[p] "),u=$(a),s=O(),this.h()},l(i){e=m(i,"DIV",{slot:!0});var f=v(e);l=m(f,"DIV",{class:!0});var _=v(l);n=w(_,t),r=w(_,"[p] "),u=w(_,a),_.forEach(d),s=L(f),f.forEach(d),this.h()},h(){p(l,"class","-mt- px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","loading")},m(i,f){y(i,e,f),c(e,l),c(l,n),c(l,r),c(l,u),c(e,s)},p(i,f){f[1]&67108864&&t!==(t=i[59][i[59].length-1]==="mention"?"mention":"to")&&U(n,t),f[1]&67108864&&a!==(a=i[59][1]+"")&&U(u,a)},d(i){i&&d(e)}}}function Yn(o){let e,l,t=o[59][o[59].length-1]==="mention"?"mention":"to",n,r,a=o[59][1]+"",u,s;return{c(){e=h("div"),l=h("div"),n=$(t),r=$("[p] "),u=$(a),s=O(),this.h()},l(i){e=m(i,"DIV",{slot:!0});var f=v(e);l=m(f,"DIV",{class:!0});var _=v(l);n=w(_,t),r=w(_,"[p] "),u=w(_,a),_.forEach(d),s=L(f),f.forEach(d),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","error")},m(i,f){y(i,e,f),c(e,l),c(l,n),c(l,r),c(l,u),c(e,s)},p(i,f){f[1]&67108864&&t!==(t=i[59][i[59].length-1]==="mention"?"mention":"to")&&U(n,t),f[1]&67108864&&a!==(a=i[59][1]+"")&&U(u,a)},d(i){i&&d(e)}}}function Zn(o){let e,l,t=o[59][o[59].length-1]==="mention"?"mention":"to",n,r,a=o[59][1]+"",u,s;return{c(){e=h("div"),l=h("div"),n=$(t),r=$("[p] "),u=$(a),s=O(),this.h()},l(i){e=m(i,"DIV",{slot:!0});var f=v(e);l=m(f,"DIV",{class:!0});var _=v(l);n=w(_,t),r=w(_,"[p] "),u=w(_,a),_.forEach(d),s=L(f),f.forEach(d),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","nodata")},m(i,f){y(i,e,f),c(e,l),c(l,n),c(l,r),c(l,u),c(e,s)},p(i,f){f[1]&67108864&&t!==(t=i[59][i[59].length-1]==="mention"?"mention":"to")&&U(n,t),f[1]&67108864&&a!==(a=i[59][1]+"")&&U(u,a)},d(i){i&&d(e)}}}function Tl(o){let e,l,t,n;const r=[Cn,Fn,Rn],a=[];function u(s,i){return s[59][0]==="p"?0:s[59][0]==="e"||s[59][0]==="q"?1:2}return e=u(o),l=a[e]=r[e](o),{c(){l.c(),t=te()},l(s){l.l(s),t=te()},m(s,i){a[e].m(s,i),y(s,t,i),n=!0},p(s,i){let f=e;e=u(s),e===f?a[e].p(s,i):(be(),B(a[f],1,1,()=>{a[f]=null}),ge(),l=a[e],l?l.p(s,i):(l=a[e]=r[e](s),l.c()),P(l,1),l.m(t.parentNode,t))},i(s){n||(P(l),n=!0)},o(s){B(l),n=!1},d(s){a[e].d(s),s&&d(t)}}}function Wn(o){let e,l,t=JSON.parse(o[58].content).picture,n,r,a,u,s,i,f=JSON.parse(o[58].content).name+"",_,k,b,I=JSON.parse(o[58].content).display_name,E,T,A,S=new Date(o[57].created_at*1e3).toLocaleString()+"",D,N,z=Pt(o[57].tags).length>0,G,se,ae,fe,ke,de,C=t&&Il(o);function Oe(){return o[31](o[58],o[57])}let H=I&&yl(o);function q(){return o[32](o[57])}let J=z&&Vl(o);return ae=new Mt({props:{text:o[57].content,tag:o[57].tags,id:o[57].id,view:o[12],URLPreview:o[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),C&&C.c(),n=O(),r=h("div"),a=h("div"),u=h("div"),s=h("button"),i=h("u"),_=$(f),k=O(),b=h("div"),H&&H.c(),E=O(),T=h("div"),A=h("button"),D=$(S),N=O(),J&&J.c(),G=O(),se=h("div"),Z(ae.$$.fragment),this.h()},l(Y){e=m(Y,"DIV",{class:!0});var R=v(e);l=m(R,"DIV",{class:!0});var le=v(l);C&&C.l(le),le.forEach(d),n=L(R),r=m(R,"DIV",{class:!0});var _e=v(r);a=m(_e,"DIV",{class:!0});var pe=v(a);u=m(pe,"DIV",{class:!0});var De=v(u);s=m(De,"BUTTON",{class:!0});var Ge=v(s);i=m(Ge,"U",{});var Le=v(i);_=w(Le,f),Le.forEach(d),Ge.forEach(d),De.forEach(d),k=L(pe),b=m(pe,"DIV",{class:!0});var Se=v(b);H&&H.l(Se),Se.forEach(d),E=L(pe),T=m(pe,"DIV",{class:!0});var $e=v(T);A=m($e,"BUTTON",{class:!0});var Pe=v(A);D=w(Pe,S),Pe.forEach(d),$e.forEach(d),pe.forEach(d),N=L(_e),J&&J.l(_e),G=L(_e),se=m(_e,"DIV",{class:!0});var Ue=v(se);W(ae.$$.fragment,Ue),Ue.forEach(d),_e.forEach(d),R.forEach(d),this.h()},h(){p(l,"class","w-12 h-12 rounded-full flex justify-center overflow-hidden bg-surface-500/25 mt-1"),p(s,"class","text-emerald-800 dark:text-blue-500"),p(u,"class","truncate wid justify-items-end"),p(b,"class","text-left self-end text-sm h-fix wi truncate justify-items-end"),p(A,"class","text-sm underline decoration-secondary-500"),p(T,"class","min-w-max"),p(a,"class","w-full grid grid-cols-[auto_1fr_auto] gap-1 h-fix"),p(se,"class","parent-container break-all whitespace-pre-wrap"),p(r,"class","grid grid-rows-[auto_1fr] gap-0.5 break-all w-full"),p(e,"class","grid grid-cols-[auto_1fr] gap-1")},m(Y,R){y(Y,e,R),c(e,l),C&&C.m(l,null),c(e,n),c(e,r),c(r,a),c(a,u),c(u,s),c(s,i),c(i,_),c(a,k),c(a,b),H&&H.m(b,null),c(a,E),c(a,T),c(T,A),c(A,D),c(r,N),J&&J.m(r,null),c(r,G),c(r,se),x(ae,se,null),fe=!0,ke||(de=[re(s,"click",Oe),re(A,"click",q)],ke=!0)},p(Y,R){o=Y,R[1]&134217728&&(t=JSON.parse(o[58].content).picture),t?C?C.p(o,R):(C=Il(o),C.c(),C.m(l,null)):C&&(C.d(1),C=null),(!fe||R[1]&134217728)&&f!==(f=JSON.parse(o[58].content).name+"")&&U(_,f),R[1]&134217728&&(I=JSON.parse(o[58].content).display_name),I?H?H.p(o,R):(H=yl(o),H.c(),H.m(b,null)):H&&(H.d(1),H=null),(!fe||R[1]&67108864)&&S!==(S=new Date(o[57].created_at*1e3).toLocaleString()+"")&&U(D,S),R[1]&67108864&&(z=Pt(o[57].tags).length>0),z?J?(J.p(o,R),R[1]&67108864&&P(J,1)):(J=Vl(o),J.c(),P(J,1),J.m(r,G)):J&&(be(),B(J,1,1,()=>{J=null}),ge());const le={};R[1]&67108864&&(le.text=o[57].content),R[1]&67108864&&(le.tag=o[57].tags),R[1]&67108864&&(le.id=o[57].id),R[0]&4096&&(le.view=o[12]),R[0]&32&&(le.URLPreview=o[5]),ae.$set(le)},i(Y){fe||(P(J),P(ae.$$.fragment,Y),fe=!0)},o(Y){B(J),B(ae.$$.fragment,Y),fe=!1},d(Y){Y&&d(e),C&&C.d(),H&&H.d(),J&&J.d(),ee(ae),ke=!1,Ml(de)}}}function xn(o){let e,l,t,n=o[57].pubkey+"",r,a,u,s,i=new Date(o[57].created_at*1e3).toLocaleString()+"",f,_,k,b,I,E,T;function A(){return o[30](o[57])}return b=new Mt({props:{text:o[57].content,tag:o[57].tags,id:o[57].id,view:o[12],URLPreview:o[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),t=$("Loading profile... ("),r=$(n),a=$(")"),u=O(),s=h("button"),f=$(i),_=O(),k=h("div"),Z(b.$$.fragment),this.h()},l(S){e=m(S,"DIV",{slot:!0});var D=v(e);l=m(D,"DIV",{class:!0});var N=v(l);t=w(N,"Loading profile... ("),r=w(N,n),a=w(N,")"),N.forEach(d),u=L(D),s=m(D,"BUTTON",{class:!0});var z=v(s);f=w(z,i),z.forEach(d),_=L(D),k=m(D,"DIV",{class:!0});var G=v(k);W(b.$$.fragment,G),G.forEach(d),D.forEach(d),this.h()},h(){p(l,"class","text-sm break-all overflow-hidden"),p(s,"class","text-sm underline decoration-secondary-500"),p(k,"class","parent-container break-all whitespace-pre-wrap"),p(e,"slot","loading")},m(S,D){y(S,e,D),c(e,l),c(l,t),c(l,r),c(l,a),c(e,u),c(e,s),c(s,f),c(e,_),c(e,k),x(b,k,null),I=!0,E||(T=re(s,"click",A),E=!0)},p(S,D){o=S,(!I||D[1]&67108864)&&n!==(n=o[57].pubkey+"")&&U(r,n),(!I||D[1]&67108864)&&i!==(i=new Date(o[57].created_at*1e3).toLocaleString()+"")&&U(f,i);const N={};D[1]&67108864&&(N.text=o[57].content),D[1]&67108864&&(N.tag=o[57].tags),D[1]&67108864&&(N.id=o[57].id),D[0]&4096&&(N.view=o[12]),D[0]&32&&(N.URLPreview=o[5]),b.$set(N)},i(S){I||(P(b.$$.fragment,S),I=!0)},o(S){B(b.$$.fragment,S),I=!1},d(S){S&&d(e),ee(b),E=!1,T()}}}function eo(o){let e,l,t,n=o[57].pubkey+"",r,a,u,s,i=new Date(o[57].created_at*1e3).toLocaleString()+"",f,_,k,b,I,E,T;function A(){return o[29](o[57])}return b=new Mt({props:{text:o[57].content,tag:o[57].tags,id:o[57].id,view:o[12],URLPreview:o[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),t=$("Failed to get profile ("),r=$(n),a=$(")"),u=O(),s=h("button"),f=$(i),_=O(),k=h("div"),Z(b.$$.fragment),this.h()},l(S){e=m(S,"DIV",{slot:!0});var D=v(e);l=m(D,"DIV",{class:!0});var N=v(l);t=w(N,"Failed to get profile ("),r=w(N,n),a=w(N,")"),N.forEach(d),u=L(D),s=m(D,"BUTTON",{class:!0});var z=v(s);f=w(z,i),z.forEach(d),_=L(D),k=m(D,"DIV",{class:!0});var G=v(k);W(b.$$.fragment,G),G.forEach(d),D.forEach(d),this.h()},h(){p(l,"class","text-sm break-all overflow-hidden"),p(s,"class","text-sm underline decoration-secondary-500"),p(k,"class","parent-container break-all whitespace-pre-wrap"),p(e,"slot","error")},m(S,D){y(S,e,D),c(e,l),c(l,t),c(l,r),c(l,a),c(e,u),c(e,s),c(s,f),c(e,_),c(e,k),x(b,k,null),I=!0,E||(T=re(s,"click",A),E=!0)},p(S,D){o=S,(!I||D[1]&67108864)&&n!==(n=o[57].pubkey+"")&&U(r,n),(!I||D[1]&67108864)&&i!==(i=new Date(o[57].created_at*1e3).toLocaleString()+"")&&U(f,i);const N={};D[1]&67108864&&(N.text=o[57].content),D[1]&67108864&&(N.tag=o[57].tags),D[1]&67108864&&(N.id=o[57].id),D[0]&4096&&(N.view=o[12]),D[0]&32&&(N.URLPreview=o[5]),b.$set(N)},i(S){I||(P(b.$$.fragment,S),I=!0)},o(S){B(b.$$.fragment,S),I=!1},d(S){S&&d(e),ee(b),E=!1,T()}}}function to(o){let e,l,t,n=o[57].pubkey+"",r,a,u,s,i=new Date(o[57].created_at*1e3).toLocaleString()+"",f,_,k,b,I,E,T;function A(){return o[28](o[57])}return b=new Mt({props:{text:o[57].content,tag:o[57].tags,id:o[57].id,view:o[12],URLPreview:o[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),t=$("Profile not found ("),r=$(n),a=$(")"),u=O(),s=h("button"),f=$(i),_=O(),k=h("div"),Z(b.$$.fragment),this.h()},l(S){e=m(S,"DIV",{slot:!0});var D=v(e);l=m(D,"DIV",{class:!0});var N=v(l);t=w(N,"Profile not found ("),r=w(N,n),a=w(N,")"),N.forEach(d),u=L(D),s=m(D,"BUTTON",{class:!0});var z=v(s);f=w(z,i),z.forEach(d),_=L(D),k=m(D,"DIV",{class:!0});var G=v(k);W(b.$$.fragment,G),G.forEach(d),D.forEach(d),this.h()},h(){p(l,"class","text-sm break-all overflow-hidden"),p(s,"class","text-sm underline decoration-secondary-500"),p(k,"class","parent-container break-all whitespace-pre-wrap"),p(e,"slot","nodata")},m(S,D){y(S,e,D),c(e,l),c(l,t),c(l,r),c(l,a),c(e,u),c(e,s),c(s,f),c(e,_),c(e,k),x(b,k,null),I=!0,E||(T=re(s,"click",A),E=!0)},p(S,D){o=S,(!I||D[1]&67108864)&&n!==(n=o[57].pubkey+"")&&U(r,n),(!I||D[1]&67108864)&&i!==(i=new Date(o[57].created_at*1e3).toLocaleString()+"")&&U(f,i);const N={};D[1]&67108864&&(N.text=o[57].content),D[1]&67108864&&(N.tag=o[57].tags),D[1]&67108864&&(N.id=o[57].id),D[0]&4096&&(N.view=o[12]),D[0]&32&&(N.URLPreview=o[5]),b.$set(N)},i(S){I||(P(b.$$.fragment,S),I=!0)},o(S){B(b.$$.fragment,S),I=!1},d(S){S&&d(e),ee(b),E=!1,T()}}}function lo(o){let e,l;return e=new Cl({props:{queryKey:["metadata",o[57].pubkey],pubkey:o[57].pubkey,$$slots:{nodata:[to,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]],error:[eo,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]],loading:[xn,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]],default:[Wn,({metadata:t})=>({58:t}),({metadata:t})=>[0,t?134217728:0]]},$$scope:{ctx:o}}}),{c(){Z(e.$$.fragment)},l(t){W(e.$$.fragment,t)},m(t,n){x(e,t,n),l=!0},p(t,n){const r={};n[1]&67108864&&(r.queryKey=["metadata",t[57].pubkey]),n[1]&67108864&&(r.pubkey=t[57].pubkey),n[0]&5152|n[1]&201326592|n[2]&256&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){B(e.$$.fragment,t),l=!1},d(t){ee(e,t)}}}function no(o){let e,l,t,n,r,a,u,s=o[56].id+"",i,f,_,k;function b(){return o[27](o[56])}return{c(){e=h("div"),l=h("div"),t=h("div"),n=h("button"),r=O(),a=h("div"),u=$("Loading note... ("),i=$(s),f=$(")"),this.h()},l(I){e=m(I,"DIV",{slot:!0});var E=v(e);l=m(E,"DIV",{class:!0});var T=v(l);t=m(T,"DIV",{class:!0});var A=v(t);n=m(A,"BUTTON",{class:!0});var S=v(n);S.forEach(d),A.forEach(d),r=L(T),a=m(T,"DIV",{class:!0});var D=v(a);u=w(D,"Loading note... ("),i=w(D,s),f=w(D,")"),D.forEach(d),T.forEach(d),E.forEach(d),this.h()},h(){p(n,"class","btn m-0 p-1 variant-filled-primary rounded-full"),p(t,"class","flex justify-center items-center h-auto"),p(a,"class","text-sm break-all overflow-hidden"),p(l,"class","grid grid-cols-[auto_1fr] gap-1 flex"),p(e,"slot","loading")},m(I,E){y(I,e,E),c(e,l),c(l,t),c(t,n),n.innerHTML=Ut,c(l,r),c(l,a),c(a,u),c(a,i),c(a,f),_||(k=re(n,"click",b),_=!0)},p(I,E){o=I,E[0]&128&&s!==(s=o[56].id+"")&&U(i,s)},d(I){I&&d(e),_=!1,k()}}}function oo(o){let e,l,t,n,r,a,u,s=o[56].id+"",i,f,_,k;function b(){return o[26](o[56])}return{c(){e=h("div"),l=h("div"),t=h("div"),n=h("button"),r=O(),a=h("div"),u=$("Failed to get note ("),i=$(s),f=$(")"),this.h()},l(I){e=m(I,"DIV",{slot:!0});var E=v(e);l=m(E,"DIV",{class:!0});var T=v(l);t=m(T,"DIV",{class:!0});var A=v(t);n=m(A,"BUTTON",{class:!0});var S=v(n);S.forEach(d),A.forEach(d),r=L(T),a=m(T,"DIV",{class:!0});var D=v(a);u=w(D,"Failed to get note ("),i=w(D,s),f=w(D,")"),D.forEach(d),T.forEach(d),E.forEach(d),this.h()},h(){p(n,"class","btn m-0 p-1 variant-filled-primary rounded-full"),p(t,"class","flex justify-center items-center h-auto"),p(a,"class","text-sm break-all overflow-hidden"),p(l,"class","grid grid-cols-[auto_1fr] gap-1 flex"),p(e,"slot","error")},m(I,E){y(I,e,E),c(e,l),c(l,t),c(t,n),n.innerHTML=Ut,c(l,r),c(l,a),c(a,u),c(a,i),c(a,f),_||(k=re(n,"click",b),_=!0)},p(I,E){o=I,E[0]&128&&s!==(s=o[56].id+"")&&U(i,s)},d(I){I&&d(e),_=!1,k()}}}function ro(o){let e,l,t,n,r,a,u,s=o[56].id+"",i,f,_,k;function b(){return o[25](o[56])}return{c(){e=h("div"),l=h("div"),t=h("div"),n=h("button"),r=O(),a=h("div"),u=$("Note not found ("),i=$(s),f=$(")"),this.h()},l(I){e=m(I,"DIV",{slot:!0});var E=v(e);l=m(E,"DIV",{class:!0});var T=v(l);t=m(T,"DIV",{class:!0});var A=v(t);n=m(A,"BUTTON",{class:!0});var S=v(n);S.forEach(d),A.forEach(d),r=L(T),a=m(T,"DIV",{class:!0});var D=v(a);u=w(D,"Note not found ("),i=w(D,s),f=w(D,")"),D.forEach(d),T.forEach(d),E.forEach(d),this.h()},h(){p(n,"class","btn m-0 p-1 variant-filled-primary rounded-full"),p(t,"class","flex justify-center items-center h-auto"),p(a,"class","text-sm break-all overflow-hidden"),p(l,"class","grid grid-cols-[auto_1fr] gap-1 flex"),p(e,"slot","nodata")},m(I,E){y(I,e,E),c(e,l),c(l,t),c(t,n),n.innerHTML=Ut,c(l,r),c(l,a),c(a,u),c(a,i),c(a,f),_||(k=re(n,"click",b),_=!0)},p(I,E){o=I,E[0]&128&&s!==(s=o[56].id+"")&&U(i,s)},d(I){I&&d(e),_=!1,k()}}}function Nl(o){let e,l,t=!o[8]&&Ol(o);return{c(){e=h("div"),t&&t.c(),this.h()},l(n){e=m(n,"DIV",{class:!0});var r=v(e);t&&t.l(r),r.forEach(d),this.h()},h(){p(e,"class","flex flex-col flex-wrap h-16")},m(n,r){y(n,e,r),t&&t.m(e,null),l=!0},p(n,r){n[8]?t&&(be(),B(t,1,1,()=>{t=null}),ge()):t?(t.p(n,r),r[0]&256&&P(t,1)):(t=Ol(n),t.c(),P(t,1),t.m(e,null))},i(n){l||(P(t),l=!0)},o(n){B(t),l=!1},d(n){n&&d(e),t&&t.d()}}}function Ol(o){let e,l,t,n,r,a;e=new zt({props:{queryKey:[o[56].id],id:o[56].id,$$slots:{nodata:[co,({text:s})=>({57:s}),({text:s})=>[0,s?67108864:0]],error:[io,({text:s})=>({57:s}),({text:s})=>[0,s?67108864:0]],loading:[so,({text:s})=>({57:s}),({text:s})=>[0,s?67108864:0]],default:[ao,({text:s})=>({57:s}),({text:s})=>[0,s?67108864:0]]},$$scope:{ctx:o}}});function u(){return o[39](o[56])}return{c(){Z(e.$$.fragment),l=O(),t=h("button"),this.h()},l(s){W(e.$$.fragment,s),l=L(s),t=m(s,"BUTTON",{class:!0});var i=v(t);i.forEach(d),this.h()},h(){p(t,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(s,i){x(e,s,i),y(s,l,i),y(s,t,i),t.innerHTML=Rl,n=!0,r||(a=re(t,"click",u),r=!0)},p(s,i){o=s;const f={};i[0]&128&&(f.queryKey=[o[56].id]),i[0]&128&&(f.id=o[56].id),i[0]&128|i[1]&67108864|i[2]&256&&(f.$$scope={dirty:i,ctx:o}),e.$set(f)},i(s){n||(P(e.$$.fragment,s),n=!0)},o(s){B(e.$$.fragment,s),n=!1},d(s){ee(e,s),s&&d(l),s&&d(t),r=!1,a()}}}function ao(o){let e,l,t;function n(){return o[38](o[56],o[57])}return{c(){e=h("button"),this.h()},l(r){e=m(r,"BUTTON",{class:!0});var a=v(e);a.forEach(d),this.h()},h(){p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(r,a){y(r,e,a),e.innerHTML=vt,l||(t=re(e,"click",n),l=!0)},p(r,a){o=r},d(r){r&&d(e),l=!1,t()}}}function so(o){let e,l,t;function n(){return o[37](o[56])}return{c(){e=h("button"),this.h()},l(r){e=m(r,"BUTTON",{slot:!0,class:!0});var a=v(e);a.forEach(d),this.h()},h(){p(e,"slot","loading"),p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(r,a){y(r,e,a),e.innerHTML=vt,l||(t=re(e,"click",n),l=!0)},p(r,a){o=r},d(r){r&&d(e),l=!1,t()}}}function io(o){let e,l,t;function n(){return o[36](o[56])}return{c(){e=h("button"),this.h()},l(r){e=m(r,"BUTTON",{slot:!0,class:!0});var a=v(e);a.forEach(d),this.h()},h(){p(e,"slot","error"),p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(r,a){y(r,e,a),e.innerHTML=vt,l||(t=re(e,"click",n),l=!0)},p(r,a){o=r},d(r){r&&d(e),l=!1,t()}}}function co(o){let e,l,t;function n(){return o[35](o[56])}return{c(){e=h("button"),this.h()},l(r){e=m(r,"BUTTON",{slot:!0,class:!0});var a=v(e);a.forEach(d),this.h()},h(){p(e,"slot","nodata"),p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(r,a){y(r,e,a),e.innerHTML=vt,l||(t=re(e,"click",n),l=!0)},p(r,a){o=r},d(r){r&&d(e),l=!1,t()}}}function fo(o){let e,l,t=o[50][0]+"",n,r,a,u=o[50].slice(1),s=[];for(let i=0;i<u.length;i+=1)s[i]=Ll(ml(o,u,i));return{c(){e=h("div"),l=h("div"),n=$(t),r=O(),a=h("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=m(i,"DIV",{class:!0});var f=v(e);l=m(f,"DIV",{class:!0});var _=v(l);n=w(_,t),_.forEach(d),r=L(f),a=m(f,"DIV",{class:!0});var k=v(a);for(let b=0;b<s.length;b+=1)s[b].l(k);k.forEach(d),f.forEach(d),this.h()},h(){p(l,"class","font-bold"),p(a,"class","flex"),p(e,"class","grid grid-rows-[auto_auto] gap-0")},m(i,f){y(i,e,f),c(e,l),c(l,n),c(e,r),c(e,a);for(let _=0;_<s.length;_+=1)s[_]&&s[_].m(a,null)},p(i,f){if(f[0]&128&&t!==(t=i[50][0]+"")&&U(n,t),f[0]&128){u=i[50].slice(1);let _;for(_=0;_<u.length;_+=1){const k=ml(i,u,_);s[_]?s[_].p(k,f):(s[_]=Ll(k),s[_].c(),s[_].m(a,null))}for(;_<s.length;_+=1)s[_].d(1);s.length=u.length}},i:F,o:F,d(i){i&&d(e),at(s,i)}}}function Ll(o){let e,l=o[53]+"",t,n;return{c(){e=h("div"),t=$(l),n=O(),this.h()},l(r){e=m(r,"DIV",{class:!0});var a=v(e);t=w(a,l),n=L(a),a.forEach(d),this.h()},h(){p(e,"class","flex flex-wrap px-1 mx-1 break-all")},m(r,a){y(r,e,a),c(e,t),c(e,n)},p(r,a){a[0]&128&&l!==(l=r[53]+"")&&U(t,l)},d(r){r&&d(e)}}}function Sl(o){let e,l,t=o[50][0]!=="d"&&El(o);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,r){t&&t.m(n,r),y(n,e,r),l=!0},p(n,r){n[50][0]!=="d"?t?(t.p(n,r),r[0]&128&&P(t,1)):(t=El(n),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(be(),B(t,1,1,()=>{t=null}),ge())},i(n){l||(P(t),l=!0)},o(n){B(t),l=!1},d(n){t&&t.d(n),n&&d(e)}}}function uo(o){let e,l,t=o[7]&&wl(o);return{c(){t&&t.c(),e=te()},l(n){t&&t.l(n),e=te()},m(n,r){t&&t.m(n,r),y(n,e,r),l=!0},p(n,r){n[7]?t?(t.p(n,r),r[0]&128&&P(t,1)):(t=wl(n),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(be(),B(t,1,1,()=>{t=null}),ge())},i(n){l||(P(t),l=!0)},o(n){B(t),l=!1},d(n){t&&t.d(n),n&&d(e)}}}function _o(o){let e,l;return{c(){e=new Bl(!1),l=te(),this.h()},l(t){e=jl(t,!1),l=te(),this.h()},h(){e.a=l},m(t,n){e.m(Fl,t,n),y(t,l,n)},p:F,d(t){t&&d(l),t&&e.d()}}}function po(o){let e,l;return{c(){e=new Bl(!1),l=te(),this.h()},l(t){e=jl(t,!1),l=te(),this.h()},h(){e.a=l},m(t,n){e.m(pn,t,n),y(t,l,n)},p:F,d(t){t&&d(l),t&&e.d()}}}function Pl(o){let e,l,t;return l=new sn({props:{"...":!0,stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30",width:"w-24"}}),{c(){e=h("div"),Z(l.$$.fragment),this.h()},l(n){e=m(n,"DIV",{class:!0});var r=v(e);W(l.$$.fragment,r),r.forEach(d),this.h()},h(){p(e,"class","fixed bottom-2 right-2")},m(n,r){y(n,e,r),x(l,e,null),t=!0},i(n){t||(P(l.$$.fragment,n),t=!0)},o(n){B(l.$$.fragment,n),t=!1},d(n){n&&d(e),ee(l)}}}function ho(o){let e,l,t,n,r,a,u,s,i,f,_,k,b,I,E,T,A=o[11]("nprofile.html.info")+"",S,D,N,z,G=o[11]("nprofile.html.preview")+"",se,ae=o[5]?"ON":"OFF",fe,ke,de,C=o[11]("nprofile.html.loadnote")+"",Oe,H=o[6]?"ON":"OFF",q,J,Y,R,le,_e,pe,De,Ge=rt.npubEncode(o[13])+"",Le,Se,$e,Pe,Ue,ye,st,Me,Qe=o[11]("nprofile.html.search_relays")+"",We,it,Ve,ct,V,Q,he,ie,ue,Be,we,je=o[11]("nprofile.html.share")+"",Ie,ft,Ae,xe,Bt,ut=o[11]("nprofile.html.openapp")+"",gt,jt,Re,et,At,dt=o[11]("nprofile.html.search")+"",bt,Rt,Fe,tt,Ft,_t=o[11]("nprofile.html.warning")+"",kt,Ct,pt,$t,Ce,me,ve,wt,Xe,He,Te,Ht,Ne,Et,qe,ce,qt,Gt;u=new dn({});let lt=o[14],ne=[];for(let g=0;g<lt.length;g+=1)ne[g]=bl(gl(o,lt,g));let nt=o[9],oe=[];for(let g=0;g<nt.length;g+=1)oe[g]=kl(vl(o,nt,g));const Qt=[Dn,En,wn],Je=[];function Xt(g,j){return g[3]?g[2]?1:2:0}me=Xt(o),ve=Je[me]=Qt[me](o),Te=new gn({props:{settings:o[0],select:"hidden",justify:"justify-center",showFirstLastButtons:!0,active:"variant-filled-primary",controlVariant:"variant-filled-primary",buttonClasses:"!my-0 !py-0 !px-3 place-items-center fill-current"}}),Te.$on("page",o[20]);function Yt(g,j){return g[12]?po:_o}let Dt=Yt(o),Ee=Dt(o),X=o[8]&&Pl();return{c(){e=h("meta"),l=h("meta"),t=h("meta"),n=h("meta"),r=h("meta"),a=O(),Z(u.$$.fragment),s=O(),i=h("div"),f=h("button"),_=$("Go back to Setup"),k=O(),b=h("hr"),I=O(),E=h("div"),T=h("p"),S=$(A),D=O(),N=h("ul"),z=h("li"),se=$(G),fe=$(ae),ke=O(),de=h("li"),Oe=$(C),q=$(H),J=O(),Y=h("hr"),R=O(),le=h("p"),_e=$("【pubkey】"),pe=O(),De=h("p"),Le=$(Ge),Se=O(),$e=h("p"),Pe=$("【relays】"),Ue=O(),ye=h("ul");for(let g=0;g<ne.length;g+=1)ne[g].c();st=O(),Me=h("p"),We=$(Qe),it=O(),Ve=h("ul");for(let g=0;g<oe.length;g+=1)oe[g].c();ct=O(),V=h("hr"),Q=O(),he=h("div"),ie=h("ul"),ue=h("li"),Be=h("span"),we=O(),Ie=$(je),ft=O(),Ae=h("li"),xe=h("span"),Bt=O(),gt=$(ut),jt=O(),Re=h("li"),et=h("span"),At=O(),bt=$(dt),Rt=O(),Fe=h("li"),tt=h("span"),Ft=O(),kt=$(_t),Ct=O(),pt=h("div"),$t=O(),Ce=h("main"),ve.c(),wt=O(),Xe=h("div"),He=h("div"),Z(Te.$$.fragment),Ht=O(),Ne=h("button"),Ee.c(),Et=O(),qe=h("div"),X&&X.c(),this.h()},l(g){const j=Zl("svelte-1lnfo3",document.head);e=m(j,"META",{name:!0,content:!0}),l=m(j,"META",{prefix:!0}),t=m(j,"META",{property:!0,content:!0}),n=m(j,"META",{property:!0,content:!0}),r=m(j,"META",{property:!0,content:!0}),j.forEach(d),a=L(g),W(u.$$.fragment,g),s=L(g),i=m(g,"DIV",{class:!0,"data-popup":!0});var K=v(i);f=m(K,"BUTTON",{type:!0,class:!0});var ht=v(f);_=w(ht,"Go back to Setup"),ht.forEach(d),k=L(K),b=m(K,"HR",{class:!0}),I=L(K),E=m(K,"DIV",{});var M=v(E);T=m(M,"P",{});var Ke=v(T);S=w(Ke,A),Ke.forEach(d),D=L(M),N=m(M,"UL",{class:!0});var It=v(N);z=m(It,"LI",{class:!0});var Jt=v(z);se=w(Jt,G),fe=w(Jt,ae),Jt.forEach(d),ke=L(It),de=m(It,"LI",{class:!0});var Kt=v(de);Oe=w(Kt,C),q=w(Kt,H),Kt.forEach(d),It.forEach(d),J=L(M),Y=m(M,"HR",{class:!0}),R=L(M),le=m(M,"P",{});var Zt=v(le);_e=w(Zt,"【pubkey】"),Zt.forEach(d),pe=L(M),De=m(M,"P",{});var Wt=v(De);Le=w(Wt,Ge),Wt.forEach(d),Se=L(M),$e=m(M,"P",{class:!0});var xt=v($e);Pe=w(xt,"【relays】"),xt.forEach(d),Ue=L(M),ye=m(M,"UL",{class:!0});var el=v(ye);for(let Ye=0;Ye<ne.length;Ye+=1)ne[Ye].l(el);el.forEach(d),st=L(M),Me=m(M,"P",{class:!0});var tl=v(Me);We=w(tl,Qe),tl.forEach(d),it=L(M),Ve=m(M,"UL",{class:!0});var ll=v(Ve);for(let Ye=0;Ye<oe.length;Ye+=1)oe[Ye].l(ll);ll.forEach(d),M.forEach(d),ct=L(K),V=m(K,"HR",{class:!0}),Q=L(K),he=m(K,"DIV",{class:!0});var nl=v(he);ie=m(nl,"UL",{class:!0});var ze=v(ie);ue=m(ze,"LI",{class:!0});var yt=v(ue);Be=m(yt,"SPAN",{class:!0});var Jl=v(Be);Jl.forEach(d),we=L(yt),Ie=w(yt,je),yt.forEach(d),ft=L(ze),Ae=m(ze,"LI",{class:!0});var Vt=v(Ae);xe=m(Vt,"SPAN",{class:!0});var Kl=v(xe);Kl.forEach(d),Bt=L(Vt),gt=w(Vt,ut),Vt.forEach(d),jt=L(ze),Re=m(ze,"LI",{class:!0});var Tt=v(Re);et=m(Tt,"SPAN",{class:!0});var zl=v(et);zl.forEach(d),At=L(Tt),bt=w(Tt,dt),Tt.forEach(d),Rt=L(ze),Fe=m(ze,"LI",{class:!0});var Nt=v(Fe);tt=m(Nt,"SPAN",{class:!0});var Gl=v(tt);Gl.forEach(d),Ft=L(Nt),kt=w(Nt,_t),Nt.forEach(d),ze.forEach(d),nl.forEach(d),Ct=L(K),pt=m(K,"DIV",{class:!0}),v(pt).forEach(d),K.forEach(d),$t=L(g),Ce=m(g,"MAIN",{class:!0});var ol=v(Ce);ve.l(ol),ol.forEach(d),wt=L(g),Xe=m(g,"DIV",{class:!0});var rl=v(Xe);He=m(rl,"DIV",{class:!0});var Ot=v(He);W(Te.$$.fragment,Ot),Ht=L(Ot),Ne=m(Ot,"BUTTON",{type:!0,class:!0});var al=v(Ne);Ee.l(al),al.forEach(d),Ot.forEach(d),rl.forEach(d),Et=L(g),qe=m(g,"DIV",{class:!0});var sl=v(qe);X&&X.l(sl),sl.forEach(d),this.h()},h(){document.title="nostr-bookmark-viewer",p(e,"name","description"),p(e,"content",`Nostr bookmark
  pubkey:`+rt.npubEncode(o[13])+`
  tag:`+o[15]),p(l,"prefix","og: https://ogp.me/ns#"),p(t,"property","og:title"),p(t,"content","nostr-bookmark-viewer3"),p(n,"property","og:description"),p(n,"content",`Nostr bookmark
  pubkey:`+rt.npubEncode(o[13])+`
  tag:`+o[15]),p(r,"property","og:image"),p(r,"content","https://nostr-bookmark-viewer3.vercel.app/img2.png"),p(f,"type","button"),p(f,"class","btn variant-filled-secondary py-1 my-2"),p(b,"class","!border-t-2 my-1"),p(z,"class","ml-4"),p(de,"class","ml-4"),p(N,"class","list-disc"),p(Y,"class","!border-t-2 my-1"),p($e,"class","mt-2"),p(ye,"class","list-disc"),p(Me,"class","mt-2"),p(Ve,"class","list-disc"),p(V,"class","!border-t-2 my-1"),p(Be,"class","btn variant-filled-primary p-0 w-5"),p(ue,"class","ml-4"),p(xe,"class","btn variant-filled-primary p-0 w-5"),p(Ae,"class","ml-4"),p(et,"class","btn variant-filled-primary rounded-full p-0 w-5"),p(Re,"class","ml-4"),p(tt,"class","btn variant-filled-primary p-0 w-5"),p(Fe,"class","ml-4"),p(ie,"class","list-disc"),p(he,"class","text-sm"),p(pt,"class","arrow bg-surface-100-800-token"),p(i,"class","card border border-purple-800 p-4 w-[22rem] shadow-xl z-20 break-all max-h-[80%] overflow-auto"),p(i,"data-popup","popupFeatured"),p(Ce,"class","container max-w-5xl px-1 mt-24 mb-12"),p(Ne,"type","button"),p(Ne,"class","btn variant-filled-primary"),p(He,"class","btn-group py-0.5 variant-filled-primary w-screen justify-center rounded-none"),p(Xe,"class","fixed bottom-0 z-10 w-screen"),p(qe,"class","container max-w-5xl mx-auto z-10")},m(g,j){c(document.head,e),c(document.head,l),c(document.head,t),c(document.head,n),c(document.head,r),y(g,a,j),x(u,g,j),y(g,s,j),y(g,i,j),c(i,f),c(f,_),c(i,k),c(i,b),c(i,I),c(i,E),c(E,T),c(T,S),c(E,D),c(E,N),c(N,z),c(z,se),c(z,fe),c(N,ke),c(N,de),c(de,Oe),c(de,q),c(E,J),c(E,Y),c(E,R),c(E,le),c(le,_e),c(E,pe),c(E,De),c(De,Le),c(E,Se),c(E,$e),c($e,Pe),c(E,Ue),c(E,ye);for(let K=0;K<ne.length;K+=1)ne[K]&&ne[K].m(ye,null);c(E,st),c(E,Me),c(Me,We),c(E,it),c(E,Ve);for(let K=0;K<oe.length;K+=1)oe[K]&&oe[K].m(Ve,null);c(i,ct),c(i,V),c(i,Q),c(i,he),c(he,ie),c(ie,ue),c(ue,Be),Be.innerHTML=vt,c(ue,we),c(ue,Ie),c(ie,ft),c(ie,Ae),c(Ae,xe),xe.innerHTML=Rl,c(Ae,Bt),c(Ae,gt),c(ie,jt),c(ie,Re),c(Re,et),et.innerHTML=Ut,c(Re,At),c(Re,bt),c(ie,Rt),c(ie,Fe),c(Fe,tt),tt.innerHTML=Fl,c(Fe,Ft),c(Fe,kt),c(i,Ct),c(i,pt),y(g,$t,j),y(g,Ce,j),Je[me].m(Ce,null),y(g,wt,j),y(g,Xe,j),c(Xe,He),x(Te,He,null),c(He,Ht),c(He,Ne),Ee.m(Ne,null),y(g,Et,j),y(g,qe,j),X&&X.m(qe,null),ce=!0,qt||(Gt=[re(f,"click",o[23]),re(Ne,"click",o[40])],qt=!0)},p(g,j){if((!ce||j[0]&2048)&&A!==(A=g[11]("nprofile.html.info")+"")&&U(S,A),(!ce||j[0]&2048)&&G!==(G=g[11]("nprofile.html.preview")+"")&&U(se,G),(!ce||j[0]&32)&&ae!==(ae=g[5]?"ON":"OFF")&&U(fe,ae),(!ce||j[0]&2048)&&C!==(C=g[11]("nprofile.html.loadnote")+"")&&U(Oe,C),(!ce||j[0]&64)&&H!==(H=g[6]?"ON":"OFF")&&U(q,H),j[0]&16384){lt=g[14];let M;for(M=0;M<lt.length;M+=1){const Ke=gl(g,lt,M);ne[M]?ne[M].p(Ke,j):(ne[M]=bl(Ke),ne[M].c(),ne[M].m(ye,null))}for(;M<ne.length;M+=1)ne[M].d(1);ne.length=lt.length}if((!ce||j[0]&2048)&&Qe!==(Qe=g[11]("nprofile.html.search_relays")+"")&&U(We,Qe),j[0]&512){nt=g[9];let M;for(M=0;M<nt.length;M+=1){const Ke=vl(g,nt,M);oe[M]?oe[M].p(Ke,j):(oe[M]=kl(Ke),oe[M].c(),oe[M].m(Ve,null))}for(;M<oe.length;M+=1)oe[M].d(1);oe.length=nt.length}(!ce||j[0]&2048)&&je!==(je=g[11]("nprofile.html.share")+"")&&U(Ie,je),(!ce||j[0]&2048)&&ut!==(ut=g[11]("nprofile.html.openapp")+"")&&U(gt,ut),(!ce||j[0]&2048)&&dt!==(dt=g[11]("nprofile.html.search")+"")&&U(bt,dt),(!ce||j[0]&2048)&&_t!==(_t=g[11]("nprofile.html.warning")+"")&&U(kt,_t);let K=me;me=Xt(g),me===K?Je[me].p(g,j):(be(),B(Je[K],1,1,()=>{Je[K]=null}),ge(),ve=Je[me],ve?ve.p(g,j):(ve=Je[me]=Qt[me](g),ve.c()),P(ve,1),ve.m(Ce,null));const ht={};j[0]&1&&(ht.settings=g[0]),Te.$set(ht),Dt===(Dt=Yt(g))&&Ee?Ee.p(g,j):(Ee.d(1),Ee=Dt(g),Ee&&(Ee.c(),Ee.m(Ne,null))),g[8]?X?j[0]&256&&P(X,1):(X=Pl(),X.c(),P(X,1),X.m(qe,null)):X&&(be(),B(X,1,1,()=>{X=null}),ge())},i(g){ce||(P(u.$$.fragment,g),P(ve),P(Te.$$.fragment,g),P(X),ce=!0)},o(g){B(u.$$.fragment,g),B(ve),B(Te.$$.fragment,g),B(X),ce=!1},d(g){d(e),d(l),d(t),d(n),d(r),g&&d(a),ee(u,g),g&&d(s),g&&d(i),at(ne,g),at(oe,g),g&&d($t),g&&d(Ce),Je[me].d(),g&&d(wt),g&&d(Xe),ee(Te),Ee.d(),g&&d(Et),g&&d(qe),X&&X.d(),qt=!1,Ml(Gt)}}}let mo=0;const Ul=50,vo=o=>o[0]==="content-warning";function go(o,e,l){let t,n,r,a,u,s;mt(o,ot,V=>l(8,n=V)),mt(o,cl,V=>l(9,r=V)),mt(o,on,V=>l(10,a=V)),mt(o,nn,V=>l(11,u=V)),mt(o,fl,V=>l(12,s=V));const{type:i,data:f}=rt.decode(a.params.naddr);let _,k=!1;const{pubkey:b,relays:I,identifier:E,kind:T}=i==="naddr"&&f.relays?{pubkey:f.pubkey,relays:f.relays.length>3?f.relays:[...f.relays,...rn],identifier:f.identifier,kind:f.kind}:{pubkey:"",relays:[],identifier:"",kind:30001};console.log(b,I,E,T),T!==30001&&(_="ブクマのnaddrじゃないかも",console.log("ブクマのnaddrじゃないかも"));const A=E.trim()!==""?[{authors:[b],kinds:[T],"#d":[E]}]:[{authors:[b],kinds:[T]}];let S,D="pub",N,z=!0,G=!0,se;Wl(async()=>{Ze(ot,n=!0,n);const V=localStorage.getItem("config");if(V){const Q=JSON.parse(V);Ze(cl,r=Q.searchRelays,r),l(5,z=Q.URLPreview),l(6,G=Q.loadEvent),se=Q.writeRelays,r.length==0&&l(6,G=!1)}if(b!==""||I.length>0){if(l(3,S=await an(I,A)),console.log(S),S.length===0){l(2,k=!0),l(1,_="ブクマなんもないかも"),console.log("ブクマなんもないかも"),Ze(ot,n=!1,n);return}l(22,N=S[0].tags),Ze(ot,n=!1,n)}});const ae={event:"click",target:"popupFeatured",placement:"bottom"},fe={ref:hn,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function ke(V,Q){console.log(V);const he={type:"component",value:{metadata:V,pubkey:Q},component:fe};Lt.trigger(he)}const de={ref:mn,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function C(V){console.log("click");const Q={type:"component",title:"Event Json",value:{note:V},component:de};Lt.trigger(Q)}const Oe={ref:kn,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function H(V,Q){console.log("quote");const he=[[...V,"","mention"]],ie={type:"component",component:Oe,title:"postNote",body:"",value:{content:`\r
nostr:${rt.noteEncode(V[1])}\r
`,tags:he,pubkey:Q},response:async ue=>{if(console.log(ue),ue){Ze(ot,n=!0,n);const Be={id:"",pubkey:await window.nostr.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:1,tags:ue.tags,content:ue.content,sig:""};let we;if(se.length>0)we=se;else try{const Ie=await window.nostr.getRelays();we=Object.keys(Ie).filter(ft=>Ie[ft].write===!0),we=we.length>0?we:I}catch{we=I}const je=await cn(Be,we);if(je){const Ie={message:je.msg.join("<br>"),timeout:3e3};fn.trigger(Ie)}Ze(ot,n=!1,n)}}};Lt.trigger(ie)}let q;function J(V){console.log(typeof V.detail),console.log("event:page",V.detail),l(0,q.offset=V.detail,q),Object.is(V.detail,-0)?l(0,q.offset=Math.floor(N.length/q.limit),q):l(0,q.offset=V.detail,q),l(7,t=N.slice(q.offset*q.limit,q.offset*q.limit+q.limit)),window.scrollTo({top:0,behavior:"auto"})}const Y={ref:vn,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function R(V){console.log("search");const Q={type:"component",component:Y,title:"Search",body:"",value:{id:V,isPageOwner:!1},response:async he=>{console.log(he)}};Lt.trigger(Q)}const le=()=>un(window.location.origin);function _e(V){D=V,l(4,D)}const pe=V=>{console.log("test"),R(V.id)},De=V=>{console.log("test"),R(V.id)},Ge=V=>{console.log("test"),R(V.id)},Le=V=>{C(V)},Se=V=>{C(V)},$e=V=>{C(V)},Pe=(V,Q)=>{ke(V,Q.pubkey)},Ue=V=>{C(V)},ye=(V,Q)=>{ke(V,Q[1])},st=V=>{C(V)},Me=V=>H(V.tag,""),Qe=V=>H(V.tag,""),We=V=>H(V.tag,""),it=(V,Q)=>H(V.tag,Q.pubkey),Ve=V=>{window.open("https://nostr.com/"+rt.noteEncode(V.id),"_blank")},ct=()=>{Ze(fl,s=!s,s)};return o.$$.update=()=>{o.$$.dirty[0]&4194304&&l(0,q={offset:0,limit:Ul,size:N&&N.length>0?N.length:1,amounts:[Ul]}),o.$$.dirty[0]&4194305&&l(7,t=N&&N.slice(q.offset*q.limit,q.offset*q.limit+q.limit))},[q,_,k,S,D,z,G,t,n,r,a,u,s,b,I,E,ae,ke,C,H,J,R,N,le,_e,pe,De,Ge,Le,Se,$e,Pe,Ue,ye,st,Me,Qe,We,it,Ve,ct]}class yo extends Ql{constructor(e){super(),Xl(this,e,go,ho,Yl,{},null,[-1,-1,-1])}}export{yo as component};
