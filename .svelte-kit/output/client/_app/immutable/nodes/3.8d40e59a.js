import{S as Ml,i as Bl,s as jl,k as h,a as N,y as Y,q as w,D as Al,l as v,h as u,c as L,z as Z,m,r as E,n as p,F as c,b as I,A as W,O as ne,u as j,d as M,f as he,g as P,B as x,X as tt,P as wl,L as ht,o as Rl,T as ze,K as F,v as ve,Y as Fl,w as Cl,Z as Hl,_ as ql,e as ee,H as El,E as yl,$ as gt,a0 as Dl,V as Yt}from"../chunks/index.1fa16860.js";import{p as Jl}from"../chunks/stores.a22b943f.js";import{n as mt,R as Kl,s as Zt,f as zl,P as Gl,b as et,c as Wt,p as Ql,t as Xl,g as Yl,e as xt,u as bt}from"../chunks/navigation.b66b9f2c.js";import{M as Zl,s as it,o as Il,a as kt,w as Vl,m as vt,N as Wl,b as xl,c as er,d as tr,S as lr,T as Ut,e as Tl,C as $t,g as el}from"../chunks/Content.9801d256.js";import{M as rr,A as nr,T as Nl,a as Ll,P as ar}from"../chunks/PostNote.3e73bc0a.js";import{p as or}from"../chunks/popup.28cfbfc0.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.baaee050.js";function tl(n,e,l){const t=n.slice();return t[49]=e[l],t[51]=l,t}function ll(n,e,l){const t=n.slice();return t[52]=e[l],t}function rl(n,e,l){const t=n.slice();return t[58]=e[l],t}function nl(n,e,l){const t=n.slice();return t[52]=e[l],t}function al(n,e,l){const t=n.slice();return t[64]=e[l],t}function ol(n,e,l){const t=n.slice();return t[64]=e[l],t}function sl(n){let e,l=n[64]+"",t;return{c(){e=h("li"),t=w(l),this.h()},l(r){e=v(r,"LI",{class:!0});var a=m(e);t=E(a,l),a.forEach(u),this.h()},h(){p(e,"class","ml-4")},m(r,a){I(r,e,a),c(e,t)},p:F,d(r){r&&u(e)}}}function il(n){let e,l=n[64]+"",t;return{c(){e=h("li"),t=w(l),this.h()},l(r){e=v(r,"LI",{class:!0});var a=m(e);t=E(a,l),a.forEach(u),this.h()},h(){p(e,"class","ml-4")},m(r,a){I(r,e,a),c(e,t)},p(r,a){a[0]&512&&l!==(l=r[64]+"")&&j(t,l)},d(r){r&&u(e)}}}function sr(n){let e,l,t,r,a,s,f,o;return t=new nr({props:{gridColumns:"grid grid-cols-[auto_1fr_auto]",slotDefault:"place-self-center",slotTrail:"place-self-end",padding:"p-0",background:"bg-surface-300-600-token ",gap:"gap-0",$$slots:{trail:[pr],lead:[_r],default:[dr]},$$scope:{ctx:n}}}),a=new Nl({props:{justify:"justify-center",flex:"flex-1",rounded:"",class:"bg-surface-50/80 dark:bg-surface-800/80 w-full drop-shadow",$$slots:{default:[vr]},$$scope:{ctx:n}}}),f=new Wl({props:{relays:n[9],$$slots:{default:[Yr]},$$scope:{ctx:n}}}),{c(){e=h("div"),l=h("div"),Y(t.$$.fragment),r=N(),Y(a.$$.fragment),s=N(),Y(f.$$.fragment),this.h()},l(i){e=v(i,"DIV",{class:!0});var d=m(e);l=v(d,"DIV",{class:!0});var _=m(l);Z(t.$$.fragment,_),r=L(_),Z(a.$$.fragment,_),_.forEach(u),d.forEach(u),s=L(i),Z(f.$$.fragment,i),this.h()},h(){p(l,"class","max-w-screen-lg m-auto z-10"),p(e,"class","w-full fixed top-0 left-1/2 transform -translate-x-1/2 z-10")},m(i,d){I(i,e,d),c(e,l),W(t,l,null),c(l,r),W(a,l,null),I(i,s,d),W(f,i,d),o=!0},p(i,d){const _={};d[0]&264|d[2]&128&&(_.$$scope={dirty:d,ctx:i}),t.$set(_);const g={};d[0]&16|d[2]&128&&(g.$$scope={dirty:d,ctx:i}),a.$set(g);const k={};d[0]&512&&(k.relays=i[9]),d[0]&3488|d[2]&128&&(k.$$scope={dirty:d,ctx:i}),f.$set(k)},i(i){o||(P(t.$$.fragment,i),P(a.$$.fragment,i),P(f.$$.fragment,i),o=!0)},o(i){M(t.$$.fragment,i),M(a.$$.fragment,i),M(f.$$.fragment,i),o=!1},d(i){i&&u(e),x(t),x(a),i&&u(s),x(f,i)}}}function ir(n){let e;return{c(){e=w(n[1])},l(l){e=E(l,n[1])},m(l,t){I(l,e,t)},p(l,t){t[0]&2&&j(e,l[1])},i:F,o:F,d(l){l&&u(e)}}}function cr(n){let e;return{c(){e=w("now loading")},l(l){e=E(l,"now loading")},m(l,t){I(l,e,t)},p:F,i:F,o:F,d(l){l&&u(e)}}}function cl(n){let e,l;return e=new Ll({props:{group:en,name:n[3][0].tags[0][1],value:0,$$slots:{default:[fr]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){W(e,t,r),l=!0},p(t,r){const a={};r[0]&8&&(a.name=t[3][0].tags[0][1]),r[0]&8|r[2]&128&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function fr(n){let e=n[3][0].tags[0][1]+"",l;return{c(){l=w(e)},l(t){l=E(t,e)},m(t,r){I(t,l,r)},p(t,r){r[0]&8&&e!==(e=t[3][0].tags[0][1]+"")&&j(l,e)},d(t){t&&u(l)}}}function ur(n){let e,l,t=!n[8]&&cl(n);return{c(){t&&t.c(),e=ee()},l(r){t&&t.l(r),e=ee()},m(r,a){t&&t.m(r,a),I(r,e,a),l=!0},p(r,a){r[8]?t&&(ve(),M(t,1,1,()=>{t=null}),he()):t?(t.p(r,a),a[0]&256&&P(t,1)):(t=cl(r),t.c(),P(t,1),t.m(e.parentNode,e))},i(r){l||(P(t),l=!0)},o(r){M(t),l=!1},d(r){t&&t.d(r),r&&u(e)}}}function dr(n){let e,l,t;return l=new Nl({props:{padding:"py-3 px-4",justify:"justify",active:"variant-filled-secondary",hover:"hover:variant-soft-secondary",border:"border-b border-surface-400-500-token",rounded:"rounded-tl-container-token rounded-tr-container-token",$$slots:{default:[ur]},$$scope:{ctx:n}}}),{c(){e=h("div"),Y(l.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=m(e);Z(l.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"class","tabGroup svelte-pws32x")},m(r,a){I(r,e,a),W(l,e,null),t=!0},p(r,a){const s={};a[0]&264|a[2]&128&&(s.$$scope={dirty:a,ctx:r}),l.$set(s)},i(r){t||(P(l.$$.fragment,r),t=!0)},o(r){M(l.$$.fragment,r),t=!1},d(r){r&&u(e),x(l)}}}function _r(n){let e,l,t,r,a;return{c(){e=h("div"),l=h("button"),t=w("📝"),this.h()},l(s){e=v(s,"DIV",{class:!0});var f=m(e);l=v(f,"BUTTON",{class:!0});var o=m(l);t=E(o,"📝"),o.forEach(u),f.forEach(u),this.h()},h(){p(l,"class","btn-icon variant-filled-surface"),p(e,"class","lead-icon pl-2 z-20")},m(s,f){I(s,e,f),c(e,l),c(l,t),r||(a=Fl(or.call(null,l,n[15])),r=!0)},p:F,d(s){s&&u(e),r=!1,a()}}}function pr(n){let e;return{c(){e=h("div"),this.h()},l(l){e=v(l,"DIV",{class:!0}),m(e).forEach(u),this.h()},h(){p(e,"class","pr-2 text-center justify-center")},m(l,t){I(l,e,t)},p:F,d(l){l&&u(e)}}}function hr(n){let e;return{c(){e=w("public")},l(l){e=E(l,"public")},m(l,t){I(l,e,t)},d(l){l&&u(e)}}}function vr(n){let e,l,t;function r(s){n[23](s)}let a={name:"pub",value:"pub",$$slots:{default:[hr]},$$scope:{ctx:n}};return n[4]!==void 0&&(a.group=n[4]),e=new Ll({props:a}),Cl.push(()=>Hl(e,"group",r)),{c(){Y(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,f){W(e,s,f),t=!0},p(s,f){const o={};f[2]&128&&(o.$$scope={dirty:f,ctx:s}),!l&&f[0]&16&&(l=!0,o.group=s[4],ql(()=>l=!1)),e.$set(o)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){M(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function fl(n){let e,l,t=n[7],r=[];for(let s=0;s<t.length;s+=1)r[s]=bl(tl(n,t,s));const a=s=>M(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ee()},l(s){for(let f=0;f<r.length;f+=1)r[f].l(s);e=ee()},m(s,f){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(s,f);I(s,e,f),l=!0},p(s,f){if(f[0]&1510816|f[1]&100663296){t=s[7];let o;for(o=0;o<t.length;o+=1){const i=tl(s,t,o);r[o]?(r[o].p(i,f),P(r[o],1)):(r[o]=bl(i),r[o].c(),P(r[o],1),r[o].m(e.parentNode,e))}for(ve(),o=t.length;o<r.length;o+=1)a(o);he()}},i(s){if(!l){for(let f=0;f<t.length;f+=1)P(r[f]);l=!0}},o(s){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)M(r[f]);l=!1},d(s){tt(r,s),s&&u(e)}}}function ul(n){let e,l,t,r,a={ctx:n,current:null,token:null,hasCatch:!1,pending:Xr,then:gr,catch:mr,value:55,blocks:[,,,]};return gt(l=xt(n[49]),a),{c(){e=h("div"),a.block.c(),t=N(),this.h()},l(s){e=v(s,"DIV",{class:!0});var f=m(e);a.block.l(f),t=L(f),f.forEach(u),this.h()},h(){p(e,"class","card drop-shadow px-1 py-2 my-1 grid grid-cols-[1fr_auto] gap-1")},m(s,f){I(s,e,f),a.block.m(e,a.anchor=null),a.mount=()=>e,a.anchor=t,c(e,t),r=!0},p(s,f){n=s,a.ctx=n,f[0]&128&&l!==(l=xt(n[49]))&&gt(l,a)||Dl(a,n,f)},i(s){r||(P(a.block),r=!0)},o(s){for(let f=0;f<3;f+=1){const o=a.blocks[f];M(o)}r=!1},d(s){s&&u(e),a.block.d(),a.token=null,a=null}}}function mr(n){return{c:F,l:F,m:F,p:F,i:F,o:F,d:F}}function gr(n){let e,l,t,r,a;const s=[kr,br],f=[];function o(d,_){return d[55].tag[0]==="e"||d[55].tag[0]==="a"?0:1}e=o(n),l=f[e]=s[e](n);let i=n[55].tag[0]==="e"&&vl(n);return{c(){l.c(),t=N(),i&&i.c(),r=ee()},l(d){l.l(d),t=L(d),i&&i.l(d),r=ee()},m(d,_){f[e].m(d,_),I(d,t,_),i&&i.m(d,_),I(d,r,_),a=!0},p(d,_){let g=e;e=o(d),e===g?f[e].p(d,_):(ve(),M(f[g],1,1,()=>{f[g]=null}),he(),l=f[e],l?l.p(d,_):(l=f[e]=s[e](d),l.c()),P(l,1),l.m(t.parentNode,t)),d[55].tag[0]==="e"?i?(i.p(d,_),_[0]&128&&P(i,1)):(i=vl(d),i.c(),P(i,1),i.m(r.parentNode,r)):i&&(ve(),M(i,1,1,()=>{i=null}),he())},i(d){a||(P(l),P(i),a=!0)},o(d){M(l),M(i),a=!1},d(d){f[e].d(d),d&&u(t),i&&i.d(d),d&&u(r)}}}function br(n){let e,l,t=n[55].tag[0]+"",r,a,s,f=n[55].tag.slice(1),o=[];for(let i=0;i<f.length;i+=1)o[i]=dl(ll(n,f,i));return{c(){e=h("div"),l=h("div"),r=w(t),a=N(),s=h("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var d=m(e);l=v(d,"DIV",{class:!0});var _=m(l);r=E(_,t),_.forEach(u),a=L(d),s=v(d,"DIV",{class:!0});var g=m(s);for(let k=0;k<o.length;k+=1)o[k].l(g);g.forEach(u),d.forEach(u),this.h()},h(){p(l,"class","font-bold"),p(s,"class","flex"),p(e,"class","grid grid-rows-[auto_auto] gap-0")},m(i,d){I(i,e,d),c(e,l),c(l,r),c(e,a),c(e,s);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(s,null)},p(i,d){if(d[0]&128&&t!==(t=i[55].tag[0]+"")&&j(r,t),d[0]&128){f=i[55].tag.slice(1);let _;for(_=0;_<f.length;_+=1){const g=ll(i,f,_);o[_]?o[_].p(g,d):(o[_]=dl(g),o[_].c(),o[_].m(s,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=f.length}},i:F,o:F,d(i){i&&u(e),tt(o,i)}}}function kr(n){let e,l;return e=new Ut({props:{queryKey:[n[55].id],id:n[55].id,$$slots:{nodata:[Jr,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]],error:[qr,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]],loading:[Hr,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]],default:[Cr,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){W(e,t,r),l=!0},p(t,r){const a={};r[0]&128&&(a.queryKey=[t[55].id]),r[0]&128&&(a.id=t[55].id),r[0]&3232|r[1]&33554432|r[2]&128&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function dl(n){let e,l=n[52]+"",t,r;return{c(){e=h("div"),t=w(l),r=N(),this.h()},l(a){e=v(a,"DIV",{class:!0});var s=m(e);t=E(s,l),r=L(s),s.forEach(u),this.h()},h(){p(e,"class","flex flex-wrap px-1 mx-1 break-all")},m(a,s){I(a,e,s),c(e,t),c(e,r)},p(a,s){s[0]&128&&l!==(l=a[52]+"")&&j(t,l)},d(a){a&&u(e)}}}function _l(n){let e,l,t={ctx:n,current:null,token:null,hasCatch:!1,pending:Er,then:wr,catch:$r,value:61};return gt(l=el(JSON.parse(n[57].content).picture,n[10].url.origin),t),{c(){e=ee(),t.block.c()},l(r){e=ee(),t.block.l(r)},m(r,a){I(r,e,a),t.block.m(r,t.anchor=a),t.mount=()=>e.parentNode,t.anchor=e},p(r,a){n=r,t.ctx=n,a[0]&1024|a[1]&67108864&&l!==(l=el(JSON.parse(n[57].content).picture,n[10].url.origin))&&gt(l,t)||Dl(t,n,a)},d(r){r&&u(e),t.block.d(r),t.token=null,t=null}}}function $r(n){return{c:F,l:F,m:F,p:F,d:F}}function wr(n){let e,l;return{c(){e=h("img"),this.h()},l(t){e=v(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){p(e,"class","w-12 object-contain justify-center"),Yt(e.src,l=n[61])||p(e,"src",l),p(e,"alt","avatar")},m(t,r){I(t,e,r)},p(t,r){r[0]&1024|r[1]&67108864&&!Yt(e.src,l=t[61])&&p(e,"src",l)},d(t){t&&u(e)}}}function Er(n){let e,l;return{c(){e=h("div"),l=w("loading"),this.h()},l(t){e=v(t,"DIV",{class:!0});var r=m(e);l=E(r,"loading"),r.forEach(u),this.h()},h(){p(e,"class","flex justify-center items-center text-sm")},m(t,r){I(t,e,r),c(e,l)},p:F,d(t){t&&u(e)}}}function pl(n){let e,l,t=bt(n[56].tags),r=[];for(let s=0;s<t.length;s+=1)r[s]=hl(rl(n,t,s));const a=s=>M(r[s],1,1,()=>{r[s]=null});return{c(){e=h("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=v(s,"DIV",{class:!0});var f=m(e);for(let o=0;o<r.length;o+=1)r[o].l(f);f.forEach(u),this.h()},h(){p(e,"class","max-h-[6em] overflow-auto whitespace-nowrap border-s-4 border-s-rose-800/25 dark:border-s-rose-100/25")},m(s,f){I(s,e,f);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);l=!0},p(s,f){if(f[0]&198656|f[1]&100663296){t=bt(s[56].tags);let o;for(o=0;o<t.length;o+=1){const i=rl(s,t,o);r[o]?(r[o].p(i,f),P(r[o],1)):(r[o]=hl(i),r[o].c(),P(r[o],1),r[o].m(e,null))}for(ve(),o=t.length;o<r.length;o+=1)a(o);he()}},i(s){if(!l){for(let f=0;f<t.length;f+=1)P(r[f]);l=!0}},o(s){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)M(r[f]);l=!1},d(s){s&&u(e),tt(r,s)}}}function yr(n){let e,l,t=n[58][0]+"",r,a,s=n[58][1]+"",f,o;return{c(){e=h("div"),l=w("["),r=w(t),a=w(`]
                                    `),f=w(s),o=N(),this.h()},l(i){e=v(i,"DIV",{class:!0});var d=m(e);l=E(d,"["),r=E(d,t),a=E(d,`]
                                    `),f=E(d,s),o=L(d),d.forEach(u),this.h()},h(){p(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(i,d){I(i,e,d),c(e,l),c(e,r),c(e,a),c(e,f),c(e,o)},p(i,d){d[1]&33554432&&t!==(t=i[58][0]+"")&&j(r,t),d[1]&33554432&&s!==(s=i[58][1]+"")&&j(f,s)},i:F,o:F,d(i){i&&u(e)}}}function Dr(n){let e,l;return e=new Ut({props:{queryKey:[n[58][1]],id:n[58][1],$$slots:{nodata:[Sr,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]],error:[Or,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]],loading:[Lr,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]],default:[Nr,({text:t})=>({56:t}),({text:t})=>[0,t?33554432:0]]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){W(e,t,r),l=!0},p(t,r){const a={};r[1]&33554432&&(a.queryKey=[t[58][1]]),r[1]&33554432&&(a.id=t[58][1]),r[0]&2048|r[1]&33554432|r[2]&128&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Ir(n){let e,l;return e=new Tl({props:{queryKey:["metadata",n[58][1]],pubkey:n[58][1],$$slots:{nodata:[Br,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]],error:[Mr,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]],loading:[Ur,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]],default:[Pr,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){W(e,t,r),l=!0},p(t,r){const a={};r[1]&33554432&&(a.queryKey=["metadata",t[58][1]]),r[1]&33554432&&(a.pubkey=t[58][1]),r[1]&100663296|r[2]&128&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Vr(n){let e=n[56].content+"",l;return{c(){l=w(e)},l(t){l=E(t,e)},m(t,r){I(t,l,r)},p(t,r){r[1]&33554432&&e!==(e=t[56].content+"")&&j(l,e)},d(t){t&&u(l)}}}function Tr(n){let e="<content-warning>",l;return{c(){l=w(e)},l(t){l=E(t,e)},m(t,r){I(t,l,r)},p:F,d(t){t&&u(l)}}}function Nr(n){let e,l,t=n[58][0]+"",r,a,s,f,o,i,d;function _($,O){return O[0]&2048|O[1]&33554432&&(f=null),f==null&&(f=!!($[56].tags.some(tn)&&$[11]==!1)),f?Tr:Vr}let g=_(n,[-1,-1,-1]),k=g(n);function V(){return n[33](n[56])}return{c(){e=h("div"),l=w("["),r=w(t),a=w(`]
                                      `),s=h("button"),k.c(),o=N(),this.h()},l($){e=v($,"DIV",{class:!0});var O=m(e);l=E(O,"["),r=E(O,t),a=E(O,`]
                                      `),s=v(O,"BUTTON",{class:!0});var A=m(s);k.l(A),A.forEach(u),O.forEach(u),o=L($),this.h()},h(){p(s,"class","text-emerald-800 dark:text-blue-400 whitespace-nowrap overflow-hidden text-ellipsis"),p(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m($,O){I($,e,O),c(e,l),c(e,r),c(e,a),c(e,s),k.m(s,null),I($,o,O),i||(d=ne(s,"click",V),i=!0)},p($,O){n=$,O[1]&33554432&&t!==(t=n[58][0]+"")&&j(r,t),g===(g=_(n,O))&&k?k.p(n,O):(k.d(1),k=g(n),k&&(k.c(),k.m(s,null)))},d($){$&&u(e),k.d(),$&&u(o),i=!1,d()}}}function Lr(n){let e,l,t,r=n[58][0]+"",a,s,f=n[58][1]+"",o,i;return{c(){e=h("div"),l=h("div"),t=w("["),a=w(r),s=w("] "),o=w(f),i=N(),this.h()},l(d){e=v(d,"DIV",{slot:!0});var _=m(e);l=v(_,"DIV",{class:!0});var g=m(l);t=E(g,"["),a=E(g,r),s=E(g,"] "),o=E(g,f),g.forEach(u),i=L(_),_.forEach(u),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","loading")},m(d,_){I(d,e,_),c(e,l),c(l,t),c(l,a),c(l,s),c(l,o),c(e,i)},p(d,_){_[1]&33554432&&r!==(r=d[58][0]+"")&&j(a,r),_[1]&33554432&&f!==(f=d[58][1]+"")&&j(o,f)},d(d){d&&u(e)}}}function Or(n){let e,l,t,r=n[58][0]+"",a,s,f=n[58][1]+"",o,i;return{c(){e=h("div"),l=h("div"),t=w("["),a=w(r),s=w("] "),o=w(f),i=N(),this.h()},l(d){e=v(d,"DIV",{slot:!0});var _=m(e);l=v(_,"DIV",{class:!0});var g=m(l);t=E(g,"["),a=E(g,r),s=E(g,"] "),o=E(g,f),g.forEach(u),i=L(_),_.forEach(u),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","error")},m(d,_){I(d,e,_),c(e,l),c(l,t),c(l,a),c(l,s),c(l,o),c(e,i)},p(d,_){_[1]&33554432&&r!==(r=d[58][0]+"")&&j(a,r),_[1]&33554432&&f!==(f=d[58][1]+"")&&j(o,f)},d(d){d&&u(e)}}}function Sr(n){let e,l,t,r=n[58][0]+"",a,s,f=n[58][1]+"",o,i;return{c(){e=h("div"),l=h("div"),t=w("["),a=w(r),s=w("] "),o=w(f),i=N(),this.h()},l(d){e=v(d,"DIV",{slot:!0});var _=m(e);l=v(_,"DIV",{class:!0});var g=m(l);t=E(g,"["),a=E(g,r),s=E(g,"] "),o=E(g,f),g.forEach(u),i=L(_),_.forEach(u),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","nodata")},m(d,_){I(d,e,_),c(e,l),c(l,t),c(l,a),c(l,s),c(l,o),c(e,i)},p(d,_){_[1]&33554432&&r!==(r=d[58][0]+"")&&j(a,r),_[1]&33554432&&f!==(f=d[58][1]+"")&&j(o,f)},d(d){d&&u(e)}}}function Pr(n){let e,l,t,r,a,s=JSON.parse(n[57].content).name+"",f,o,i,d;function _(){return n[32](n[57],n[58])}return{c(){e=h("div"),l=w("to[p] "),t=h("button"),r=w("@"),a=h("u"),f=w(s),o=N(),this.h()},l(g){e=v(g,"DIV",{class:!0});var k=m(e);l=E(k,"to[p] "),t=v(k,"BUTTON",{class:!0});var V=m(t);r=E(V,"@"),a=v(V,"U",{});var $=m(a);f=E($,s),$.forEach(u),V.forEach(u),k.forEach(u),o=L(g),this.h()},h(){p(t,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),p(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(g,k){I(g,e,k),c(e,l),c(e,t),c(t,r),c(t,a),c(a,f),I(g,o,k),i||(d=ne(t,"click",_),i=!0)},p(g,k){n=g,k[1]&67108864&&s!==(s=JSON.parse(n[57].content).name+"")&&j(f,s)},d(g){g&&u(e),g&&u(o),i=!1,d()}}}function Ur(n){let e,l,t,r=n[58][1]+"",a,s;return{c(){e=h("div"),l=h("div"),t=w("to[p] "),a=w(r),s=N(),this.h()},l(f){e=v(f,"DIV",{slot:!0});var o=m(e);l=v(o,"DIV",{class:!0});var i=m(l);t=E(i,"to[p] "),a=E(i,r),i.forEach(u),s=L(o),o.forEach(u),this.h()},h(){p(l,"class","-mt- px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","loading")},m(f,o){I(f,e,o),c(e,l),c(l,t),c(l,a),c(e,s)},p(f,o){o[1]&33554432&&r!==(r=f[58][1]+"")&&j(a,r)},d(f){f&&u(e)}}}function Mr(n){let e,l,t,r=n[58][1]+"",a,s;return{c(){e=h("div"),l=h("div"),t=w("to[p] "),a=w(r),s=N(),this.h()},l(f){e=v(f,"DIV",{slot:!0});var o=m(e);l=v(o,"DIV",{class:!0});var i=m(l);t=E(i,"to[p] "),a=E(i,r),i.forEach(u),s=L(o),o.forEach(u),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","error")},m(f,o){I(f,e,o),c(e,l),c(l,t),c(l,a),c(e,s)},p(f,o){o[1]&33554432&&r!==(r=f[58][1]+"")&&j(a,r)},d(f){f&&u(e)}}}function Br(n){let e,l,t,r=n[58][1]+"",a,s;return{c(){e=h("div"),l=h("div"),t=w("to[p] "),a=w(r),s=N(),this.h()},l(f){e=v(f,"DIV",{slot:!0});var o=m(e);l=v(o,"DIV",{class:!0});var i=m(l);t=E(i,"to[p] "),a=E(i,r),i.forEach(u),s=L(o),o.forEach(u),this.h()},h(){p(l,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),p(e,"slot","nodata")},m(f,o){I(f,e,o),c(e,l),c(l,t),c(l,a),c(e,s)},p(f,o){o[1]&33554432&&r!==(r=f[58][1]+"")&&j(a,r)},d(f){f&&u(e)}}}function hl(n){let e,l,t,r;const a=[Ir,Dr,yr],s=[];function f(o,i){return o[58][0]==="p"?0:o[58][0]==="e"||o[58][0]==="q"?1:2}return e=f(n),l=s[e]=a[e](n),{c(){l.c(),t=ee()},l(o){l.l(o),t=ee()},m(o,i){s[e].m(o,i),I(o,t,i),r=!0},p(o,i){let d=e;e=f(o),e===d?s[e].p(o,i):(ve(),M(s[d],1,1,()=>{s[d]=null}),he(),l=s[e],l?l.p(o,i):(l=s[e]=a[e](o),l.c()),P(l,1),l.m(t.parentNode,t))},i(o){r||(P(l),r=!0)},o(o){M(l),r=!1},d(o){s[e].d(o),o&&u(t)}}}function jr(n){let e,l,t=JSON.parse(n[57].content).picture,r,a,s,f,o=JSON.parse(n[57].content).display_name+"",i,d,_,g,k,V,$=JSON.parse(n[57].content).name+"",O,A,T,b,S=new Date(n[56].created_at*1e3).toLocaleString()+"",z,K,ke=bt(n[56].tags).length>0,$e,X,ae,G,we,ie,B=t&&_l(n);function He(){return n[30](n[57],n[56])}function Ee(){return n[31](n[56])}let C=ke&&pl(n);return ae=new $t({props:{text:n[56].content,tag:n[56].tags,id:n[56].id,view:n[11],URLPreview:n[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),B&&B.c(),r=N(),a=h("div"),s=h("div"),f=h("div"),i=w(o),d=N(),_=h("div"),g=h("button"),k=w("@"),V=h("u"),O=w($),A=N(),T=h("div"),b=h("button"),z=w(S),K=N(),C&&C.c(),$e=N(),X=h("div"),Y(ae.$$.fragment),this.h()},l(te){e=v(te,"DIV",{class:!0});var H=m(e);l=v(H,"DIV",{class:!0});var oe=m(l);B&&B.l(oe),oe.forEach(u),r=L(H),a=v(H,"DIV",{class:!0});var ce=m(a);s=v(ce,"DIV",{class:!0});var fe=m(s);f=v(fe,"DIV",{class:!0});var me=m(f);i=E(me,o),me.forEach(u),d=L(fe),_=v(fe,"DIV",{class:!0});var Oe=m(_);g=v(Oe,"BUTTON",{class:!0});var ye=m(g);k=E(ye,"@"),V=v(ye,"U",{});var ue=m(V);O=E(ue,$),ue.forEach(u),ye.forEach(u),Oe.forEach(u),A=L(fe),T=v(fe,"DIV",{class:!0});var Se=m(T);b=v(Se,"BUTTON",{class:!0});var ge=m(b);z=E(ge,S),ge.forEach(u),Se.forEach(u),fe.forEach(u),K=L(ce),C&&C.l(ce),$e=L(ce),X=v(ce,"DIV",{class:!0});var Pe=m(X);Z(ae.$$.fragment,Pe),Pe.forEach(u),ce.forEach(u),H.forEach(u),this.h()},h(){p(l,"class","w-12 h-12 rounded-full flex justify-center overflow-hidden bg-surface-500/25 mt-1"),p(f,"class","font-bold wi truncate justify-items-end"),p(g,"class","text-emerald-800 dark:text-blue-500 text-sm"),p(_,"class","truncate wid min-w-[2em] justify-items-end"),p(b,"class","text-sm underline decoration-secondary-500"),p(T,"class","min-w-max"),p(s,"class","w-full grid grid-cols-[auto_1fr_auto] gap-1 h-fix"),p(X,"class","parent-container break-all whitespace-pre-wrap"),p(a,"class","grid grid-rows-[auto_auto_auto] gap-0 break-all w-full"),p(e,"class","grid grid-cols-[auto_1fr] gap-1")},m(te,H){I(te,e,H),c(e,l),B&&B.m(l,null),c(e,r),c(e,a),c(a,s),c(s,f),c(f,i),c(s,d),c(s,_),c(_,g),c(g,k),c(g,V),c(V,O),c(s,A),c(s,T),c(T,b),c(b,z),c(a,K),C&&C.m(a,null),c(a,$e),c(a,X),W(ae,X,null),G=!0,we||(ie=[ne(g,"click",He),ne(b,"click",Ee)],we=!0)},p(te,H){n=te,H[1]&67108864&&(t=JSON.parse(n[57].content).picture),t?B?B.p(n,H):(B=_l(n),B.c(),B.m(l,null)):B&&(B.d(1),B=null),(!G||H[1]&67108864)&&o!==(o=JSON.parse(n[57].content).display_name+"")&&j(i,o),(!G||H[1]&67108864)&&$!==($=JSON.parse(n[57].content).name+"")&&j(O,$),(!G||H[1]&33554432)&&S!==(S=new Date(n[56].created_at*1e3).toLocaleString()+"")&&j(z,S),H[1]&33554432&&(ke=bt(n[56].tags).length>0),ke?C?(C.p(n,H),H[1]&33554432&&P(C,1)):(C=pl(n),C.c(),P(C,1),C.m(a,$e)):C&&(ve(),M(C,1,1,()=>{C=null}),he());const oe={};H[1]&33554432&&(oe.text=n[56].content),H[1]&33554432&&(oe.tag=n[56].tags),H[1]&33554432&&(oe.id=n[56].id),H[0]&2048&&(oe.view=n[11]),H[0]&32&&(oe.URLPreview=n[5]),ae.$set(oe)},i(te){G||(P(C),P(ae.$$.fragment,te),G=!0)},o(te){M(C),M(ae.$$.fragment,te),G=!1},d(te){te&&u(e),B&&B.d(),C&&C.d(),x(ae),we=!1,wl(ie)}}}function Ar(n){let e,l,t,r=n[56].pubkey+"",a,s,f,o,i=new Date(n[56].created_at*1e3).toLocaleString()+"",d,_,g,k,V,$,O;function A(){return n[29](n[56])}return k=new $t({props:{text:n[56].content,tag:n[56].tags,id:n[56].id,view:n[11],URLPreview:n[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),t=w("Loading profile... ("),a=w(r),s=w(")"),f=N(),o=h("button"),d=w(i),_=N(),g=h("div"),Y(k.$$.fragment),this.h()},l(T){e=v(T,"DIV",{slot:!0});var b=m(e);l=v(b,"DIV",{class:!0});var S=m(l);t=E(S,"Loading profile... ("),a=E(S,r),s=E(S,")"),S.forEach(u),f=L(b),o=v(b,"BUTTON",{class:!0});var z=m(o);d=E(z,i),z.forEach(u),_=L(b),g=v(b,"DIV",{class:!0});var K=m(g);Z(k.$$.fragment,K),K.forEach(u),b.forEach(u),this.h()},h(){p(l,"class","text-sm break-all overflow-hidden"),p(o,"class","text-sm underline decoration-secondary-500"),p(g,"class","parent-container break-all whitespace-pre-wrap"),p(e,"slot","loading")},m(T,b){I(T,e,b),c(e,l),c(l,t),c(l,a),c(l,s),c(e,f),c(e,o),c(o,d),c(e,_),c(e,g),W(k,g,null),V=!0,$||(O=ne(o,"click",A),$=!0)},p(T,b){n=T,(!V||b[1]&33554432)&&r!==(r=n[56].pubkey+"")&&j(a,r),(!V||b[1]&33554432)&&i!==(i=new Date(n[56].created_at*1e3).toLocaleString()+"")&&j(d,i);const S={};b[1]&33554432&&(S.text=n[56].content),b[1]&33554432&&(S.tag=n[56].tags),b[1]&33554432&&(S.id=n[56].id),b[0]&2048&&(S.view=n[11]),b[0]&32&&(S.URLPreview=n[5]),k.$set(S)},i(T){V||(P(k.$$.fragment,T),V=!0)},o(T){M(k.$$.fragment,T),V=!1},d(T){T&&u(e),x(k),$=!1,O()}}}function Rr(n){let e,l,t,r=n[56].pubkey+"",a,s,f,o,i=new Date(n[56].created_at*1e3).toLocaleString()+"",d,_,g,k,V,$,O;function A(){return n[28](n[56])}return k=new $t({props:{text:n[56].content,tag:n[56].tags,id:n[56].id,view:n[11],URLPreview:n[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),t=w("Failed to get profile ("),a=w(r),s=w(")"),f=N(),o=h("button"),d=w(i),_=N(),g=h("div"),Y(k.$$.fragment),this.h()},l(T){e=v(T,"DIV",{slot:!0});var b=m(e);l=v(b,"DIV",{class:!0});var S=m(l);t=E(S,"Failed to get profile ("),a=E(S,r),s=E(S,")"),S.forEach(u),f=L(b),o=v(b,"BUTTON",{class:!0});var z=m(o);d=E(z,i),z.forEach(u),_=L(b),g=v(b,"DIV",{class:!0});var K=m(g);Z(k.$$.fragment,K),K.forEach(u),b.forEach(u),this.h()},h(){p(l,"class","text-sm break-all overflow-hidden"),p(o,"class","text-sm underline decoration-secondary-500"),p(g,"class","parent-container break-all whitespace-pre-wrap"),p(e,"slot","error")},m(T,b){I(T,e,b),c(e,l),c(l,t),c(l,a),c(l,s),c(e,f),c(e,o),c(o,d),c(e,_),c(e,g),W(k,g,null),V=!0,$||(O=ne(o,"click",A),$=!0)},p(T,b){n=T,(!V||b[1]&33554432)&&r!==(r=n[56].pubkey+"")&&j(a,r),(!V||b[1]&33554432)&&i!==(i=new Date(n[56].created_at*1e3).toLocaleString()+"")&&j(d,i);const S={};b[1]&33554432&&(S.text=n[56].content),b[1]&33554432&&(S.tag=n[56].tags),b[1]&33554432&&(S.id=n[56].id),b[0]&2048&&(S.view=n[11]),b[0]&32&&(S.URLPreview=n[5]),k.$set(S)},i(T){V||(P(k.$$.fragment,T),V=!0)},o(T){M(k.$$.fragment,T),V=!1},d(T){T&&u(e),x(k),$=!1,O()}}}function Fr(n){let e,l,t,r=n[56].pubkey+"",a,s,f,o,i=new Date(n[56].created_at*1e3).toLocaleString()+"",d,_,g,k,V,$,O;function A(){return n[27](n[56])}return k=new $t({props:{text:n[56].content,tag:n[56].tags,id:n[56].id,view:n[11],URLPreview:n[5],isPageOwner:!1}}),{c(){e=h("div"),l=h("div"),t=w("Profile not found ("),a=w(r),s=w(")"),f=N(),o=h("button"),d=w(i),_=N(),g=h("div"),Y(k.$$.fragment),this.h()},l(T){e=v(T,"DIV",{slot:!0});var b=m(e);l=v(b,"DIV",{class:!0});var S=m(l);t=E(S,"Profile not found ("),a=E(S,r),s=E(S,")"),S.forEach(u),f=L(b),o=v(b,"BUTTON",{class:!0});var z=m(o);d=E(z,i),z.forEach(u),_=L(b),g=v(b,"DIV",{class:!0});var K=m(g);Z(k.$$.fragment,K),K.forEach(u),b.forEach(u),this.h()},h(){p(l,"class","text-sm break-all overflow-hidden"),p(o,"class","text-sm underline decoration-secondary-500"),p(g,"class","parent-container break-all whitespace-pre-wrap"),p(e,"slot","nodata")},m(T,b){I(T,e,b),c(e,l),c(l,t),c(l,a),c(l,s),c(e,f),c(e,o),c(o,d),c(e,_),c(e,g),W(k,g,null),V=!0,$||(O=ne(o,"click",A),$=!0)},p(T,b){n=T,(!V||b[1]&33554432)&&r!==(r=n[56].pubkey+"")&&j(a,r),(!V||b[1]&33554432)&&i!==(i=new Date(n[56].created_at*1e3).toLocaleString()+"")&&j(d,i);const S={};b[1]&33554432&&(S.text=n[56].content),b[1]&33554432&&(S.tag=n[56].tags),b[1]&33554432&&(S.id=n[56].id),b[0]&2048&&(S.view=n[11]),b[0]&32&&(S.URLPreview=n[5]),k.$set(S)},i(T){V||(P(k.$$.fragment,T),V=!0)},o(T){M(k.$$.fragment,T),V=!1},d(T){T&&u(e),x(k),$=!1,O()}}}function Cr(n){let e,l;return e=new Tl({props:{queryKey:["metadata",n[56].pubkey],pubkey:n[56].pubkey,$$slots:{nodata:[Fr,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]],error:[Rr,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]],loading:[Ar,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]],default:[jr,({metadata:t})=>({57:t}),({metadata:t})=>[0,t?67108864:0]]},$$scope:{ctx:n}}}),{c(){Y(e.$$.fragment)},l(t){Z(e.$$.fragment,t)},m(t,r){W(e,t,r),l=!0},p(t,r){const a={};r[1]&33554432&&(a.queryKey=["metadata",t[56].pubkey]),r[1]&33554432&&(a.pubkey=t[56].pubkey),r[0]&3104|r[1]&100663296|r[2]&128&&(a.$$scope={dirty:r,ctx:t}),e.$set(a)},i(t){l||(P(e.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),l=!1},d(t){x(e,t)}}}function Hr(n){let e,l,t,r,a,s,f,o=n[55].id+"",i,d,_,g;function k(){return n[26](n[55])}return{c(){e=h("div"),l=h("div"),t=h("div"),r=h("button"),a=N(),s=h("div"),f=w("Loading note... ("),i=w(o),d=w(")"),this.h()},l(V){e=v(V,"DIV",{slot:!0});var $=m(e);l=v($,"DIV",{class:!0});var O=m(l);t=v(O,"DIV",{class:!0});var A=m(t);r=v(A,"BUTTON",{class:!0});var T=m(r);T.forEach(u),A.forEach(u),a=L(O),s=v(O,"DIV",{class:!0});var b=m(s);f=E(b,"Loading note... ("),i=E(b,o),d=E(b,")"),b.forEach(u),O.forEach(u),$.forEach(u),this.h()},h(){p(r,"class","btn m-0 p-1 variant-filled-primary rounded-full"),p(t,"class","flex justify-center items-center h-auto"),p(s,"class","text-sm break-all overflow-hidden"),p(l,"class","grid grid-cols-[auto_1fr] gap-1 flex"),p(e,"slot","loading")},m(V,$){I(V,e,$),c(e,l),c(l,t),c(t,r),r.innerHTML=kt,c(l,a),c(l,s),c(s,f),c(s,i),c(s,d),_||(g=ne(r,"click",k),_=!0)},p(V,$){n=V,$[0]&128&&o!==(o=n[55].id+"")&&j(i,o)},d(V){V&&u(e),_=!1,g()}}}function qr(n){let e,l,t,r,a,s,f,o=n[55].id+"",i,d,_,g;function k(){return n[25](n[55])}return{c(){e=h("div"),l=h("div"),t=h("div"),r=h("button"),a=N(),s=h("div"),f=w("Failed to get note ("),i=w(o),d=w(")"),this.h()},l(V){e=v(V,"DIV",{slot:!0});var $=m(e);l=v($,"DIV",{class:!0});var O=m(l);t=v(O,"DIV",{class:!0});var A=m(t);r=v(A,"BUTTON",{class:!0});var T=m(r);T.forEach(u),A.forEach(u),a=L(O),s=v(O,"DIV",{class:!0});var b=m(s);f=E(b,"Failed to get note ("),i=E(b,o),d=E(b,")"),b.forEach(u),O.forEach(u),$.forEach(u),this.h()},h(){p(r,"class","btn m-0 p-1 variant-filled-primary rounded-full"),p(t,"class","flex justify-center items-center h-auto"),p(s,"class","text-sm break-all overflow-hidden"),p(l,"class","grid grid-cols-[auto_1fr] gap-1 flex"),p(e,"slot","error")},m(V,$){I(V,e,$),c(e,l),c(l,t),c(t,r),r.innerHTML=kt,c(l,a),c(l,s),c(s,f),c(s,i),c(s,d),_||(g=ne(r,"click",k),_=!0)},p(V,$){n=V,$[0]&128&&o!==(o=n[55].id+"")&&j(i,o)},d(V){V&&u(e),_=!1,g()}}}function Jr(n){let e,l,t,r,a,s,f,o=n[55].id+"",i,d,_,g;function k(){return n[24](n[55])}return{c(){e=h("div"),l=h("div"),t=h("div"),r=h("button"),a=N(),s=h("div"),f=w("Note not found ("),i=w(o),d=w(")"),this.h()},l(V){e=v(V,"DIV",{slot:!0});var $=m(e);l=v($,"DIV",{class:!0});var O=m(l);t=v(O,"DIV",{class:!0});var A=m(t);r=v(A,"BUTTON",{class:!0});var T=m(r);T.forEach(u),A.forEach(u),a=L(O),s=v(O,"DIV",{class:!0});var b=m(s);f=E(b,"Note not found ("),i=E(b,o),d=E(b,")"),b.forEach(u),O.forEach(u),$.forEach(u),this.h()},h(){p(r,"class","btn m-0 p-1 variant-filled-primary rounded-full"),p(t,"class","flex justify-center items-center h-auto"),p(s,"class","text-sm break-all overflow-hidden"),p(l,"class","grid grid-cols-[auto_1fr] gap-1 flex"),p(e,"slot","nodata")},m(V,$){I(V,e,$),c(e,l),c(l,t),c(t,r),r.innerHTML=kt,c(l,a),c(l,s),c(s,f),c(s,i),c(s,d),_||(g=ne(r,"click",k),_=!0)},p(V,$){n=V,$[0]&128&&o!==(o=n[55].id+"")&&j(i,o)},d(V){V&&u(e),_=!1,g()}}}function vl(n){let e,l,t=!n[8]&&ml(n);return{c(){e=h("div"),t&&t.c(),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=m(e);t&&t.l(a),a.forEach(u),this.h()},h(){p(e,"class","flex flex-col flex-wrap h-16")},m(r,a){I(r,e,a),t&&t.m(e,null),l=!0},p(r,a){r[8]?t&&(ve(),M(t,1,1,()=>{t=null}),he()):t?(t.p(r,a),a[0]&256&&P(t,1)):(t=ml(r),t.c(),P(t,1),t.m(e,null))},i(r){l||(P(t),l=!0)},o(r){M(t),l=!1},d(r){r&&u(e),t&&t.d()}}}function ml(n){let e,l,t,r,a,s;e=new Ut({props:{queryKey:[n[55].id],id:n[55].id,$$slots:{nodata:[Qr,({text:o})=>({56:o}),({text:o})=>[0,o?33554432:0]],error:[Gr,({text:o})=>({56:o}),({text:o})=>[0,o?33554432:0]],loading:[zr,({text:o})=>({56:o}),({text:o})=>[0,o?33554432:0]],default:[Kr,({text:o})=>({56:o}),({text:o})=>[0,o?33554432:0]]},$$scope:{ctx:n}}});function f(){return n[38](n[55])}return{c(){Y(e.$$.fragment),l=N(),t=h("button"),this.h()},l(o){Z(e.$$.fragment,o),l=L(o),t=v(o,"BUTTON",{class:!0});var i=m(t);i.forEach(u),this.h()},h(){p(t,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(o,i){W(e,o,i),I(o,l,i),I(o,t,i),t.innerHTML=Il,r=!0,a||(s=ne(t,"click",f),a=!0)},p(o,i){n=o;const d={};i[0]&128&&(d.queryKey=[n[55].id]),i[0]&128&&(d.id=n[55].id),i[0]&128|i[1]&33554432|i[2]&128&&(d.$$scope={dirty:i,ctx:n}),e.$set(d)},i(o){r||(P(e.$$.fragment,o),r=!0)},o(o){M(e.$$.fragment,o),r=!1},d(o){x(e,o),o&&u(l),o&&u(t),a=!1,s()}}}function Kr(n){let e,l,t;function r(){return n[37](n[55],n[56])}return{c(){e=h("button"),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var s=m(e);s.forEach(u),this.h()},h(){p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(a,s){I(a,e,s),e.innerHTML=it,l||(t=ne(e,"click",r),l=!0)},p(a,s){n=a},d(a){a&&u(e),l=!1,t()}}}function zr(n){let e,l,t;function r(){return n[36](n[55])}return{c(){e=h("button"),this.h()},l(a){e=v(a,"BUTTON",{slot:!0,class:!0});var s=m(e);s.forEach(u),this.h()},h(){p(e,"slot","loading"),p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(a,s){I(a,e,s),e.innerHTML=it,l||(t=ne(e,"click",r),l=!0)},p(a,s){n=a},d(a){a&&u(e),l=!1,t()}}}function Gr(n){let e,l,t;function r(){return n[35](n[55])}return{c(){e=h("button"),this.h()},l(a){e=v(a,"BUTTON",{slot:!0,class:!0});var s=m(e);s.forEach(u),this.h()},h(){p(e,"slot","error"),p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(a,s){I(a,e,s),e.innerHTML=it,l||(t=ne(e,"click",r),l=!0)},p(a,s){n=a},d(a){a&&u(e),l=!1,t()}}}function Qr(n){let e,l,t;function r(){return n[34](n[55])}return{c(){e=h("button"),this.h()},l(a){e=v(a,"BUTTON",{slot:!0,class:!0});var s=m(e);s.forEach(u),this.h()},h(){p(e,"slot","nodata"),p(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(a,s){I(a,e,s),e.innerHTML=it,l||(t=ne(e,"click",r),l=!0)},p(a,s){n=a},d(a){a&&u(e),l=!1,t()}}}function Xr(n){let e,l,t=n[49][0]+"",r,a,s,f=n[49].slice(1),o=[];for(let i=0;i<f.length;i+=1)o[i]=gl(nl(n,f,i));return{c(){e=h("div"),l=h("div"),r=w(t),a=N(),s=h("div");for(let i=0;i<o.length;i+=1)o[i].c();this.h()},l(i){e=v(i,"DIV",{class:!0});var d=m(e);l=v(d,"DIV",{class:!0});var _=m(l);r=E(_,t),_.forEach(u),a=L(d),s=v(d,"DIV",{class:!0});var g=m(s);for(let k=0;k<o.length;k+=1)o[k].l(g);g.forEach(u),d.forEach(u),this.h()},h(){p(l,"class","font-bold"),p(s,"class","flex"),p(e,"class","grid grid-rows-[auto_auto] gap-0")},m(i,d){I(i,e,d),c(e,l),c(l,r),c(e,a),c(e,s);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(s,null)},p(i,d){if(d[0]&128&&t!==(t=i[49][0]+"")&&j(r,t),d[0]&128){f=i[49].slice(1);let _;for(_=0;_<f.length;_+=1){const g=nl(i,f,_);o[_]?o[_].p(g,d):(o[_]=gl(g),o[_].c(),o[_].m(s,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=f.length}},i:F,o:F,d(i){i&&u(e),tt(o,i)}}}function gl(n){let e,l=n[52]+"",t,r;return{c(){e=h("div"),t=w(l),r=N(),this.h()},l(a){e=v(a,"DIV",{class:!0});var s=m(e);t=E(s,l),r=L(s),s.forEach(u),this.h()},h(){p(e,"class","flex flex-wrap px-1 mx-1 break-all")},m(a,s){I(a,e,s),c(e,t),c(e,r)},p(a,s){s[0]&128&&l!==(l=a[52]+"")&&j(t,l)},d(a){a&&u(e)}}}function bl(n){let e,l,t=n[49][0]!=="d"&&ul(n);return{c(){t&&t.c(),e=ee()},l(r){t&&t.l(r),e=ee()},m(r,a){t&&t.m(r,a),I(r,e,a),l=!0},p(r,a){r[49][0]!=="d"?t?(t.p(r,a),a[0]&128&&P(t,1)):(t=ul(r),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(ve(),M(t,1,1,()=>{t=null}),he())},i(r){l||(P(t),l=!0)},o(r){M(t),l=!1},d(r){t&&t.d(r),r&&u(e)}}}function Yr(n){let e,l,t=n[7]&&fl(n);return{c(){t&&t.c(),e=ee()},l(r){t&&t.l(r),e=ee()},m(r,a){t&&t.m(r,a),I(r,e,a),l=!0},p(r,a){r[7]?t?(t.p(r,a),a[0]&128&&P(t,1)):(t=fl(r),t.c(),P(t,1),t.m(e.parentNode,e)):t&&(ve(),M(t,1,1,()=>{t=null}),he())},i(r){l||(P(t),l=!0)},o(r){M(t),l=!1},d(r){t&&t.d(r),r&&u(e)}}}function Zr(n){let e,l;return{c(){e=new El(!1),l=ee(),this.h()},l(t){e=yl(t,!1),l=ee(),this.h()},h(){e.a=l},m(t,r){e.m(Vl,t,r),I(t,l,r)},p:F,d(t){t&&u(l),t&&e.d()}}}function Wr(n){let e,l;return{c(){e=new El(!1),l=ee(),this.h()},l(t){e=yl(t,!1),l=ee(),this.h()},h(){e.a=l},m(t,r){e.m(xl,t,r),I(t,l,r)},p:F,d(t){t&&u(l),t&&e.d()}}}function kl(n){let e,l,t;return l=new Gl({props:{"...":!0,stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30",width:"w-24"}}),{c(){e=h("div"),Y(l.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var a=m(e);Z(l.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"class","fixed bottom-2 right-2")},m(r,a){I(r,e,a),W(l,e,null),t=!0},i(r){t||(P(l.$$.fragment,r),t=!0)},o(r){M(l.$$.fragment,r),t=!1},d(r){r&&u(e),x(l)}}}function xr(n){let e,l,t,r,a,s,f,o,i,d,_,g,k,V,$,O,A,T,b,S,z,K=n[5]?"ON":"OFF",ke,$e,X,ae,G=n[6]?"ON":"OFF",we,ie,B,He,Ee,C,te,H,oe=mt.npubEncode(n[12])+"",ce,fe,me,Oe,ye,ue,Se,ge,Pe,lt,De,rt,Ge,nt,Ue,D,q,de,at,Me,Ie,se,Qe,Ve,Te,Xe,wt,Et,qe,Ye,yt,Dt,ot,ct,Be,_e,pe,ft,Je,je,Ne,It,Le,ut,Ae,Ze,Vt,Mt;f=new Zl({});let We=n[13],le=[];for(let y=0;y<We.length;y+=1)le[y]=sl(ol(n,We,y));let xe=n[9],re=[];for(let y=0;y<xe.length;y+=1)re[y]=il(al(n,xe,y));const Bt=[cr,ir,sr],Re=[];function jt(y,R){return y[3]?y[2]?1:2:0}_e=jt(n),pe=Re[_e]=Bt[_e](n),Ne=new rr({props:{settings:n[0],select:"hidden",justify:"justify-center",showFirstLastButtons:!0,active:"variant-filled-primary",controlVariant:"variant-filled-primary",buttonClasses:"!my-0 !py-0 !px-3 place-items-center fill-current"}}),Ne.$on("page",n[19]);function At(y,R){return y[11]?Wr:Zr}let dt=At(n),be=dt(n),Q=n[8]&&kl();return{c(){e=h("meta"),l=h("meta"),t=h("meta"),r=h("meta"),a=h("meta"),s=N(),Y(f.$$.fragment),o=N(),i=h("div"),d=h("button"),_=w("Go back to Setup"),g=N(),k=h("hr"),V=N(),$=h("div"),O=h("p"),A=w("【設定情報】"),T=N(),b=h("ul"),S=h("li"),z=w("プレビュー表示: "),ke=w(K),$e=N(),X=h("li"),ae=w("ノート読み込み: "),we=w(G),ie=N(),B=h("hr"),He=N(),Ee=h("p"),C=w("【pubkey】"),te=N(),H=h("p"),ce=w(oe),fe=N(),me=h("p"),Oe=w("【relays】"),ye=N(),ue=h("ul");for(let y=0;y<le.length;y+=1)le[y].c();Se=N(),ge=h("p"),Pe=w("【ノート検索用relays】"),lt=N(),De=h("ul");for(let y=0;y<re.length;y+=1)re[y].c();rt=N(),Ge=h("hr"),nt=N(),Ue=h("div"),D=h("ul"),q=h("li"),de=h("span"),at=w(" Nostrで共有する"),Me=N(),Ie=h("li"),se=h("span"),Qe=w(" nostr.comで開く"),Ve=N(),Te=h("li"),Xe=h("span"),wt=w(" さがす"),Et=N(),qe=h("li"),Ye=h("span"),yt=w(" 全content-warning表示切り替え"),Dt=N(),ot=h("div"),ct=N(),Be=h("main"),pe.c(),ft=N(),Je=h("div"),je=h("div"),Y(Ne.$$.fragment),It=N(),Le=h("button"),be.c(),ut=N(),Ae=h("div"),Q&&Q.c(),this.h()},l(y){const R=Al("svelte-k2do6u",document.head);e=v(R,"META",{name:!0,content:!0}),l=v(R,"META",{prefix:!0}),t=v(R,"META",{property:!0,content:!0}),r=v(R,"META",{property:!0,content:!0}),a=v(R,"META",{property:!0,content:!0}),R.forEach(u),s=L(y),Z(f.$$.fragment,y),o=L(y),i=v(y,"DIV",{class:!0,"data-popup":!0});var J=m(i);d=v(J,"BUTTON",{type:!0,class:!0});var st=m(d);_=E(st,"Go back to Setup"),st.forEach(u),g=L(J),k=v(J,"HR",{class:!0}),V=L(J),$=v(J,"DIV",{});var U=m($);O=v(U,"P",{});var Fe=m(O);A=E(Fe,"【設定情報】"),Fe.forEach(u),T=L(U),b=v(U,"UL",{class:!0});var _t=m(b);S=v(_t,"LI",{class:!0});var Tt=m(S);z=E(Tt,"プレビュー表示: "),ke=E(Tt,K),Tt.forEach(u),$e=L(_t),X=v(_t,"LI",{class:!0});var Nt=m(X);ae=E(Nt,"ノート読み込み: "),we=E(Nt,G),Nt.forEach(u),_t.forEach(u),ie=L(U),B=v(U,"HR",{class:!0}),He=L(U),Ee=v(U,"P",{});var Rt=m(Ee);C=E(Rt,"【pubkey】"),Rt.forEach(u),te=L(U),H=v(U,"P",{});var Ft=m(H);ce=E(Ft,oe),Ft.forEach(u),fe=L(U),me=v(U,"P",{class:!0});var Ct=m(me);Oe=E(Ct,"【relays】"),Ct.forEach(u),ye=L(U),ue=v(U,"UL",{class:!0});var Ht=m(ue);for(let Ke=0;Ke<le.length;Ke+=1)le[Ke].l(Ht);Ht.forEach(u),Se=L(U),ge=v(U,"P",{class:!0});var qt=m(ge);Pe=E(qt,"【ノート検索用relays】"),qt.forEach(u),lt=L(U),De=v(U,"UL",{class:!0});var Jt=m(De);for(let Ke=0;Ke<re.length;Ke+=1)re[Ke].l(Jt);Jt.forEach(u),U.forEach(u),rt=L(J),Ge=v(J,"HR",{class:!0}),nt=L(J),Ue=v(J,"DIV",{class:!0});var Kt=m(Ue);D=v(Kt,"UL",{class:!0});var Ce=m(D);q=v(Ce,"LI",{class:!0});var Lt=m(q);de=v(Lt,"SPAN",{class:!0});var Ol=m(de);Ol.forEach(u),at=E(Lt," Nostrで共有する"),Lt.forEach(u),Me=L(Ce),Ie=v(Ce,"LI",{class:!0});var Ot=m(Ie);se=v(Ot,"SPAN",{class:!0});var Sl=m(se);Sl.forEach(u),Qe=E(Ot," nostr.comで開く"),Ot.forEach(u),Ve=L(Ce),Te=v(Ce,"LI",{class:!0});var St=m(Te);Xe=v(St,"SPAN",{class:!0});var Pl=m(Xe);Pl.forEach(u),wt=E(St," さがす"),St.forEach(u),Et=L(Ce),qe=v(Ce,"LI",{class:!0});var Pt=m(qe);Ye=v(Pt,"SPAN",{class:!0});var Ul=m(Ye);Ul.forEach(u),yt=E(Pt," 全content-warning表示切り替え"),Pt.forEach(u),Ce.forEach(u),Kt.forEach(u),Dt=L(J),ot=v(J,"DIV",{class:!0}),m(ot).forEach(u),J.forEach(u),ct=L(y),Be=v(y,"MAIN",{class:!0});var zt=m(Be);pe.l(zt),zt.forEach(u),ft=L(y),Je=v(y,"DIV",{class:!0});var Gt=m(Je);je=v(Gt,"DIV",{class:!0});var pt=m(je);Z(Ne.$$.fragment,pt),It=L(pt),Le=v(pt,"BUTTON",{type:!0,class:!0});var Qt=m(Le);be.l(Qt),Qt.forEach(u),pt.forEach(u),Gt.forEach(u),ut=L(y),Ae=v(y,"DIV",{class:!0});var Xt=m(Ae);Q&&Q.l(Xt),Xt.forEach(u),this.h()},h(){document.title="nostr-bookmark-viewer",p(e,"name","description"),p(e,"content",n[12]+"のタグ"+n[14]+"のブックマーク"),p(l,"prefix","og: https://ogp.me/ns#"),p(t,"property","og:title"),p(t,"content","nostr-bookmark-viewer3"),p(r,"property","og:description"),p(r,"content",`Nostrのブックマークを見たりできるやつ
【naddr】
id:`+n[14]+`,
pubkey:`+n[12]),p(a,"property","og:image"),p(a,"content","https://nostr-bookmark-viewer3.vercel.app/img2.png"),p(d,"type","button"),p(d,"class","btn variant-filled-secondary py-1 my-2"),p(k,"class","!border-t-2 my-1"),p(S,"class","ml-4"),p(X,"class","ml-4"),p(b,"class","list-disc"),p(B,"class","!border-t-2 my-1"),p(me,"class","mt-2"),p(ue,"class","list-disc"),p(ge,"class","mt-2"),p(De,"class","list-disc"),p(Ge,"class","!border-t-2 my-1"),p(de,"class","btn variant-filled-primary p-0 w-5"),p(q,"class","ml-4"),p(se,"class","btn variant-filled-primary p-0 w-5"),p(Ie,"class","ml-4"),p(Xe,"class","btn variant-filled-primary rounded-full p-0 w-5"),p(Te,"class","ml-4"),p(Ye,"class","btn variant-filled-primary p-0 w-5"),p(qe,"class","ml-4"),p(D,"class","list-disc"),p(Ue,"class","text-sm"),p(ot,"class","arrow bg-surface-100-800-token"),p(i,"class","card border border-purple-800 p-4 w-[22rem] shadow-xl z-20 break-all max-h-[80%] overflow-auto"),p(i,"data-popup","popupFeatured"),p(Be,"class","container max-w-5xl px-1 mt-24 mb-12"),p(Le,"type","button"),p(Le,"class","btn variant-filled-primary"),p(je,"class","btn-group py-0.5 variant-filled-primary w-screen justify-center rounded-none"),p(Je,"class","fixed bottom-0 z-10 w-screen"),p(Ae,"class","container max-w-5xl mx-auto z-10")},m(y,R){c(document.head,e),c(document.head,l),c(document.head,t),c(document.head,r),c(document.head,a),I(y,s,R),W(f,y,R),I(y,o,R),I(y,i,R),c(i,d),c(d,_),c(i,g),c(i,k),c(i,V),c(i,$),c($,O),c(O,A),c($,T),c($,b),c(b,S),c(S,z),c(S,ke),c(b,$e),c(b,X),c(X,ae),c(X,we),c($,ie),c($,B),c($,He),c($,Ee),c(Ee,C),c($,te),c($,H),c(H,ce),c($,fe),c($,me),c(me,Oe),c($,ye),c($,ue);for(let J=0;J<le.length;J+=1)le[J]&&le[J].m(ue,null);c($,Se),c($,ge),c(ge,Pe),c($,lt),c($,De);for(let J=0;J<re.length;J+=1)re[J]&&re[J].m(De,null);c(i,rt),c(i,Ge),c(i,nt),c(i,Ue),c(Ue,D),c(D,q),c(q,de),de.innerHTML=it,c(q,at),c(D,Me),c(D,Ie),c(Ie,se),se.innerHTML=Il,c(Ie,Qe),c(D,Ve),c(D,Te),c(Te,Xe),Xe.innerHTML=kt,c(Te,wt),c(D,Et),c(D,qe),c(qe,Ye),Ye.innerHTML=Vl,c(qe,yt),c(i,Dt),c(i,ot),I(y,ct,R),I(y,Be,R),Re[_e].m(Be,null),I(y,ft,R),I(y,Je,R),c(Je,je),W(Ne,je,null),c(je,It),c(je,Le),be.m(Le,null),I(y,ut,R),I(y,Ae,R),Q&&Q.m(Ae,null),Ze=!0,Vt||(Mt=[ne(d,"click",n[22]),ne(Le,"click",n[39])],Vt=!0)},p(y,R){if((!Ze||R[0]&32)&&K!==(K=y[5]?"ON":"OFF")&&j(ke,K),(!Ze||R[0]&64)&&G!==(G=y[6]?"ON":"OFF")&&j(we,G),R[0]&8192){We=y[13];let U;for(U=0;U<We.length;U+=1){const Fe=ol(y,We,U);le[U]?le[U].p(Fe,R):(le[U]=sl(Fe),le[U].c(),le[U].m(ue,null))}for(;U<le.length;U+=1)le[U].d(1);le.length=We.length}if(R[0]&512){xe=y[9];let U;for(U=0;U<xe.length;U+=1){const Fe=al(y,xe,U);re[U]?re[U].p(Fe,R):(re[U]=il(Fe),re[U].c(),re[U].m(De,null))}for(;U<re.length;U+=1)re[U].d(1);re.length=xe.length}let J=_e;_e=jt(y),_e===J?Re[_e].p(y,R):(ve(),M(Re[J],1,1,()=>{Re[J]=null}),he(),pe=Re[_e],pe?pe.p(y,R):(pe=Re[_e]=Bt[_e](y),pe.c()),P(pe,1),pe.m(Be,null));const st={};R[0]&1&&(st.settings=y[0]),Ne.$set(st),dt===(dt=At(y))&&be?be.p(y,R):(be.d(1),be=dt(y),be&&(be.c(),be.m(Le,null))),y[8]?Q?R[0]&256&&P(Q,1):(Q=kl(),Q.c(),P(Q,1),Q.m(Ae,null)):Q&&(ve(),M(Q,1,1,()=>{Q=null}),he())},i(y){Ze||(P(f.$$.fragment,y),P(pe),P(Ne.$$.fragment,y),P(Q),Ze=!0)},o(y){M(f.$$.fragment,y),M(pe),M(Ne.$$.fragment,y),M(Q),Ze=!1},d(y){u(e),u(l),u(t),u(r),u(a),y&&u(s),x(f,y),y&&u(o),y&&u(i),tt(le,y),tt(re,y),y&&u(ct),y&&u(Be),Re[_e].d(),y&&u(ft),y&&u(Je),x(Ne),be.d(),y&&u(ut),y&&u(Ae),Q&&Q.d(),Vt=!1,wl(Mt)}}}let en=0;const $l=50,tn=n=>n[0]==="content-warning";function ln(n,e,l){let t,r,a,s,f;ht(n,et,D=>l(8,r=D)),ht(n,Zt,D=>l(9,a=D)),ht(n,Jl,D=>l(10,s=D)),ht(n,Wt,D=>l(11,f=D));const{type:o,data:i}=mt.decode(s.params.naddr);let d,_=!1;const{pubkey:g,relays:k,identifier:V,kind:$}=o==="naddr"&&i.relays?{pubkey:i.pubkey,relays:i.relays.length>3?i.relays:[...i.relays,...Kl],identifier:i.identifier,kind:i.kind}:{pubkey:"",relays:[],identifier:"",kind:30001};console.log(g,k,V,$),$!==30001&&(d="ブクマのnaddrじゃないかも",console.log("ブクマのnaddrじゃないかも"));const O=[{authors:[g],kinds:[$],"#d":[V]}];let A,T="pub",b,S=!0,z=!0,K;Rl(async()=>{ze(et,r=!0,r);const D=localStorage.getItem("config");if(D){const q=JSON.parse(D);ze(Zt,a=q.searchRelays,a),l(5,S=q.URLPreview),l(6,z=q.loadEvent),K=q.writeRelays,a.length==0&&l(6,z=!1)}if(g!==""||k.length>0){if(l(3,A=await zl(k,O)),console.log(A),A.length===0){l(2,_=!0),l(1,d="ブクマなんもないかも"),console.log("ブクマなんもないかも"),ze(et,r=!1,r);return}l(21,b=A[0].tags),ze(et,r=!1,r)}});const ke={event:"click",target:"popupFeatured",placement:"bottom"},$e={ref:er,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function X(D,q){console.log(D);const de={type:"component",value:{metadata:D,pubkey:q},component:$e};vt.trigger(de)}const ae={ref:tr,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function G(D){console.log("click");const q={type:"component",title:"Event Json",value:{note:D},component:ae};vt.trigger(q)}const we={ref:ar,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function ie(D,q){console.log("quote");const de=[[...D,"","mention"]],at={type:"component",component:we,title:"postNote",body:"",value:{content:`\r
nostr:${mt.noteEncode(D[1])}\r
`,tags:de,pubkey:q},response:async Me=>{if(console.log(Me),Me){ze(et,r=!0,r);const Ie={id:"",pubkey:await window.nostr.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:1,tags:Me.tags,content:Me.content,sig:""};let se;if(K.length>0)se=K;else try{const Ve=await window.nostr.getRelays();se=Object.keys(Ve).filter(Te=>Ve[Te].write===!0),se=se.length>0?se:k}catch{se=k}const Qe=await Ql(Ie,se);if(Qe){const Ve={message:Qe.msg.join("<br>"),timeout:3e3};Xl.trigger(Ve)}ze(et,r=!1,r)}}};vt.trigger(at)}let B;function He(D){console.log(typeof D.detail),console.log("event:page",D.detail),l(0,B.offset=D.detail,B),Object.is(D.detail,-0)?l(0,B.offset=Math.floor(b.length/B.limit),B):l(0,B.offset=D.detail,B),l(7,t=b.slice(B.offset*B.limit,B.offset*B.limit+B.limit)),window.scrollTo({top:0,behavior:"auto"})}const Ee={ref:lr,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function C(D){console.log("search");const q={type:"component",component:Ee,title:"Search",body:"",value:{id:D,isPageOwner:!1},response:async de=>{console.log(de)}};vt.trigger(q)}const te=()=>Yl(window.location.origin);function H(D){T=D,l(4,T)}const oe=D=>{console.log("test"),C(D.id)},ce=D=>{console.log("test"),C(D.id)},fe=D=>{console.log("test"),C(D.id)},me=D=>{G(D)},Oe=D=>{G(D)},ye=D=>{G(D)},ue=(D,q)=>{X(D,q.pubkey)},Se=D=>{G(D)},ge=(D,q)=>{X(D,q[1])},Pe=D=>{G(D)},lt=D=>ie(D.tag,""),De=D=>ie(D.tag,""),rt=D=>ie(D.tag,""),Ge=(D,q)=>ie(D.tag,q.pubkey),nt=D=>{window.open("https://nostr.com/"+mt.noteEncode(D.id),"_blank")},Ue=()=>{ze(Wt,f=!f,f)};return n.$$.update=()=>{n.$$.dirty[0]&2097152&&l(0,B={offset:0,limit:$l,size:b&&b.length>0?b.length:1,amounts:[$l]}),n.$$.dirty[0]&2097153&&l(7,t=b&&b.slice(B.offset*B.limit,B.offset*B.limit+B.limit))},[B,d,_,A,T,S,z,t,r,a,s,f,g,k,V,ke,X,G,ie,He,C,b,te,H,oe,ce,fe,me,Oe,ye,ue,Se,ge,Pe,lt,De,rt,Ge,nt,Ue]}class un extends Ml{constructor(e){super(),Bl(this,e,ln,xr,jl,{},null,[-1,-1,-1])}}export{un as component};
