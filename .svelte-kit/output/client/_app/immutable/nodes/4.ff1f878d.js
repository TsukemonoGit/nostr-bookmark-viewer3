import{S as ct,i as ft,s as dt,C as Tt,k as b,l as p,m as k,h as f,n as _,b as C,G as Dt,I as Nt,J as It,g as O,d as U,a1 as qe,Q as it,R as ut,a as A,M as To,c as P,N as Do,F as c,O as q,v as be,f as pe,P as Xe,a2 as no,a3 as Jn,a4 as ze,a5 as Kn,a6 as No,K as ne,a7 as bs,U as Me,q as B,r as V,w as qt,a8 as ps,a9 as Io,aa as Cl,ab as vs,ac as Co,e as x,L as nt,y as Ee,z as we,A as ye,B as Te,W as el,ad as tl,u as Y,ae as Gn,af as Qn,Z as ll,_ as ol,ag as Bo,X as yt,ah as ks,D as Es,o as ws,T as fe,ai as ys,aj as Ts,Y as Ds,H as Wn,E as Xn,$ as Bl,a0 as Yn,V as Vo}from"../chunks/index.1fa16860.js";import{p as Ns}from"../chunks/stores.a22b943f.js";import{h as Oo,i as at,t as _e,n as rt,R as Zl,s as $l,j as El,k as xl,f as eo,P as Is,b as Ie,c as Ao,p as wl,l as Po,m as Lo,o as So,q as Mo,r as Fo,v as to,w as lo,g as Cs,e as Uo,u as Vl}from"../chunks/navigation.b66b9f2c.js";import{m as Ue,M as Bs,s as Qt,o as so,f as ao,h as ro,a as Ol,t as Zn,i as $n,j as xn,u as es,w as ts,N as Vs,b as Os,c as As,d as Ps,S as Ls,T as io,e as ls,C as Al,g as Ro}from"../chunks/Content.9801d256.js";import{p as Ss}from"../chunks/popup.28cfbfc0.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.baaee050.js";import{A as Ms,T as os,M as Fs,a as uo,P as Us}from"../chunks/PostNote.3e73bc0a.js";import{T as Rs}from"../chunks/Toast.16eb076d.js";import{w as js}from"../chunks/index.6b4ebe8d.js";function Hs(o){let e,t,l;const n=o[15].default,s=Tt(n,o,o[14],null);return{c(){e=b("div"),s&&s.c(),this.h()},l(a){e=p(a,"DIV",{class:!0,"data-testid":!0});var i=k(e);s&&s.l(i),i.forEach(f),this.h()},h(){_(e,"class",t="accordion "+o[0]),_(e,"data-testid","accordion")},m(a,i){C(a,e,i),s&&s.m(e,null),l=!0},p(a,[i]){s&&s.p&&(!l||i&16384)&&Dt(s,n,a,a[14],l?It(n,a[14],i,null):Nt(a[14]),null),(!l||i&1&&t!==(t="accordion "+a[0]))&&_(e,"class",t)},i(a){l||(O(s,a),l=!0)},o(a){U(s,a),l=!1},d(a){a&&f(e),s&&s.d(a)}}}function qs(o,e,t){let l,{$$slots:n={},$$scope:s}=e,{autocollapse:a=!1}=e,{duration:i=200}=e,{width:r="w-full"}=e,{spacing:u="space-y-1"}=e,{disabled:d=!1}=e,{padding:h="py-2 px-4"}=e,{hover:m="hover:bg-primary-hover-token"}=e,{rounded:g="rounded-container-token"}=e,{caretOpen:T="rotate-180"}=e,{caretClosed:y=""}=e,{regionControl:I=""}=e,{regionPanel:N="space-y-4"}=e,{regionCaret:v=""}=e;const E=js(null);return qe("active",E),qe("autocollapse",a),qe("duration",i),qe("disabled",d),qe("padding",h),qe("hover",m),qe("rounded",g),qe("caretOpen",T),qe("caretClosed",y),qe("regionControl",I),qe("regionPanel",N),qe("regionCaret",v),o.$$set=w=>{t(17,e=it(it({},e),ut(w))),"autocollapse"in w&&t(1,a=w.autocollapse),"duration"in w&&t(2,i=w.duration),"width"in w&&t(3,r=w.width),"spacing"in w&&t(4,u=w.spacing),"disabled"in w&&t(5,d=w.disabled),"padding"in w&&t(6,h=w.padding),"hover"in w&&t(7,m=w.hover),"rounded"in w&&t(8,g=w.rounded),"caretOpen"in w&&t(9,T=w.caretOpen),"caretClosed"in w&&t(10,y=w.caretClosed),"regionControl"in w&&t(11,I=w.regionControl),"regionPanel"in w&&t(12,N=w.regionPanel),"regionCaret"in w&&t(13,v=w.regionCaret),"$$scope"in w&&t(14,s=w.$$scope)},o.$$.update=()=>{t(0,l=`${r} ${u} ${e.class??""}`)},e=ut(e),[l,a,i,r,u,d,h,m,g,T,y,I,N,v,s,n]}class zs extends ct{constructor(e){super(),ft(this,e,qs,Hs,dt,{autocollapse:1,duration:2,width:3,spacing:4,disabled:5,padding:6,hover:7,rounded:8,caretOpen:9,caretClosed:10,regionControl:11,regionPanel:12,regionCaret:13})}}const Js=o=>({}),jo=o=>({}),Ks=o=>({}),Ho=o=>({}),Gs=o=>({}),qo=o=>({});function zo(o){let e,t;const l=o[24].lead,n=Tt(l,o,o[23],qo);return{c(){e=b("div"),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=k(e);n&&n.l(a),a.forEach(f),this.h()},h(){_(e,"class","accordion-lead")},m(s,a){C(s,e,a),n&&n.m(e,null),t=!0},p(s,a){n&&n.p&&(!t||a[0]&8388608)&&Dt(n,l,s,s[23],t?It(l,s[23],a,Gs):Nt(s[23]),qo)},i(s){t||(O(n,s),t=!0)},o(s){U(n,s),t=!1},d(s){s&&f(e),n&&n.d(s)}}}function Qs(o){let e;return{c(){e=B("(summary)")},l(t){e=V(t,"(summary)")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function Jo(o){let e,t,l,n,s,a,i;const r=o[24].content,u=Tt(r,o,o[23],jo),d=u||Ws();return{c(){e=b("div"),d&&d.c(),this.h()},l(h){e=p(h,"DIV",{class:!0,id:!0,role:!0,"aria-hidden":!0,"aria-labelledby":!0});var m=k(e);d&&d.l(m),m.forEach(f),this.h()},h(){_(e,"class",t="accordion-panel "+o[5]),_(e,"id",l="accordion-panel-"+o[0]),_(e,"role","region"),_(e,"aria-hidden",n=!o[4]),_(e,"aria-labelledby",s="accordion-control-"+o[0])},m(h,m){C(h,e,m),d&&d.m(e,null),i=!0},p(h,m){o=h,u&&u.p&&(!i||m[0]&8388608)&&Dt(u,r,o,o[23],i?It(r,o[23],m,Js):Nt(o[23]),jo),(!i||m[0]&32&&t!==(t="accordion-panel "+o[5]))&&_(e,"class",t),(!i||m[0]&1&&l!==(l="accordion-panel-"+o[0]))&&_(e,"id",l),(!i||m[0]&16&&n!==(n=!o[4]))&&_(e,"aria-hidden",n),(!i||m[0]&1&&s!==(s="accordion-control-"+o[0]))&&_(e,"aria-labelledby",s)},i(h){i||(O(d,h),h&&Kn(()=>{i&&(a||(a=No(e,Oo,{duration:o[2]},!0)),a.run(1))}),i=!0)},o(h){U(d,h),h&&(a||(a=No(e,Oo,{duration:o[2]},!1)),a.run(0)),i=!1},d(h){h&&f(e),d&&d.d(h),h&&a&&a.end()}}}function Ws(o){let e;return{c(){e=B("(content)")},l(t){e=V(t,"(content)")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function Xs(o){let e,t,l,n,s,a,i,r,u,d,h,m,g,T,y,I,N,v=o[10].lead&&zo(o);const E=o[24].summary,w=Tt(E,o,o[23],Ho),L=w||Qs();let S=o[4]&&Jo(o);return{c(){e=b("div"),t=b("button"),v&&v.c(),l=A(),n=b("div"),L&&L.c(),s=A(),a=b("div"),i=To("svg"),r=To("path"),g=A(),S&&S.c(),this.h()},l(M){e=p(M,"DIV",{class:!0,"data-testid":!0});var H=k(e);t=p(H,"BUTTON",{type:!0,class:!0,id:!0,"aria-expanded":!0,"aria-controls":!0});var J=k(t);v&&v.l(J),l=P(J),n=p(J,"DIV",{class:!0});var G=k(n);L&&L.l(G),G.forEach(f),s=P(J),a=p(J,"DIV",{class:!0});var ee=k(a);i=Do(ee,"svg",{xmlns:!0,viewBox:!0});var X=k(i);r=Do(X,"path",{d:!0}),k(r).forEach(f),X.forEach(f),ee.forEach(f),J.forEach(f),g=P(H),S&&S.l(H),H.forEach(f),this.h()},h(){_(n,"class","accordion-summary flex-1"),_(r,"d","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"),_(i,"xmlns","http://www.w3.org/2000/svg"),_(i,"viewBox","0 0 448 512"),_(a,"class",u="accordion-summary-caret "+o[6]),_(t,"type","button"),_(t,"class",d="accordion-control "+o[7]),_(t,"id",h="accordion-control-"+o[0]),_(t,"aria-expanded",o[4]),_(t,"aria-controls",m="accordion-panel-"+o[0]),t.disabled=o[3],_(e,"class",T="accordion-item "+o[8]),_(e,"data-testid","accordion-item")},m(M,H){C(M,e,H),c(e,t),v&&v.m(t,null),c(t,l),c(t,n),L&&L.m(n,null),c(t,s),c(t,a),c(a,i),c(i,r),c(e,g),S&&S.m(e,null),y=!0,I||(N=[q(t,"click",o[9]),q(t,"click",o[25]),q(t,"keydown",o[26]),q(t,"keyup",o[27]),q(t,"keypress",o[28])],I=!0)},p(M,H){M[10].lead?v?(v.p(M,H),H[0]&1024&&O(v,1)):(v=zo(M),v.c(),O(v,1),v.m(t,l)):v&&(be(),U(v,1,1,()=>{v=null}),pe()),w&&w.p&&(!y||H[0]&8388608)&&Dt(w,E,M,M[23],y?It(E,M[23],H,Ks):Nt(M[23]),Ho),(!y||H[0]&64&&u!==(u="accordion-summary-caret "+M[6]))&&_(a,"class",u),(!y||H[0]&128&&d!==(d="accordion-control "+M[7]))&&_(t,"class",d),(!y||H[0]&1&&h!==(h="accordion-control-"+M[0]))&&_(t,"id",h),(!y||H[0]&16)&&_(t,"aria-expanded",M[4]),(!y||H[0]&1&&m!==(m="accordion-panel-"+M[0]))&&_(t,"aria-controls",m),(!y||H[0]&8)&&(t.disabled=M[3]),M[4]?S?(S.p(M,H),H[0]&16&&O(S,1)):(S=Jo(M),S.c(),O(S,1),S.m(e,null)):S&&(be(),U(S,1,1,()=>{S=null}),pe()),(!y||H[0]&256&&T!==(T="accordion-item "+M[8]))&&_(e,"class",T)},i(M){y||(O(v),O(L,M),O(S),y=!0)},o(M){U(v),U(L,M),U(S),y=!1},d(M){M&&f(e),v&&v.d(),L&&L.d(M),S&&S.d(),I=!1,Xe(N)}}}const Ys="",Zs="text-left w-full flex items-center space-x-4",$s="fill-current w-3 transition-transform duration-[200ms]",xs="";function ea(o,e,t){let l,n,s,a,i,r,u,d=ne,h=()=>(d(),d=bs(E,z=>t(22,u=z)),E);o.$$.on_destroy.push(()=>d());let{$$slots:m={},$$scope:g}=e;const T=no(m),y=Jn();let{open:I=!1}=e,{id:N=String(Math.random())}=e,{autocollapse:v=ze("autocollapse")}=e,{active:E=ze("active")}=e;h();let{duration:w=ze("duration")}=e,{disabled:L=ze("disabled")}=e,{padding:S=ze("padding")}=e,{hover:M=ze("hover")}=e,{rounded:H=ze("rounded")}=e,{caretOpen:J=ze("caretOpen")}=e,{caretClosed:G=ze("caretClosed")}=e,{regionControl:ee=ze("regionControl")}=e,{regionPanel:X=ze("regionPanel")}=e,{regionCaret:Q=ze("regionCaret")}=e;function $(z){v===!0?E.set(N):t(11,I=!I),he(z)}function he(z){const K=v?u===N:I;y("toggle",{event:z,id:`accordion-control-${N}`,open:K,autocollapse:v})}v&&I&&$();function ie(z){Me.call(this,o,z)}function le(z){Me.call(this,o,z)}function ce(z){Me.call(this,o,z)}function j(z){Me.call(this,o,z)}return o.$$set=z=>{t(31,e=it(it({},e),ut(z))),"open"in z&&t(11,I=z.open),"id"in z&&t(0,N=z.id),"autocollapse"in z&&t(12,v=z.autocollapse),"active"in z&&h(t(1,E=z.active)),"duration"in z&&t(2,w=z.duration),"disabled"in z&&t(3,L=z.disabled),"padding"in z&&t(13,S=z.padding),"hover"in z&&t(14,M=z.hover),"rounded"in z&&t(15,H=z.rounded),"caretOpen"in z&&t(16,J=z.caretOpen),"caretClosed"in z&&t(17,G=z.caretClosed),"regionControl"in z&&t(18,ee=z.regionControl),"regionPanel"in z&&t(19,X=z.regionPanel),"regionCaret"in z&&t(20,Q=z.regionCaret),"$$scope"in z&&t(23,g=z.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&6144&&I&&v&&$(),o.$$.dirty[0]&4200449&&t(4,l=v?u===N:I),t(8,n=`${Ys} ${e.class??""}`),o.$$.dirty[0]&319488&&t(7,s=`${Zs} ${S} ${M} ${H} ${ee}`),o.$$.dirty[0]&196624&&t(21,a=l?J:G),o.$$.dirty[0]&3145728&&t(6,i=`${$s} ${Q} ${a}`),o.$$.dirty[0]&565248&&t(5,r=`${xs} ${S} ${H} ${X}`)},e=ut(e),[N,E,w,L,l,r,i,s,n,$,T,I,v,S,M,H,J,G,ee,X,Q,a,u,g,m,ie,le,ce,j]}class Ko extends ct{constructor(e){super(),ft(this,e,ea,Xs,dt,{open:11,id:0,autocollapse:12,active:1,duration:2,disabled:3,padding:13,hover:14,rounded:15,caretOpen:16,caretClosed:17,regionControl:18,regionPanel:19,regionCaret:20},null,[-1,-1])}}function ta(o){let e,t,l;const n=o[9].default,s=Tt(n,o,o[8],null);return{c(){e=b("div"),s&&s.c(),this.h()},l(a){e=p(a,"DIV",{class:!0,role:!0,"aria-labelledby":!0,"data-testid":!0});var i=k(e);s&&s.l(i),i.forEach(f),this.h()},h(){_(e,"class",t="listbox "+o[1]),_(e,"role","listbox"),_(e,"aria-labelledby",o[0]),_(e,"data-testid","listbox")},m(a,i){C(a,e,i),s&&s.m(e,null),l=!0},p(a,[i]){s&&s.p&&(!l||i&256)&&Dt(s,n,a,a[8],l?It(n,a[8],i,null):Nt(a[8]),null),(!l||i&2&&t!==(t="listbox "+a[1]))&&_(e,"class",t),(!l||i&1)&&_(e,"aria-labelledby",a[0])},i(a){l||(O(s,a),l=!0)},o(a){U(s,a),l=!1},d(a){a&&f(e),s&&s.d(a)}}}const la="";function oa(o,e,t){let l,{$$slots:n={},$$scope:s}=e,{multiple:a=!1}=e,{spacing:i="space-y-1"}=e,{rounded:r="rounded-token"}=e,{active:u="variant-filled"}=e,{hover:d="hover:variant-soft"}=e,{padding:h="px-4 py-2"}=e,{labelledby:m=""}=e;return qe("multiple",a),qe("rounded",r),qe("active",u),qe("hover",d),qe("padding",h),o.$$set=g=>{t(10,e=it(it({},e),ut(g))),"multiple"in g&&t(2,a=g.multiple),"spacing"in g&&t(3,i=g.spacing),"rounded"in g&&t(4,r=g.rounded),"active"in g&&t(5,u=g.active),"hover"in g&&t(6,d=g.hover),"padding"in g&&t(7,h=g.padding),"labelledby"in g&&t(0,m=g.labelledby),"$$scope"in g&&t(8,s=g.$$scope)},o.$$.update=()=>{t(1,l=`${la} ${i} ${r} ${e.class??""}`)},e=ut(e),[m,l,a,i,r,u,d,h,s,n]}class ns extends ct{constructor(e){super(),ft(this,e,oa,ta,dt,{multiple:2,spacing:3,rounded:4,active:5,hover:6,padding:7,labelledby:0})}}const na=o=>({}),Go=o=>({}),sa=o=>({}),Qo=o=>({});function aa(o){let e,t=!1,l,n,s;return l=ps(o[29][0]),{c(){e=b("input"),this.h()},l(a){e=p(a,"INPUT",{type:!0,name:!0,tabindex:!0}),this.h()},h(){_(e,"type","radio"),_(e,"name",o[1]),e.__value=o[2],e.value=e.__value,_(e,"tabindex","-1"),l.p(e)},m(a,i){C(a,e,i),o[27](e),e.checked=e.__value===o[0],n||(s=[q(e,"change",o[28]),q(e,"click",o[23]),q(e,"change",o[24])],n=!0)},p(a,i){i[0]&2&&_(e,"name",a[1]),i[0]&4&&(e.__value=a[2],e.value=e.__value,t=!0),(t||i[0]&1)&&(e.checked=e.__value===a[0])},d(a){a&&f(e),o[27](null),l.r(),n=!1,Xe(s)}}}function ra(o){let e,t,l;return{c(){e=b("input"),this.h()},l(n){e=p(n,"INPUT",{type:!0,name:!0,tabindex:!0}),this.h()},h(){_(e,"type","checkbox"),_(e,"name",o[1]),e.__value=o[2],e.value=e.__value,_(e,"tabindex","-1")},m(n,s){C(n,e,s),o[25](e),e.checked=o[4],t||(l=[q(e,"change",o[26]),q(e,"click",o[21]),q(e,"change",o[22])],t=!0)},p(n,s){s[0]&2&&_(e,"name",n[1]),s[0]&4&&(e.__value=n[2],e.value=e.__value),s[0]&16&&(e.checked=n[4])},d(n){n&&f(e),o[25](null),t=!1,Xe(l)}}}function Wo(o){let e,t;const l=o[17].lead,n=Tt(l,o,o[16],Qo);return{c(){e=b("div"),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=k(e);n&&n.l(a),a.forEach(f),this.h()},h(){_(e,"class","listbox-label-lead")},m(s,a){C(s,e,a),n&&n.m(e,null),t=!0},p(s,a){n&&n.p&&(!t||a[0]&65536)&&Dt(n,l,s,s[16],t?It(l,s[16],a,sa):Nt(s[16]),Qo)},i(s){t||(O(n,s),t=!0)},o(s){U(n,s),t=!1},d(s){s&&f(e),n&&n.d(s)}}}function Xo(o){let e,t;const l=o[17].trail,n=Tt(l,o,o[16],Go);return{c(){e=b("div"),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=k(e);n&&n.l(a),a.forEach(f),this.h()},h(){_(e,"class","listbox-label-trail")},m(s,a){C(s,e,a),n&&n.m(e,null),t=!0},p(s,a){n&&n.p&&(!t||a[0]&65536)&&Dt(n,l,s,s[16],t?It(l,s[16],a,na):Nt(s[16]),Go)},i(s){t||(O(n,s),t=!0)},o(s){U(n,s),t=!1},d(s){s&&f(e),n&&n.d(s)}}}function ia(o){let e,t,l,n,s,a,i,r,u,d,h,m,g;function T(L,S){return L[3]?ra:aa}let y=T(o),I=y(o),N=o[10].lead&&Wo(o);const v=o[17].default,E=Tt(v,o,o[16],null);let w=o[10].trail&&Xo(o);return{c(){e=b("label"),t=b("div"),l=b("div"),I.c(),n=A(),s=b("div"),N&&N.c(),a=A(),i=b("div"),E&&E.c(),r=A(),w&&w.c(),this.h()},l(L){e=p(L,"LABEL",{});var S=k(e);t=p(S,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-selected":!0,tabindex:!0});var M=k(t);l=p(M,"DIV",{class:!0});var H=k(l);I.l(H),H.forEach(f),n=P(M),s=p(M,"DIV",{class:!0});var J=k(s);N&&N.l(J),a=P(J),i=p(J,"DIV",{class:!0});var G=k(i);E&&E.l(G),G.forEach(f),r=P(J),w&&w.l(J),J.forEach(f),M.forEach(f),S.forEach(f),this.h()},h(){_(l,"class","h-0 w-0 overflow-hidden"),_(i,"class","listbox-label-content flex-1"),_(s,"class",u="listbox-label "+o[7]),_(t,"class",d="listbox-item "+o[8]),_(t,"data-testid","listbox-item"),_(t,"role","option"),_(t,"aria-selected",o[5]),_(t,"tabindex","0")},m(L,S){C(L,e,S),c(e,t),c(t,l),I.m(l,null),c(t,n),c(t,s),N&&N.m(s,null),c(s,a),c(s,i),E&&E.m(i,null),c(s,r),w&&w.m(s,null),h=!0,m||(g=[q(t,"keydown",o[9]),q(t,"keydown",o[18]),q(t,"keyup",o[19]),q(t,"keypress",o[20])],m=!0)},p(L,S){y===(y=T(L))&&I?I.p(L,S):(I.d(1),I=y(L),I&&(I.c(),I.m(l,null))),L[10].lead?N?(N.p(L,S),S[0]&1024&&O(N,1)):(N=Wo(L),N.c(),O(N,1),N.m(s,a)):N&&(be(),U(N,1,1,()=>{N=null}),pe()),E&&E.p&&(!h||S[0]&65536)&&Dt(E,v,L,L[16],h?It(v,L[16],S,null):Nt(L[16]),null),L[10].trail?w?(w.p(L,S),S[0]&1024&&O(w,1)):(w=Xo(L),w.c(),O(w,1),w.m(s,null)):w&&(be(),U(w,1,1,()=>{w=null}),pe()),(!h||S[0]&128&&u!==(u="listbox-label "+L[7]))&&_(s,"class",u),(!h||S[0]&256&&d!==(d="listbox-item "+L[8]))&&_(t,"class",d),(!h||S[0]&32)&&_(t,"aria-selected",L[5])},i(L){h||(O(N),O(E,L),O(w),h=!0)},o(L){U(N),U(E,L),U(w),h=!1},d(L){L&&f(e),I.d(),N&&N.d(),E&&E.d(L),w&&w.d(),m=!1,Xe(g)}}}const ua="cursor-pointer -outline-offset-[3px]",ca="flex items-center space-x-4";function oo(o,e){if(o===e)return!0;if(!(o instanceof Object)||!(e instanceof Object))return!1;const t=Object.keys(o),l=Object.keys(e);if(t.length!==l.length)return!1;for(const n of t){const s=o[n],a=e[n];if(!oo(s,a))return!1}return!0}function fa(o,e,t){let l,n,s,a,{$$slots:i={},$$scope:r}=e;const u=no(i);let{group:d}=e,{name:h}=e,{value:m}=e,{multiple:g=ze("multiple")}=e,{rounded:T=ze("rounded")}=e,{active:y=ze("active")}=e,{hover:I=ze("hover")}=e,{padding:N=ze("padding")}=e,v,E;function w(j){t(4,v=j.indexOf(m)>=0)}function L(j){const z=d.indexOf(m);j?z<0&&(d.push(m),t(0,d)):z>=0&&(d.splice(z,1),t(0,d))}function S(j){["Enter","Space"].includes(j.code)&&(j.preventDefault(),E.click())}const M=[[]];function H(j){Me.call(this,o,j)}function J(j){Me.call(this,o,j)}function G(j){Me.call(this,o,j)}function ee(j){Me.call(this,o,j)}function X(j){Me.call(this,o,j)}function Q(j){Me.call(this,o,j)}function $(j){Me.call(this,o,j)}function he(j){qt[j?"unshift":"push"](()=>{E=j,t(6,E)})}function ie(){v=this.checked,t(4,v)}function le(j){qt[j?"unshift":"push"](()=>{E=j,t(6,E)})}function ce(){d=this.__value,t(0,d)}return o.$$set=j=>{t(32,e=it(it({},e),ut(j))),"group"in j&&t(0,d=j.group),"name"in j&&t(1,h=j.name),"value"in j&&t(2,m=j.value),"multiple"in j&&t(3,g=j.multiple),"rounded"in j&&t(11,T=j.rounded),"active"in j&&t(12,y=j.active),"hover"in j&&t(13,I=j.hover),"padding"in j&&t(14,N=j.padding),"$$scope"in j&&t(16,r=j.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&9&&g&&w(d),o.$$.dirty[0]&24&&g&&L(v),o.$$.dirty[0]&13&&t(5,l=g?d.some(j=>oo(m,j)):oo(d,m)),o.$$.dirty[0]&12320&&t(15,n=l?y:I),t(8,s=`${ua} ${T} ${N} ${n} ${e.class??""}`)},t(7,a=`${ca}`),e=ut(e),[d,h,m,g,v,l,E,a,s,S,u,T,y,I,N,n,r,i,H,J,G,ee,X,Q,$,he,ie,le,ce,M]}class ss extends ct{constructor(e){super(),ft(this,e,fa,ia,dt,{group:0,name:1,value:2,multiple:3,rounded:11,active:12,hover:13,padding:14},null,[-1,-1])}}function Yo(o){let e,t;const l=o[22].default,n=Tt(l,o,o[21],null);return{c(){e=b("div"),n&&n.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=k(e);n&&n.l(a),a.forEach(f),this.h()},h(){_(e,"class","slide-toggle-text ml-3")},m(s,a){C(s,e,a),n&&n.m(e,null),t=!0},p(s,a){n&&n.p&&(!t||a[0]&2097152)&&Dt(n,l,s,s[21],t?It(l,s[21],a,null):Nt(s[21]),null)},i(s){t||(O(n,s),t=!0)},o(s){U(n,s),t=!1},d(s){s&&f(e),n&&n.d(s)}}}function da(o){let e,t,l,n,s,a,i,r,u,d,h,m,g,T,y,I=[{type:"checkbox"},{class:"slide-toggle-input hidden"},{name:o[1]},o[8](),{disabled:n=o[9].disabled}],N={};for(let E=0;E<I.length;E+=1)N=it(N,I[E]);let v=o[10].default&&Yo(o);return{c(){e=b("div"),t=b("label"),l=b("input"),s=A(),a=b("div"),i=b("div"),d=A(),v&&v.c(),this.h()},l(E){e=p(E,"DIV",{id:!0,class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-checked":!0,tabindex:!0});var w=k(e);t=p(w,"LABEL",{class:!0});var L=k(t);l=p(L,"INPUT",{type:!0,class:!0,name:!0}),s=P(L),a=p(L,"DIV",{class:!0});var S=k(a);i=p(S,"DIV",{class:!0}),k(i).forEach(f),S.forEach(f),d=P(L),v&&v.l(L),L.forEach(f),w.forEach(f),this.h()},h(){Io(l,N),_(i,"class",r="slide-toggle-thumb "+o[3]),Cl(i,"cursor-not-allowed",o[9].disabled),_(a,"class",u="slide-toggle-track "+o[4]),Cl(a,"cursor-not-allowed",o[9].disabled),_(t,"class",h="slide-toggle-label "+o[5]),_(e,"id",o[2]),_(e,"class",m="slide-toggle "+o[6]),_(e,"data-testid","slide-toggle"),_(e,"role","switch"),_(e,"aria-label",o[2]),_(e,"aria-checked",o[0]),_(e,"tabindex","0")},m(E,w){C(E,e,w),c(e,t),c(t,l),l.autofocus&&l.focus(),l.checked=o[0],c(t,s),c(t,a),c(a,i),c(t,d),v&&v.m(t,null),g=!0,T||(y=[q(l,"change",o[31]),q(l,"click",o[23]),q(l,"keydown",o[24]),q(l,"keyup",o[25]),q(l,"keypress",o[26]),q(l,"mouseover",o[27]),q(l,"change",o[28]),q(l,"focus",o[29]),q(l,"blur",o[30]),q(e,"keydown",o[7])],T=!0)},p(E,w){Io(l,N=vs(I,[{type:"checkbox"},{class:"slide-toggle-input hidden"},(!g||w[0]&2)&&{name:E[1]},E[8](),(!g||w[0]&512&&n!==(n=E[9].disabled))&&{disabled:n}])),w[0]&1&&(l.checked=E[0]),(!g||w[0]&8&&r!==(r="slide-toggle-thumb "+E[3]))&&_(i,"class",r),(!g||w[0]&520)&&Cl(i,"cursor-not-allowed",E[9].disabled),(!g||w[0]&16&&u!==(u="slide-toggle-track "+E[4]))&&_(a,"class",u),(!g||w[0]&528)&&Cl(a,"cursor-not-allowed",E[9].disabled),E[10].default?v?(v.p(E,w),w[0]&1024&&O(v,1)):(v=Yo(E),v.c(),O(v,1),v.m(t,null)):v&&(be(),U(v,1,1,()=>{v=null}),pe()),(!g||w[0]&32&&h!==(h="slide-toggle-label "+E[5]))&&_(t,"class",h),(!g||w[0]&4)&&_(e,"id",E[2]),(!g||w[0]&64&&m!==(m="slide-toggle "+E[6]))&&_(e,"class",m),(!g||w[0]&4)&&_(e,"aria-label",E[2]),(!g||w[0]&1)&&_(e,"aria-checked",E[0])},i(E){g||(O(v),g=!0)},o(E){U(v),g=!1},d(E){E&&f(e),v&&v.d(),T=!1,Xe(y)}}}const _a="inline-block",ha="unstyled flex items-center",ga="flex transition-all duration-[200ms] cursor-pointer",ma="w-[50%] h-full scale-[0.8] transition-all duration-[200ms] shadow";function ba(o,e,t){let l,n,s,a,i,r,u,d;const h=["name","checked","size","background","active","border","rounded","label"];let m=Co(e,h),{$$slots:g={},$$scope:T}=e;const y=no(g),I=Jn();let{name:N}=e,{checked:v=!1}=e,{size:E="md"}=e,{background:w="bg-surface-400 dark:bg-surface-700"}=e,{active:L="bg-surface-900 dark:bg-surface-300"}=e,{border:S=""}=e,{rounded:M="rounded-full"}=e,{label:H=""}=e,J;switch(E){case"sm":J="w-12 h-6";break;case"lg":J="w-20 h-10";break;default:J="w-16 h-8"}function G(K){["Enter","Space"].includes(K.code)&&(K.preventDefault(),I("keyup",K),K.target.firstChild.click())}function ee(){return delete m.class,m}function X(K){Me.call(this,o,K)}function Q(K){Me.call(this,o,K)}function $(K){Me.call(this,o,K)}function he(K){Me.call(this,o,K)}function ie(K){Me.call(this,o,K)}function le(K){Me.call(this,o,K)}function ce(K){Me.call(this,o,K)}function j(K){Me.call(this,o,K)}function z(){v=this.checked,t(0,v)}return o.$$set=K=>{t(9,e=it(it({},e),ut(K))),t(33,m=Co(e,h)),"name"in K&&t(1,N=K.name),"checked"in K&&t(0,v=K.checked),"size"in K&&t(11,E=K.size),"background"in K&&t(12,w=K.background),"active"in K&&t(13,L=K.active),"border"in K&&t(14,S=K.border),"rounded"in K&&t(15,M=K.rounded),"label"in K&&t(2,H=K.label),"$$scope"in K&&t(21,T=K.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&12289&&t(19,l=v?L:`${w} cursor-pointer`),o.$$.dirty[0]&1&&t(18,n=v?"bg-white/75":"bg-white"),o.$$.dirty[0]&1&&t(17,s=v?"translate-x-full":""),t(20,a=e.disabled===!0?"opacity-50":"hover:brightness-[105%] dark:hover:brightness-110 cursor-pointer"),t(6,i=`${_a} ${M} ${a} ${e.class??""}`),o.$$.dirty[0]&638976&&t(4,u=`${ga} ${S} ${M} ${J} ${l}`),o.$$.dirty[0]&425984&&t(3,d=`${ma} ${M} ${n} ${s}`)},t(5,r=`${ha}`),e=ut(e),[v,N,H,d,u,r,i,G,ee,e,y,E,w,L,S,M,J,s,n,l,a,T,g,X,Q,$,he,ie,le,ce,j,z]}class pa extends ct{constructor(e){super(),ft(this,e,ba,da,dt,{name:1,checked:0,size:11,background:12,active:13,border:14,rounded:15,label:2},null,[-1,-1])}}function Zo(o){let e,t,l;return t=new zs({props:{autocollapse:!0,$$slots:{default:[Da]},$$scope:{ctx:o}}}),{c(){e=b("div"),Ee(t.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var s=k(e);we(t.$$.fragment,s),s.forEach(f),this.h()},h(){_(e,"class","modal-example-form "+Ia)},m(n,s){C(n,e,s),ye(t,e,null),l=!0},p(n,s){const a={};s&1031&&(a.$$scope={dirty:s,ctx:n}),t.$set(a)},i(n){l||(O(t.$$.fragment,n),l=!0)},o(n){U(t.$$.fragment,n),l=!1},d(n){n&&f(e),Te(t)}}}function va(o){let e;return{c(){e=B("🗒")},l(t){e=V(t,"🗒")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function ka(o){let e;return{c(){e=B("AddNote")},l(t){e=V(t,"AddNote")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function Ea(o){let e,t,l,n=(o[2][0].title??"(title missing)")+"",s,a,i,r=(o[2][0].body??"(body missing)")+"",u,d,h,m,g,T,y=o[0].buttonTextCancel+"",I,N,v,E,w,L,S,M,H,J,G,ee;return{c(){e=b("div"),t=b("header"),l=B("🗒 Add Note to "),s=B(n),a=A(),i=b("article"),u=B(r),d=A(),h=b("input"),m=A(),g=b("footer"),T=b("button"),I=B(y),v=A(),E=b("button"),w=B("Add Private"),S=A(),M=b("button"),H=B("Add Public"),this.h()},l(X){e=p(X,"DIV",{class:!0});var Q=k(e);t=p(Q,"HEADER",{class:!0});var $=k(t);l=V($,"🗒 Add Note to "),s=V($,n),$.forEach(f),a=P(Q),i=p(Q,"ARTICLE",{class:!0});var he=k(i);u=V(he,r),he.forEach(f),d=P(Q),h=p(Q,"INPUT",{class:!0,type:!0,placeholder:!0}),m=P(Q),g=p(Q,"FOOTER",{class:!0});var ie=k(g);T=p(ie,"BUTTON",{class:!0});var le=k(T);I=V(le,y),le.forEach(f),v=P(ie),E=p(ie,"BUTTON",{class:!0});var ce=k(E);w=V(ce,"Add Private"),ce.forEach(f),S=P(ie),M=p(ie,"BUTTON",{class:!0});var j=k(M);H=V(j,"Add Public"),j.forEach(f),ie.forEach(f),Q.forEach(f),this.h()},h(){_(t,"class",as),_(i,"class","body"),_(h,"class","input p-2 m-2"),_(h,"type","text"),_(h,"placeholder","note..."),_(T,"class",N="btn "+o[0].buttonNeutral),_(E,"class",L="btn variant-filled-warning "+o[0].buttonPositive),_(M,"class",J="btn "+o[0].buttonPositive),_(g,"class","rid grid-cols-3 gap-2 flex justify-end mt-2"),_(e,"class","card p-4")},m(X,Q){C(X,e,Q),c(e,t),c(t,l),c(t,s),c(e,a),c(e,i),c(i,u),c(e,d),c(e,h),el(h,o[1].value),c(e,m),c(e,g),c(g,T),c(T,I),c(g,v),c(g,E),c(E,w),c(g,S),c(g,M),c(M,H),G||(ee=[q(h,"input",o[4]),q(T,"click",function(){tl(o[0].onClose)&&o[0].onClose.apply(this,arguments)}),q(E,"click",o[5]),q(M,"click",o[6])],G=!0)},p(X,Q){o=X,Q&4&&n!==(n=(o[2][0].title??"(title missing)")+"")&&Y(s,n),Q&4&&r!==(r=(o[2][0].body??"(body missing)")+"")&&Y(u,r),Q&2&&h.value!==o[1].value&&el(h,o[1].value),Q&1&&y!==(y=o[0].buttonTextCancel+"")&&Y(I,y),Q&1&&N!==(N="btn "+o[0].buttonNeutral)&&_(T,"class",N),Q&1&&L!==(L="btn variant-filled-warning "+o[0].buttonPositive)&&_(E,"class",L),Q&1&&J!==(J="btn "+o[0].buttonPositive)&&_(M,"class",J)},d(X){X&&f(e),G=!1,Xe(ee)}}}function wa(o){let e;return{c(){e=B("🖊")},l(t){e=V(t,"🖊")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function ya(o){let e;return{c(){e=B("CreateNote & AddNote")},l(t){e=V(t,"CreateNote & AddNote")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function Ta(o){let e,t,l,n=(o[2][0].title??"(title missing)")+"",s,a,i,r,u,d,h,m,g,T=o[0].buttonTextCancel+"",y,I,N,v,E,w,L,S,M,H,J,G;return{c(){e=b("div"),t=b("header"),l=B("🖊 Create and Add Note to "),s=B(n),a=A(),i=b("article"),r=B("enter kind:1's content"),u=A(),d=b("textarea"),h=A(),m=b("footer"),g=b("button"),y=B(T),N=A(),v=b("button"),E=B("Add Private"),L=A(),S=b("button"),M=B("Add Public"),this.h()},l(ee){e=p(ee,"DIV",{class:!0});var X=k(e);t=p(X,"HEADER",{class:!0});var Q=k(t);l=V(Q,"🖊 Create and Add Note to "),s=V(Q,n),Q.forEach(f),a=P(X),i=p(X,"ARTICLE",{class:!0});var $=k(i);r=V($,"enter kind:1's content"),$.forEach(f),u=P(X),d=p(X,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),k(d).forEach(f),h=P(X),m=p(X,"FOOTER",{class:!0});var he=k(m);g=p(he,"BUTTON",{class:!0});var ie=k(g);y=V(ie,T),ie.forEach(f),N=P(he),v=p(he,"BUTTON",{class:!0});var le=k(v);E=V(le,"Add Private"),le.forEach(f),L=P(he),S=p(he,"BUTTON",{class:!0});var ce=k(S);M=V(ce,"Add Public"),ce.forEach(f),he.forEach(f),X.forEach(f),this.h()},h(){_(t,"class",as),_(i,"class","body"),_(d,"class","textarea p-2 m-2"),_(d,"rows","4"),_(d,"placeholder","memo..."),_(g,"class",I="btn "+o[0].buttonNeutral),_(v,"class",w="btn variant-filled-warning "+o[0].buttonPositive),_(S,"class",H="btn "+o[0].buttonPositive),_(m,"class","rid grid-cols-3 gap-2 flex justify-end mt-2"),_(e,"class","card p-4")},m(ee,X){C(ee,e,X),c(e,t),c(t,l),c(t,s),c(e,a),c(e,i),c(i,r),c(e,u),c(e,d),el(d,o[1].value),c(e,h),c(e,m),c(m,g),c(g,y),c(m,N),c(m,v),c(v,E),c(m,L),c(m,S),c(S,M),J||(G=[q(d,"input",o[7]),q(g,"click",function(){tl(o[0].onClose)&&o[0].onClose.apply(this,arguments)}),q(v,"click",o[8]),q(S,"click",o[9])],J=!0)},p(ee,X){o=ee,X&4&&n!==(n=(o[2][0].title??"(title missing)")+"")&&Y(s,n),X&2&&el(d,o[1].value),X&1&&T!==(T=o[0].buttonTextCancel+"")&&Y(y,T),X&1&&I!==(I="btn "+o[0].buttonNeutral)&&_(g,"class",I),X&1&&w!==(w="btn variant-filled-warning "+o[0].buttonPositive)&&_(v,"class",w),X&1&&H!==(H="btn "+o[0].buttonPositive)&&_(S,"class",H)},d(ee){ee&&f(e),J=!1,Xe(G)}}}function Da(o){let e,t,l,n;return e=new Ko({props:{open:!0,$$slots:{content:[Ea],summary:[ka],lead:[va]},$$scope:{ctx:o}}}),l=new Ko({props:{$$slots:{content:[Ta],summary:[ya],lead:[wa]},$$scope:{ctx:o}}}),{c(){Ee(e.$$.fragment),t=A(),Ee(l.$$.fragment)},l(s){we(e.$$.fragment,s),t=P(s),we(l.$$.fragment,s)},m(s,a){ye(e,s,a),C(s,t,a),ye(l,s,a),n=!0},p(s,a){const i={};a&1031&&(i.$$scope={dirty:a,ctx:s}),e.$set(i);const r={};a&1031&&(r.$$scope={dirty:a,ctx:s}),l.$set(r)},i(s){n||(O(e.$$.fragment,s),O(l.$$.fragment,s),n=!0)},o(s){U(e.$$.fragment,s),U(l.$$.fragment,s),n=!1},d(s){Te(e,s),s&&f(t),Te(l,s)}}}function Na(o){let e,t,l=o[2][0]&&Zo(o);return{c(){l&&l.c(),e=x()},l(n){l&&l.l(n),e=x()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,[s]){n[2][0]?l?(l.p(n,s),s&4&&O(l,1)):(l=Zo(n),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(be(),U(l,1,1,()=>{l=null}),pe())},i(n){t||(O(l),t=!0)},o(n){U(l),t=!1},d(n){l&&l.d(n),n&&f(e)}}}const Ia="card p-4 w-modal shadow-xl space-y-4",as="text-2xl font-bold";function Ca(o,e,t){let l;nt(o,Ue,g=>t(2,l=g));let{parent:n}=e;const s={value:"",btn:"pub",create:!1};function a(){l[0].response&&l[0].response(s),Ue.close()}function i(){s.value=this.value,t(1,s)}const r=()=>{t(1,s.btn="prv",s),a()},u=()=>{t(1,s.btn="pub",s),a()};function d(){s.value=this.value,t(1,s)}const h=()=>{t(1,s.btn="prv",s),t(1,s.create=!0,s),a()},m=()=>{t(1,s.btn="pub",s),t(1,s.create=!0,s),a()};return o.$$set=g=>{"parent"in g&&t(0,n=g.parent)},[n,s,l,a,i,r,u,d,h,m]}class Ba extends ct{constructor(e){super(),ft(this,e,Ca,Na,dt,{parent:0})}}function $o(o,e,t){const l=o.slice();return l[11]=e[t],l[13]=t,l}function xo(o){let e,t,l=(o[3][0].title??"(title missing)")+"",n,s,a,i=(o[3][0].body??"(body missing)")+"",r,u,d,h,m,g,T=o[0].buttonTextCancel+"",y,I,N,v,E,w,L,S;d=new ns({props:{class:"border border-surface-500 p-4 rounded-container-token max-h-56 overflow-auto",$$slots:{default:[Oa]},$$scope:{ctx:o}}});let M=(o[2]!==o[3][0].value.tag||o[3][0].value.bkm!=="pvt")&&tn(o),H=(o[2]!==o[3][0].value.tag||o[3][0].value.bkm!=="pub")&&ln(o);return{c(){e=b("div"),t=b("header"),n=B(l),s=A(),a=b("article"),r=B(i),u=A(),Ee(d.$$.fragment),h=A(),m=b("footer"),g=b("button"),y=B(T),N=A(),M&&M.c(),v=A(),H&&H.c(),this.h()},l(J){e=p(J,"DIV",{class:!0});var G=k(e);t=p(G,"HEADER",{class:!0});var ee=k(t);n=V(ee,l),ee.forEach(f),s=P(G),a=p(G,"ARTICLE",{});var X=k(a);r=V(X,i),X.forEach(f),u=P(G),we(d.$$.fragment,G),h=P(G),m=p(G,"FOOTER",{class:!0});var Q=k(m);g=p(Q,"BUTTON",{class:!0});var $=k(g);y=V($,T),$.forEach(f),N=P(Q),M&&M.l(Q),v=P(Q),H&&H.l(Q),Q.forEach(f),G.forEach(f),this.h()},h(){_(t,"class",La),_(g,"class",I="btn "+o[0].buttonNeutral),_(m,"class",E="modal-footer "+o[0].regionFooter),_(e,"class","modal-example-form "+Pa)},m(J,G){C(J,e,G),c(e,t),c(t,n),c(e,s),c(e,a),c(a,r),c(e,u),ye(d,e,null),c(e,h),c(e,m),c(m,g),c(g,y),c(m,N),M&&M.m(m,null),c(m,v),H&&H.m(m,null),w=!0,L||(S=q(g,"click",function(){tl(o[0].onClose)&&o[0].onClose.apply(this,arguments)}),L=!0)},p(J,G){o=J,(!w||G&8)&&l!==(l=(o[3][0].title??"(title missing)")+"")&&Y(n,l),(!w||G&8)&&i!==(i=(o[3][0].body??"(body missing)")+"")&&Y(r,i);const ee={};G&16404&&(ee.$$scope={dirty:G,ctx:o}),d.$set(ee),(!w||G&1)&&T!==(T=o[0].buttonTextCancel+"")&&Y(y,T),(!w||G&1&&I!==(I="btn "+o[0].buttonNeutral))&&_(g,"class",I),o[2]!==o[3][0].value.tag||o[3][0].value.bkm!=="pvt"?M?M.p(o,G):(M=tn(o),M.c(),M.m(m,v)):M&&(M.d(1),M=null),o[2]!==o[3][0].value.tag||o[3][0].value.bkm!=="pub"?H?H.p(o,G):(H=ln(o),H.c(),H.m(m,null)):H&&(H.d(1),H=null),(!w||G&1&&E!==(E="modal-footer "+o[0].regionFooter))&&_(m,"class",E)},i(J){w||(O(d.$$.fragment,J),w=!0)},o(J){U(d.$$.fragment,J),w=!1},d(J){J&&f(e),Te(d),M&&M.d(),H&&H.d(),L=!1,S()}}}function Va(o){let e=o[11].tags[0][1]+"",t;return{c(){t=B(e)},l(l){t=V(l,e)},m(l,n){C(l,t,n)},p(l,n){n&16&&e!==(e=l[11].tags[0][1]+"")&&Y(t,e)},d(l){l&&f(t)}}}function en(o,e){let t,l,n,s;function a(u){e[7](u)}function i(){return e[8](e[11])}let r={name:e[11].tags[0][1],value:e[13],$$slots:{default:[Va]},$$scope:{ctx:e}};return e[2]!==void 0&&(r.group=e[2]),l=new ss({props:r}),qt.push(()=>ll(l,"group",a)),l.$on("change",i),{key:o,first:null,c(){t=x(),Ee(l.$$.fragment),this.h()},l(u){t=x(),we(l.$$.fragment,u),this.h()},h(){this.first=t},m(u,d){C(u,t,d),ye(l,u,d),s=!0},p(u,d){e=u;const h={};d&16&&(h.name=e[11].tags[0][1]),d&16&&(h.value=e[13]),d&16400&&(h.$$scope={dirty:d,ctx:e}),!n&&d&4&&(n=!0,h.group=e[2],ol(()=>n=!1)),l.$set(h)},i(u){s||(O(l.$$.fragment,u),s=!0)},o(u){U(l.$$.fragment,u),s=!1},d(u){u&&f(t),Te(l,u)}}}function Oa(o){let e=[],t=new Map,l,n,s=o[4];const a=i=>i[11].tags[0][1];for(let i=0;i<s.length;i+=1){let r=$o(o,s,i),u=a(r);t.set(u,e[i]=en(u,r))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=x()},l(i){for(let r=0;r<e.length;r+=1)e[r].l(i);l=x()},m(i,r){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(i,r);C(i,l,r),n=!0},p(i,r){r&84&&(s=i[4],be(),e=Gn(e,r,a,1,i,s,t,l.parentNode,Qn,en,l,$o),pe())},i(i){if(!n){for(let r=0;r<s.length;r+=1)O(e[r]);n=!0}},o(i){for(let r=0;r<e.length;r+=1)U(e[r]);n=!1},d(i){for(let r=0;r<e.length;r+=1)e[r].d(i);i&&f(l)}}}function tn(o){let e,t,l,n;return{c(){e=b("button"),t=B("Private"),this.h()},l(s){e=p(s,"BUTTON",{class:!0});var a=k(e);t=V(a,"Private"),a.forEach(f),this.h()},h(){_(e,"class","btn variant-filled-warning")},m(s,a){C(s,e,a),c(e,t),l||(n=q(e,"click",o[9]),l=!0)},p:ne,d(s){s&&f(e),l=!1,n()}}}function ln(o){let e,t,l,n;return{c(){e=b("button"),t=B("Public"),this.h()},l(s){e=p(s,"BUTTON",{class:!0});var a=k(e);t=V(a,"Public"),a.forEach(f),this.h()},h(){_(e,"class","btn variant-filled-primary")},m(s,a){C(s,e,a),c(e,t),l||(n=q(e,"click",o[10]),l=!0)},p:ne,d(s){s&&f(e),l=!1,n()}}}function Aa(o){let e,t,l=o[3][0]&&xo(o);return{c(){l&&l.c(),e=x()},l(n){l&&l.l(n),e=x()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,[s]){n[3][0]?l?(l.p(n,s),s&8&&O(l,1)):(l=xo(n),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(be(),U(l,1,1,()=>{l=null}),pe())},i(n){t||(O(l),t=!0)},o(n){U(l),t=!1},d(n){l&&l.d(n),n&&f(e)}}}const Pa="card p-4 w-modal shadow-xl space-y-4 break-all",La="text-2xl font-bold";function Sa(o,e,t){let l,n;nt(o,Ue,T=>t(3,l=T)),nt(o,at,T=>t(4,n=T));let{parent:s}=e,a={tag:0,bkm:""},i=0;function r(){t(1,a.tag=i,a),l[0].response&&l[0].response(a),console.log(a),Ue.close()}function u(T){console.log(T),console.log(i)}function d(T){i=T,t(2,i)}const h=T=>u(T.tags[0][1]),m=()=>{t(1,a.bkm="pvt",a),r()},g=()=>{t(1,a.bkm="pub",a),r()};return o.$$set=T=>{"parent"in T&&t(0,s=T.parent)},[s,a,i,l,n,r,u,d,h,m,g]}class Ma extends ct{constructor(e){super(),ft(this,e,Sa,Aa,dt,{parent:0})}}function on(o,e,t){const l=o.slice();return l[11]=e[t],l[13]=t,l}function nn(o){let e,t,l=(o[4][0].title??"(title missing)")+"",n,s,a,i=(o[4][0].body??"(body missing)")+"",r,u,d,h,m,g,T=o[1].buttonTextCancel+"",y,I,N,v,E,w,L,S,M,H,J,G,ee,X,Q,$,he,ie,le=o[1].buttonTextCancel+"",ce,j,z,K,Re,Je,De,Ye,Fe=o[3],ge=[];for(let te=0;te<Fe.length;te+=1)ge[te]=sn(on(o,Fe,te));return{c(){e=b("div"),t=b("header"),n=B(l),s=A(),a=b("article"),r=B(i),u=A(),d=b("input"),h=A(),m=b("footer"),g=b("button"),y=B(T),N=A(),v=b("button"),E=B("Add Tag"),S=A(),M=b("article"),H=B("Select "),J=b("strong"),G=B("Delete"),ee=B(" Tag"),X=A(),Q=b("select");for(let te=0;te<ge.length;te+=1)ge[te].c();$=A(),he=b("footer"),ie=b("button"),ce=B(le),z=A(),K=b("button"),Re=B("Delete Tag"),this.h()},l(te){e=p(te,"DIV",{class:!0});var se=k(e);t=p(se,"HEADER",{class:!0});var me=k(t);n=V(me,l),me.forEach(f),s=P(se),a=p(se,"ARTICLE",{class:!0});var st=k(a);r=V(st,i),st.forEach(f),u=P(se),d=p(se,"INPUT",{class:!0,type:!0,placeholder:!0}),h=P(se),m=p(se,"FOOTER",{class:!0});var tt=k(m);g=p(tt,"BUTTON",{class:!0});var Ze=k(g);y=V(Ze,T),Ze.forEach(f),N=P(tt),v=p(tt,"BUTTON",{class:!0});var Ct=k(v);E=V(Ct,"Add Tag"),Ct.forEach(f),tt.forEach(f),S=P(se),M=p(se,"ARTICLE",{class:!0});var $e=k(M);H=V($e,"Select "),J=p($e,"STRONG",{});var Bt=k(J);G=V(Bt,"Delete"),Bt.forEach(f),ee=V($e," Tag"),$e.forEach(f),X=P(se),Q=p(se,"SELECT",{class:!0,size:!0});var _t=k(Q);for(let ae=0;ae<ge.length;ae+=1)ge[ae].l(_t);_t.forEach(f),$=P(se),he=p(se,"FOOTER",{class:!0});var Pe=k(he);ie=p(Pe,"BUTTON",{class:!0});var Vt=k(ie);ce=V(Vt,le),Vt.forEach(f),z=P(Pe),K=p(Pe,"BUTTON",{class:!0});var lt=k(K);Re=V(lt,"Delete Tag"),lt.forEach(f),Pe.forEach(f),se.forEach(f),this.h()},h(){_(t,"class",Ra),_(a,"class","body"),_(d,"class","input p-2"),_(d,"type","text"),_(d,"placeholder","tag name"),_(g,"class",I="btn "+o[1].buttonNeutral),_(v,"class",w="btn "+o[1].buttonPositive),_(m,"class",L="modal-footer "+o[1].regionFooter),_(M,"class","whitespace-pre-wrap break-words"),_(Q,"class","select"),_(Q,"size","1"),o[0]===void 0&&Kn(()=>o[9].call(Q)),_(ie,"class",j="btn "+o[1].buttonNeutral),_(K,"class","btn variant-filled-warning"),_(he,"class",Je="modal-footer "+o[1].regionFooter),_(e,"class","modal-example-form "+Ua)},m(te,se){C(te,e,se),c(e,t),c(t,n),c(e,s),c(e,a),c(a,r),c(e,u),c(e,d),el(d,o[2].value),c(e,h),c(e,m),c(m,g),c(g,y),c(m,N),c(m,v),c(v,E),c(e,S),c(e,M),c(M,H),c(M,J),c(J,G),c(M,ee),c(e,X),c(e,Q);for(let me=0;me<ge.length;me+=1)ge[me]&&ge[me].m(Q,null);Bo(Q,o[0],!0),c(e,$),c(e,he),c(he,ie),c(ie,ce),c(he,z),c(he,K),c(K,Re),De||(Ye=[q(d,"input",o[8]),q(g,"click",function(){tl(o[1].onClose)&&o[1].onClose.apply(this,arguments)}),q(v,"click",o[6]),q(Q,"change",o[9]),q(Q,"change",o[5]),q(ie,"click",function(){tl(o[1].onClose)&&o[1].onClose.apply(this,arguments)}),q(K,"click",o[7])],De=!0)},p(te,se){if(o=te,se&16&&l!==(l=(o[4][0].title??"(title missing)")+"")&&Y(n,l),se&16&&i!==(i=(o[4][0].body??"(body missing)")+"")&&Y(r,i),se&4&&d.value!==o[2].value&&el(d,o[2].value),se&2&&T!==(T=o[1].buttonTextCancel+"")&&Y(y,T),se&2&&I!==(I="btn "+o[1].buttonNeutral)&&_(g,"class",I),se&2&&w!==(w="btn "+o[1].buttonPositive)&&_(v,"class",w),se&2&&L!==(L="modal-footer "+o[1].regionFooter)&&_(m,"class",L),se&8){Fe=o[3];let me;for(me=0;me<Fe.length;me+=1){const st=on(o,Fe,me);ge[me]?ge[me].p(st,se):(ge[me]=sn(st),ge[me].c(),ge[me].m(Q,null))}for(;me<ge.length;me+=1)ge[me].d(1);ge.length=Fe.length}se&1&&Bo(Q,o[0]),se&2&&le!==(le=o[1].buttonTextCancel+"")&&Y(ce,le),se&2&&j!==(j="btn "+o[1].buttonNeutral)&&_(ie,"class",j),se&2&&Je!==(Je="modal-footer "+o[1].regionFooter)&&_(he,"class",Je)},d(te){te&&f(e),yt(ge,te),De=!1,Xe(Ye)}}}function sn(o){let e,t=o[11].tags[0][1]+"",l;return{c(){e=b("option"),l=B(t),this.h()},l(n){e=p(n,"OPTION",{});var s=k(e);l=V(s,t),s.forEach(f),this.h()},h(){e.__value=o[13],e.value=e.__value},m(n,s){C(n,e,s),c(e,l)},p(n,s){s&8&&t!==(t=n[11].tags[0][1]+"")&&Y(l,t)},d(n){n&&f(e)}}}function Fa(o){let e,t=o[4][0]&&nn(o);return{c(){t&&t.c(),e=x()},l(l){t&&t.l(l),e=x()},m(l,n){t&&t.m(l,n),C(l,e,n)},p(l,[n]){l[4][0]?t?t.p(l,n):(t=nn(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ne,o:ne,d(l){t&&t.d(l),l&&f(e)}}}const Ua="card p-4 w-modal shadow-xl space-y-4",Ra="text-2xl font-bold";function ja(o,e,t){let l,n;nt(o,at,T=>t(3,l=T)),nt(o,Ue,T=>t(4,n=T));let{parent:s}=e,{selectedValue:a}=e,i={value:"",btn:"",tagIndex:0};function r(){i.tagIndex===void 0&&t(2,i.tagIndex=0,i),n[0].response&&n[0].response(i),Ue.close()}function u(){console.log(a),t(2,i.tagIndex=a,i)}function d(){if(t(2,i.value=i.value.trim(),i),console.log(i.value.length),i.value===""){const T={message:"タグ名を入力してください",timeout:3e3,background:"variant-filled-error"};_e.trigger(T)}else if(i.value.length>30){const T={message:"タグ名が長すぎます",timeout:3e3,background:"variant-filled-error"};_e.trigger(T)}else if(l.some(T=>T.tags[0][1]===i.value)){const T={message:"同じ名前のタグが既に存在します",timeout:3e3,background:"variant-filled-error"};_e.trigger(T)}else t(2,i.btn="add",i),r()}function h(){const T={message:`Are you sure you delete  tag [${l[i.tagIndex].tags[0][1]}]?`,timeout:1e4,background:"variant-filled-warning",action:{label:"Delete",response:async()=>{t(2,i.btn="delete",i),r()}}};_e.trigger(T)}function m(){i.value=this.value,t(2,i)}function g(){a=ks(this),t(0,a)}return o.$$set=T=>{"parent"in T&&t(1,s=T.parent),"selectedValue"in T&&t(0,a=T.selectedValue)},[a,s,i,l,n,u,d,h,m,g]}class Ha extends ct{constructor(e){super(),ft(this,e,ja,Fa,dt,{parent:1,selectedValue:0})}}function an(o,e,t){const l=o.slice();return l[7]=e[t],l[9]=t,l}function rn(o){let e,t,l=(o[2][0].title??"(title missing)")+"",n,s,a,i=(o[2][0].body??"(body missing)")+"",r,u,d,h,m,g,T=o[0].buttonTextCancel+"",y,I,N,v,E,w;return d=new ns({props:{class:"border border-surface-500 p-4 rounded-container-token max-h-80 overflow-y-auto",$$slots:{default:[za]},$$scope:{ctx:o}}}),{c(){e=b("div"),t=b("header"),n=B(l),s=A(),a=b("article"),r=B(i),u=A(),Ee(d.$$.fragment),h=A(),m=b("footer"),g=b("button"),y=B(T),this.h()},l(L){e=p(L,"DIV",{class:!0});var S=k(e);t=p(S,"HEADER",{class:!0});var M=k(t);n=V(M,l),M.forEach(f),s=P(S),a=p(S,"ARTICLE",{});var H=k(a);r=V(H,i),H.forEach(f),u=P(S),we(d.$$.fragment,S),h=P(S),m=p(S,"FOOTER",{class:!0});var J=k(m);g=p(J,"BUTTON",{class:!0});var G=k(g);y=V(G,T),G.forEach(f),J.forEach(f),S.forEach(f),this.h()},h(){_(t,"class",Ga),_(g,"class",I="btn "+o[0].buttonNeutral),_(m,"class",N="modal-footer "+o[0].regionFooter),_(e,"class","modal-example-form "+Ka)},m(L,S){C(L,e,S),c(e,t),c(t,n),c(e,s),c(e,a),c(a,r),c(e,u),ye(d,e,null),c(e,h),c(e,m),c(m,g),c(g,y),v=!0,E||(w=q(g,"click",function(){tl(o[0].onClose)&&o[0].onClose.apply(this,arguments)}),E=!0)},p(L,S){o=L,(!v||S&4)&&l!==(l=(o[2][0].title??"(title missing)")+"")&&Y(n,l),(!v||S&4)&&i!==(i=(o[2][0].body??"(body missing)")+"")&&Y(r,i);const M={};S&1030&&(M.$$scope={dirty:S,ctx:o}),d.$set(M),(!v||S&1)&&T!==(T=o[0].buttonTextCancel+"")&&Y(y,T),(!v||S&1&&I!==(I="btn "+o[0].buttonNeutral))&&_(g,"class",I),(!v||S&1&&N!==(N="modal-footer "+o[0].regionFooter))&&_(m,"class",N)},i(L){v||(O(d.$$.fragment,L),v=!0)},o(L){U(d.$$.fragment,L),v=!1},d(L){L&&f(e),Te(d),E=!1,w()}}}function qa(o){let e=o[7]+"",t;return{c(){t=B(e)},l(l){t=V(l,e)},m(l,n){C(l,t,n)},p(l,n){n&4&&e!==(e=l[7]+"")&&Y(t,e)},d(l){l&&f(t)}}}function un(o){let e,t,l;function n(i){o[4](i)}function s(){return o[5](o[9])}let a={name:o[7],value:o[9],class:"truncate",$$slots:{default:[qa]},$$scope:{ctx:o}};return o[1]!==void 0&&(a.group=o[1]),e=new ss({props:a}),qt.push(()=>ll(e,"group",n)),e.$on("change",s),{c(){Ee(e.$$.fragment)},l(i){we(e.$$.fragment,i)},m(i,r){ye(e,i,r),l=!0},p(i,r){o=i;const u={};r&4&&(u.name=o[7]),r&1028&&(u.$$scope={dirty:r,ctx:o}),!t&&r&2&&(t=!0,u.group=o[1],ol(()=>t=!1)),e.$set(u)},i(i){l||(O(e.$$.fragment,i),l=!0)},o(i){U(e.$$.fragment,i),l=!1},d(i){Te(e,i)}}}function za(o){let e,t,l=o[2][0].value.tagList,n=[];for(let a=0;a<l.length;a+=1)n[a]=un(an(o,l,a));const s=a=>U(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=x()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=x()},m(a,i){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(a,i);C(a,e,i),t=!0},p(a,i){if(i&14){l=a[2][0].value.tagList;let r;for(r=0;r<l.length;r+=1){const u=an(a,l,r);n[r]?(n[r].p(u,i),O(n[r],1)):(n[r]=un(u),n[r].c(),O(n[r],1),n[r].m(e.parentNode,e))}for(be(),r=l.length;r<n.length;r+=1)s(r);pe()}},i(a){if(!t){for(let i=0;i<l.length;i+=1)O(n[i]);t=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)U(n[i]);t=!1},d(a){yt(n,a),a&&f(e)}}}function Ja(o){let e,t,l=o[2][0]&&rn(o);return{c(){l&&l.c(),e=x()},l(n){l&&l.l(n),e=x()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,[s]){n[2][0]?l?(l.p(n,s),s&4&&O(l,1)):(l=rn(n),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(be(),U(l,1,1,()=>{l=null}),pe())},i(n){t||(O(l),t=!0)},o(n){U(l),t=!1},d(n){l&&l.d(n),n&&f(e)}}}const Ka="card p-4 w-modal shadow-xl space-y-4 break-all",Ga="text-2xl font-bold";function Qa(o,e,t){let l;nt(o,Ue,d=>t(2,l=d));let{parent:n}=e,s={index:-1},a;function i(d){s.index=d,l[0].response&&l[0].response(s),console.log(s),Ue.close()}function r(d){a=d,t(1,a)}const u=d=>i(d);return o.$$set=d=>{"parent"in d&&t(0,n=d.parent)},[n,a,l,i,r,u]}class Wa extends ct{constructor(e){super(),ft(this,e,Qa,Ja,dt,{parent:0})}}const{document:Gt}=Ts;function cn(o,e,t){const l=o.slice();return l[87]=e[t],l[89]=t,l}function fn(o,e,t){const l=o.slice();return l[87]=e[t],l[89]=t,l}function dn(o,e,t){const l=o.slice();return l[90]=e[t],l}function _n(o,e,t){const l=o.slice();return l[96]=e[t],l}function hn(o,e,t){const l=o.slice();return l[90]=e[t],l}function gn(o,e,t){const l=o.slice();return l[103]=e[t],l[89]=t,l}function mn(o,e,t){const l=o.slice();return l[105]=e[t],l}function bn(o,e,t){const l=o.slice();return l[105]=e[t],l}function pn(o){let e,t,l,n;return{c(){e=b("button"),t=B("Go back to Setup"),this.h()},l(s){e=p(s,"BUTTON",{type:!0,class:!0});var a=k(e);t=V(a,"Go back to Setup"),a.forEach(f),this.h()},h(){_(e,"type","button"),_(e,"class","btn variant-filled-secondary py-1 my-2")},m(s,a){C(s,e,a),c(e,t),l||(n=q(e,"click",o[38]),l=!0)},p:ne,d(s){s&&f(e),l=!1,n()}}}function vn(o){let e,t=o[105]+"",l;return{c(){e=b("li"),l=B(t),this.h()},l(n){e=p(n,"LI",{class:!0});var s=k(e);l=V(s,t),s.forEach(f),this.h()},h(){_(e,"class","ml-4")},m(n,s){C(n,e,s),c(e,l)},p:ne,d(n){n&&f(e)}}}function kn(o){let e,t=o[105]+"",l;return{c(){e=b("li"),l=B(t),this.h()},l(n){e=p(n,"LI",{class:!0});var s=k(e);l=V(s,t),s.forEach(f),this.h()},h(){_(e,"class","ml-4")},m(n,s){C(n,e,s),c(e,l)},p(n,s){s[0]&32768&&t!==(t=n[105]+"")&&Y(l,t)},d(n){n&&f(e)}}}function En(o){let e;return{c(){e=b("div"),this.h()},l(t){e=p(t,"DIV",{class:!0});var l=k(e);l.forEach(f),this.h()},h(){_(e,"class","break-all whitespace-pre-wrap")},m(t,l){C(t,e,l),e.innerHTML=o[6]},p(t,l){l[0]&64&&(e.innerHTML=t[6])},d(t){t&&f(e)}}}function wn(o){let e,t,l,n,s;return t=new os({props:{padding:"py-3 px-4",justify:"justify",active:"variant-filled-secondary",hover:"hover:variant-soft-secondary",border:"border-b border-surface-400-500-token",rounded:"rounded-tl-container-token rounded-tr-container-token",$$slots:{default:[Ya]},$$scope:{ctx:o}}}),{c(){e=b("div"),Ee(t.$$.fragment),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=k(e);we(t.$$.fragment,i),i.forEach(f),this.h()},h(){_(e,"class","tabGroup svelte-1enlxmt")},m(a,i){C(a,e,i),ye(t,e,null),l=!0,n||(s=q(e,"wheel",Yr),n=!0)},p(a,i){const r={};i[0]&12345|i[3]&131072&&(r.$$scope={dirty:i,ctx:a}),t.$set(r)},i(a){l||(O(t.$$.fragment,a),l=!0)},o(a){U(t.$$.fragment,a),l=!1},d(a){a&&f(e),Te(t),n=!1,s()}}}function yn(o){let e,t,l;function n(i){o[41](i)}function s(){return o[42](o[89])}let a={name:o[103].tags[0][1],value:o[89],$$slots:{default:[Xa]},$$scope:{ctx:o}};return o[4]!==void 0&&(a.group=o[4]),e=new uo({props:a}),qt.push(()=>ll(e,"group",n)),e.$on("change",s),{c(){Ee(e.$$.fragment)},l(i){we(e.$$.fragment,i)},m(i,r){ye(e,i,r),l=!0},p(i,r){o=i;const u={};r[0]&8192&&(u.name=o[103].tags[0][1]),r[0]&8192&&(u.value=o[89]),r[0]&8192|r[3]&131072&&(u.$$scope={dirty:r,ctx:o}),!t&&r[0]&16&&(t=!0,u.group=o[4],ol(()=>t=!1)),e.$set(u)},i(i){l||(O(e.$$.fragment,i),l=!0)},o(i){U(e.$$.fragment,i),l=!1},d(i){Te(e,i)}}}function Xa(o){let e=o[103].tags[0][1]+"",t,l;return{c(){t=B(e),l=A()},l(n){t=V(n,e),l=P(n)},m(n,s){C(n,t,s),C(n,l,s)},p(n,s){s[0]&8192&&e!==(e=n[103].tags[0][1]+"")&&Y(t,e)},d(n){n&&f(t),n&&f(l)}}}function Tn(o,e){let t,l,n,s=!e[12]&&yn(e);return{key:o,first:null,c(){t=x(),s&&s.c(),l=x(),this.h()},l(a){t=x(),s&&s.l(a),l=x(),this.h()},h(){this.first=t},m(a,i){C(a,t,i),s&&s.m(a,i),C(a,l,i),n=!0},p(a,i){e=a,e[12]?s&&(be(),U(s,1,1,()=>{s=null}),pe()):s?(s.p(e,i),i[0]&4096&&O(s,1)):(s=yn(e),s.c(),O(s,1),s.m(l.parentNode,l))},i(a){n||(O(s),n=!0)},o(a){U(s),n=!1},d(a){a&&f(t),s&&s.d(a),a&&f(l)}}}function Ya(o){let e=[],t=new Map,l,n,s=o[13];const a=i=>i[103].tags[0][1];for(let i=0;i<s.length;i+=1){let r=gn(o,s,i),u=a(r);t.set(u,e[i]=Tn(u,r))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=x()},l(i){for(let r=0;r<e.length;r+=1)e[r].l(i);l=x()},m(i,r){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(i,r);C(i,l,r),n=!0},p(i,r){r[0]&12345|r[1]&1&&(s=i[13],be(),e=Gn(e,r,a,1,i,s,t,l.parentNode,Qn,Tn,l,gn),pe())},i(i){if(!n){for(let r=0;r<s.length;r+=1)O(e[r]);n=!0}},o(i){for(let r=0;r<e.length;r+=1)U(e[r]);n=!1},d(i){for(let r=0;r<e.length;r+=1)e[r].d(i);i&&f(l)}}}function Za(o){let e,t,l=o[13]&&o[13].length>0&&wn(o);return{c(){l&&l.c(),e=x()},l(n){l&&l.l(n),e=x()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,s){n[13]&&n[13].length>0?l?(l.p(n,s),s[0]&8192&&O(l,1)):(l=wn(n),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(be(),U(l,1,1,()=>{l=null}),pe())},i(n){t||(O(l),t=!0)},o(n){U(l),t=!1},d(n){l&&l.d(n),n&&f(e)}}}function $a(o){let e,t,l,n,s;return{c(){e=b("div"),t=b("button"),l=B("📝"),this.h()},l(a){e=p(a,"DIV",{class:!0});var i=k(e);t=p(i,"BUTTON",{class:!0});var r=k(t);l=V(r,"📝"),r.forEach(f),i.forEach(f),this.h()},h(){_(t,"class","btn-icon variant-filled-surface"),_(e,"class","lead-icon pl-2 z-20")},m(a,i){C(a,e,i),c(e,t),c(t,l),n||(s=Ds(Ss.call(null,t,o[20])),n=!0)},p:ne,d(a){a&&f(e),n=!1,s()}}}function xa(o){let e,t,l,n;return{c(){e=b("div"),t=B("read"),l=b("br"),n=B("only"),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=k(e);t=V(a,"read"),l=p(a,"BR",{}),n=V(a,"only"),a.forEach(f),this.h()},h(){_(e,"class","flex variant-filled-surface rounded-full px-2 text-sm")},m(s,a){C(s,e,a),c(e,t),c(e,l),c(e,n)},p:ne,i:ne,o:ne,d(s){s&&f(e)}}}function er(o){let e,t,l,n;const s=[lr,tr],a=[];function i(r,u){return r[2]?r[12]?-1:1:0}return~(e=i(o))&&(t=a[e]=s[e](o)),{c(){t&&t.c(),l=x()},l(r){t&&t.l(r),l=x()},m(r,u){~e&&a[e].m(r,u),C(r,l,u),n=!0},p(r,u){let d=e;e=i(r),e===d?~e&&a[e].p(r,u):(t&&(be(),U(a[d],1,1,()=>{a[d]=null}),pe()),~e?(t=a[e],t?t.p(r,u):(t=a[e]=s[e](r),t.c()),O(t,1),t.m(l.parentNode,l)):t=null)},i(r){n||(O(t),n=!0)},o(r){U(t),n=!1},d(r){~e&&a[e].d(r),r&&f(l)}}}function tr(o){let e,t,l,n,s,a,i;function r(d){o[39](d)}let u={name:"slider-small",size:"sm"};return o[3]!==void 0&&(u.checked=o[3]),s=new pa({props:u}),qt.push(()=>ll(s,"checked",r)),s.$on("change",o[40]),{c(){e=b("div"),t=B("mode"),l=A(),n=b("div"),Ee(s.$$.fragment),this.h()},l(d){e=p(d,"DIV",{});var h=k(e);t=V(h,"mode"),h.forEach(f),l=P(d),n=p(d,"DIV",{class:!0});var m=k(n);we(s.$$.fragment,m),m.forEach(f),this.h()},h(){_(n,"class","sliderContainer")},m(d,h){C(d,e,h),c(e,t),C(d,l,h),C(d,n,h),ye(s,n,null),i=!0},p(d,h){const m={};!a&&h[0]&8&&(a=!0,m.checked=d[3],ol(()=>a=!1)),s.$set(m)},i(d){i||(O(s.$$.fragment,d),i=!0)},o(d){U(s.$$.fragment,d),i=!1},d(d){d&&f(e),d&&f(l),d&&f(n),Te(s)}}}function lr(o){let e,t,l,n;return{c(){e=b("button"),t=B("Login"),this.h()},l(s){e=p(s,"BUTTON",{type:!0,class:!0});var a=k(e);t=V(a,"Login"),a.forEach(f),this.h()},h(){_(e,"type","button"),_(e,"class","btn-icon variant-filled-surface")},m(s,a){C(s,e,a),c(e,t),l||(n=q(e,"click",o[21]),l=!0)},p:ne,i:ne,o:ne,d(s){s&&f(e),l=!1,n()}}}function or(o){let e,t,l,n;const s=[er,xa],a=[];function i(r,u){return r[19]==="nprofile"?0:1}return t=i(o),l=a[t]=s[t](o),{c(){e=b("div"),l.c(),this.h()},l(r){e=p(r,"DIV",{class:!0});var u=k(e);l.l(u),u.forEach(f),this.h()},h(){_(e,"class","pr-2 text-center justify-center")},m(r,u){C(r,e,u),a[t].m(e,null),n=!0},p(r,u){l.p(r,u)},i(r){n||(O(l),n=!0)},o(r){U(l),n=!1},d(r){r&&f(e),a[t].d()}}}function Dn(o){let e,t;return e=new os({props:{justify:"justify-center",flex:"flex-1",rounded:"",class:"bg-surface-50/80 dark:bg-surface-800/80 w-full drop-shadow",$$slots:{default:[ar]},$$scope:{ctx:o}}}),{c(){Ee(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,n){ye(e,l,n),t=!0},p(l,n){const s={};n[0]&13885|n[3]&131072&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Te(e,l)}}}function Nn(o){let e,t,l,n,s;function a(u){o[43](u)}let i={name:"pub",value:"pub",$$slots:{default:[nr]},$$scope:{ctx:o}};o[5]!==void 0&&(i.group=o[5]),e=new uo({props:i}),qt.push(()=>ll(e,"group",a)),e.$on("change",o[44]);let r=o[2]&&In(o);return{c(){Ee(e.$$.fragment),l=A(),r&&r.c(),n=x()},l(u){we(e.$$.fragment,u),l=P(u),r&&r.l(u),n=x()},m(u,d){ye(e,u,d),C(u,l,d),r&&r.m(u,d),C(u,n,d),s=!0},p(u,d){const h={};d[3]&131072&&(h.$$scope={dirty:d,ctx:u}),!t&&d[0]&32&&(t=!0,h.group=u[5],ol(()=>t=!1)),e.$set(h),u[2]?r?(r.p(u,d),d[0]&4&&O(r,1)):(r=In(u),r.c(),O(r,1),r.m(n.parentNode,n)):r&&(be(),U(r,1,1,()=>{r=null}),pe())},i(u){s||(O(e.$$.fragment,u),O(r),s=!0)},o(u){U(e.$$.fragment,u),U(r),s=!1},d(u){Te(e,u),u&&f(l),r&&r.d(u),u&&f(n)}}}function nr(o){let e;return{c(){e=B("public")},l(t){e=V(t,"public")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function In(o){let e,t,l;function n(a){o[45](a)}let s={name:"pvt",value:"pvt",$$slots:{default:[sr]},$$scope:{ctx:o}};return o[5]!==void 0&&(s.group=o[5]),e=new uo({props:s}),qt.push(()=>ll(e,"group",n)),e.$on("change",o[46]),{c(){Ee(e.$$.fragment)},l(a){we(e.$$.fragment,a)},m(a,i){ye(e,a,i),l=!0},p(a,i){const r={};i[3]&131072&&(r.$$scope={dirty:i,ctx:a}),!t&&i[0]&32&&(t=!0,r.group=a[5],ol(()=>t=!1)),e.$set(r)},i(a){l||(O(e.$$.fragment,a),l=!0)},o(a){U(e.$$.fragment,a),l=!1},d(a){Te(e,a)}}}function sr(o){let e;return{c(){e=B("private")},l(t){e=V(t,"private")},m(t,l){C(t,e,l)},d(t){t&&f(e)}}}function ar(o){let e,t,l=!o[12]&&Nn(o);return{c(){l&&l.c(),e=x()},l(n){l&&l.l(n),e=x()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,s){n[12]?l&&(be(),U(l,1,1,()=>{l=null}),pe()):l?(l.p(n,s),s[0]&4096&&O(l,1)):(l=Nn(n),l.c(),O(l,1),l.m(e.parentNode,e))},i(n){t||(O(l),t=!0)},o(n){U(l),t=!1},d(n){l&&l.d(n),n&&f(e)}}}function rr(o){let e,t=o[11],l=[];for(let n=0;n<t.length;n+=1)l[n]=Bn(cn(o,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=x()},l(n){for(let s=0;s<l.length;s+=1)l[s].l(n);e=x()},m(n,s){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(n,s);C(n,e,s)},p(n,s){if(s[0]&2048|s[1]&16){t=n[11];let a;for(a=0;a<t.length;a+=1){const i=cn(n,t,a);l[a]?l[a].p(i,s):(l[a]=Bn(i),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},i:ne,o:ne,d(n){yt(l,n),n&&f(e)}}}function ir(o){let e,t;return e=new Vs({props:{relays:o[15],$$slots:{default:[Jr]},$$scope:{ctx:o}}}),{c(){Ee(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,n){ye(e,l,n),t=!0},p(l,n){const s={};n[0]&32768&&(s.relays=l[15]),n[0]&89790|n[3]&131072&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Te(e,l)}}}function Cn(o){let e,t=rt.noteEncode(o[87][1])+"",l,n,s,a,i,r,u,d;function h(){return o[65](o[87])}function m(){return o[66](o[87])}return{c(){e=b("div"),l=B(t),n=A(),s=b("button"),a=A(),i=b("button"),r=A(),this.h()},l(g){e=p(g,"DIV",{class:!0});var T=k(e);l=V(T,t),n=P(T),s=p(T,"BUTTON",{class:!0});var y=k(s);y.forEach(f),a=P(T),i=p(T,"BUTTON",{class:!0});var I=k(i);I.forEach(f),T.forEach(f),r=P(g),this.h()},h(){_(s,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5"),_(i,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5"),_(e,"class","card drop-shadow px-1 py-2 my-1.5 grid grid-cols-[1fr_auto_auto] gap-1")},m(g,T){C(g,e,T),c(e,l),c(e,n),c(e,s),s.innerHTML=Qt,c(e,a),c(e,i),i.innerHTML=so,C(g,r,T),u||(d=[q(s,"click",h),q(i,"click",m)],u=!0)},p(g,T){o=g,T[0]&2048&&t!==(t=rt.noteEncode(o[87][1])+"")&&Y(l,t)},d(g){g&&f(e),g&&f(r),u=!1,Xe(d)}}}function Bn(o){let e,t=o[87][0]==="e"&&Cn(o);return{c(){t&&t.c(),e=x()},l(l){t&&t.l(l),e=x()},m(l,n){t&&t.m(l,n),C(l,e,n)},p(l,n){l[87][0]==="e"?t?t.p(l,n):(t=Cn(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){t&&t.d(l),l&&f(e)}}}function Vn(o){let e,t,l=o[11],n=[];for(let a=0;a<l.length;a+=1)n[a]=Rn(fn(o,l,a));const s=a=>U(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=x()},l(a){for(let i=0;i<n.length;i+=1)n[i].l(a);e=x()},m(a,i){for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(a,i);C(a,e,i),t=!0},p(a,i){if(i[0]&213999294|i[1]&50|i[3]&6){l=a[11];let r;for(r=0;r<l.length;r+=1){const u=fn(a,l,r);n[r]?(n[r].p(u,i),O(n[r],1)):(n[r]=Rn(u),n[r].c(),O(n[r],1),n[r].m(e.parentNode,e))}for(be(),r=l.length;r<n.length;r+=1)s(r);pe()}},i(a){if(!t){for(let i=0;i<l.length;i+=1)O(n[i]);t=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)U(n[i]);t=!1},d(a){yt(n,a),a&&f(e)}}}function On(o){let e,t,l,n,s,a={ctx:o,current:null,token:null,hasCatch:!1,pending:zr,then:cr,catch:ur,value:93,blocks:[,,,]};return Bl(t=Uo(o[87]),a),{c(){e=b("div"),a.block.c(),l=A(),this.h()},l(i){e=p(i,"DIV",{class:!0});var r=k(e);a.block.l(r),l=P(r),r.forEach(f),this.h()},h(){_(e,"class",n="card drop-shadow px-1 py-2 my-1.5 grid grid-cols-[1fr_auto] gap-1 "+(o[9].includes(o[89])?"delete-note":"")+" svelte-1enlxmt")},m(i,r){C(i,e,r),a.block.m(e,a.anchor=null),a.mount=()=>e,a.anchor=l,c(e,l),s=!0},p(i,r){o=i,a.ctx=o,r[0]&2048&&t!==(t=Uo(o[87]))&&Bl(t,a)||Yn(a,o,r),(!s||r[0]&512&&n!==(n="card drop-shadow px-1 py-2 my-1.5 grid grid-cols-[1fr_auto] gap-1 "+(o[9].includes(o[89])?"delete-note":"")+" svelte-1enlxmt"))&&_(e,"class",n)},i(i){s||(O(a.block),s=!0)},o(i){for(let r=0;r<3;r+=1){const u=a.blocks[r];U(u)}s=!1},d(i){i&&f(e),a.block.d(),a.token=null,a=null}}}function ur(o){return{c:ne,l:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function cr(o){let e,t,l,n,s,a,i,r;const u=[dr,fr],d=[];function h(y,I){return y[93].tag[0]==="e"||y[93].tag[0]==="a"?0:1}e=h(o),t=d[e]=u[e](o);const m=[Ur,Fr],g=[];function T(y,I){return y[3]&&!y[12]?0:1}return s=T(o),a=g[s]=m[s](o),{c(){t.c(),l=A(),n=b("div"),a.c(),this.h()},l(y){t.l(y),l=P(y),n=p(y,"DIV",{class:!0});var I=k(n);a.l(I),I.forEach(f),this.h()},h(){_(n,"class",i="flex flex-col flex-wrap h-16 "+(o[2]?"w-12":""))},m(y,I){d[e].m(y,I),C(y,l,I),C(y,n,I),g[s].m(n,null),r=!0},p(y,I){let N=e;e=h(y),e===N?d[e].p(y,I):(be(),U(d[N],1,1,()=>{d[N]=null}),pe(),t=d[e],t?t.p(y,I):(t=d[e]=u[e](y),t.c()),O(t,1),t.m(l.parentNode,l));let v=s;s=T(y),s===v?g[s].p(y,I):(be(),U(g[v],1,1,()=>{g[v]=null}),pe(),a=g[s],a?a.p(y,I):(a=g[s]=m[s](y),a.c()),O(a,1),a.m(n,null)),(!r||I[0]&4&&i!==(i="flex flex-col flex-wrap h-16 "+(y[2]?"w-12":"")))&&_(n,"class",i)},i(y){r||(O(t),O(a),r=!0)},o(y){U(t),U(a),r=!1},d(y){d[e].d(y),y&&f(l),y&&f(n),g[s].d()}}}function fr(o){let e,t,l=o[87][0]+"",n,s,a,i=o[87].slice(1),r=[];for(let u=0;u<i.length;u+=1)r[u]=An(dn(o,i,u));return{c(){e=b("div"),t=b("div"),n=B(l),s=A(),a=b("div");for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var d=k(e);t=p(d,"DIV",{class:!0});var h=k(t);n=V(h,l),h.forEach(f),s=P(d),a=p(d,"DIV",{class:!0});var m=k(a);for(let g=0;g<r.length;g+=1)r[g].l(m);m.forEach(f),d.forEach(f),this.h()},h(){_(t,"class","font-bold"),_(a,"class","flex"),_(e,"class","grid grid-rows-[auto_auto] gap-0")},m(u,d){C(u,e,d),c(e,t),c(t,n),c(e,s),c(e,a);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(a,null)},p(u,d){if(d[0]&2048&&l!==(l=u[87][0]+"")&&Y(n,l),d[0]&2048){i=u[87].slice(1);let h;for(h=0;h<i.length;h+=1){const m=dn(u,i,h);r[h]?r[h].p(m,d):(r[h]=An(m),r[h].c(),r[h].m(a,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=i.length}},i:ne,o:ne,d(u){u&&f(e),yt(r,u)}}}function dr(o){let e,t;return e=new io({props:{queryKey:[o[93].id],id:o[93].id,$$slots:{nodata:[Mr,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]],error:[Sr,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]],loading:[Lr,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]],default:[Pr,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]]},$$scope:{ctx:o}}}),{c(){Ee(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,n){ye(e,l,n),t=!0},p(l,n){const s={};n[0]&2048&&(s.queryKey=[l[93].id]),n[0]&2048&&(s.id=l[93].id),n[0]&84100|n[3]&131074&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Te(e,l)}}}function An(o){let e,t=o[90]+"",l,n;return{c(){e=b("div"),l=B(t),n=A(),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=k(e);l=V(a,t),n=P(a),a.forEach(f),this.h()},h(){_(e,"class","flex flex-wrap px-1 mx-1 break-all")},m(s,a){C(s,e,a),c(e,l),c(e,n)},p(s,a){a[0]&2048&&t!==(t=s[90]+"")&&Y(l,t)},d(s){s&&f(e)}}}function Pn(o){let e,t,l={ctx:o,current:null,token:null,hasCatch:!1,pending:gr,then:hr,catch:_r,value:99};return Bl(t=Ro(JSON.parse(o[95].content).picture,o[14].url.origin),l),{c(){e=x(),l.block.c()},l(n){e=x(),l.block.l(n)},m(n,s){C(n,e,s),l.block.m(n,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e},p(n,s){o=n,l.ctx=o,s[0]&16384|s[3]&4&&t!==(t=Ro(JSON.parse(o[95].content).picture,o[14].url.origin))&&Bl(t,l)||Yn(l,o,s)},d(n){n&&f(e),l.block.d(n),l.token=null,l=null}}}function _r(o){return{c:ne,l:ne,m:ne,p:ne,d:ne}}function hr(o){let e,t;return{c(){e=b("img"),this.h()},l(l){e=p(l,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){_(e,"class","w-12 object-contain justify-center"),Vo(e.src,t=o[99])||_(e,"src",t),_(e,"alt","avatar")},m(l,n){C(l,e,n)},p(l,n){n[0]&16384|n[3]&4&&!Vo(e.src,t=l[99])&&_(e,"src",t)},d(l){l&&f(e)}}}function gr(o){let e,t;return{c(){e=b("div"),t=B("loading"),this.h()},l(l){e=p(l,"DIV",{class:!0});var n=k(e);t=V(n,"loading"),n.forEach(f),this.h()},h(){_(e,"class","flex justify-center items-center text-sm")},m(l,n){C(l,e,n),c(e,t)},p:ne,d(l){l&&f(e)}}}function Ln(o){let e,t,l=Vl(o[94].tags),n=[];for(let a=0;a<l.length;a+=1)n[a]=Sn(_n(o,l,a));const s=a=>U(n[a],1,1,()=>{n[a]=null});return{c(){e=b("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=p(a,"DIV",{class:!0});var i=k(e);for(let r=0;r<n.length;r+=1)n[r].l(i);i.forEach(f),this.h()},h(){_(e,"class","max-h-[6em] overflow-auto whitespace-nowrap border-s-4 border-s-rose-800/25 dark:border-s-rose-100/25")},m(a,i){C(a,e,i);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);t=!0},p(a,i){if(i[0]&12648448|i[3]&6){l=Vl(a[94].tags);let r;for(r=0;r<l.length;r+=1){const u=_n(a,l,r);n[r]?(n[r].p(u,i),O(n[r],1)):(n[r]=Sn(u),n[r].c(),O(n[r],1),n[r].m(e,null))}for(be(),r=l.length;r<n.length;r+=1)s(r);pe()}},i(a){if(!t){for(let i=0;i<l.length;i+=1)O(n[i]);t=!0}},o(a){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)U(n[i]);t=!1},d(a){a&&f(e),yt(n,a)}}}function mr(o){let e,t,l=o[96][0]+"",n,s,a=o[96][1]+"",i,r;return{c(){e=b("div"),t=B("["),n=B(l),s=B(`]
                                    `),i=B(a),r=A(),this.h()},l(u){e=p(u,"DIV",{class:!0});var d=k(e);t=V(d,"["),n=V(d,l),s=V(d,`]
                                    `),i=V(d,a),r=P(d),d.forEach(f),this.h()},h(){_(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(u,d){C(u,e,d),c(e,t),c(e,n),c(e,s),c(e,i),c(e,r)},p(u,d){d[3]&2&&l!==(l=u[96][0]+"")&&Y(n,l),d[3]&2&&a!==(a=u[96][1]+"")&&Y(i,a)},i:ne,o:ne,d(u){u&&f(e)}}}function br(o){let e,t;return e=new io({props:{queryKey:[o[96][1]],id:o[96][1],$$slots:{nodata:[Tr,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]],error:[yr,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]],loading:[wr,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]],default:[Er,({text:l})=>({94:l}),({text:l})=>[0,0,0,l?2:0]]},$$scope:{ctx:o}}}),{c(){Ee(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,n){ye(e,l,n),t=!0},p(l,n){const s={};n[3]&2&&(s.queryKey=[l[96][1]]),n[3]&2&&(s.id=l[96][1]),n[0]&65536|n[3]&131074&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Te(e,l)}}}function pr(o){let e,t;return e=new ls({props:{queryKey:["metadata",o[96][1]],pubkey:o[96][1],$$slots:{nodata:[Cr,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]],error:[Ir,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]],loading:[Nr,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]],default:[Dr,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]]},$$scope:{ctx:o}}}),{c(){Ee(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,n){ye(e,l,n),t=!0},p(l,n){const s={};n[3]&2&&(s.queryKey=["metadata",l[96][1]]),n[3]&2&&(s.pubkey=l[96][1]),n[3]&131078&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Te(e,l)}}}function vr(o){let e=o[94].content+"",t;return{c(){t=B(e)},l(l){t=V(l,e)},m(l,n){C(l,t,n)},p(l,n){n[3]&2&&e!==(e=l[94].content+"")&&Y(t,e)},d(l){l&&f(t)}}}function kr(o){let e="<content-warning>",t;return{c(){t=B(e)},l(l){t=V(l,e)},m(l,n){C(l,t,n)},p:ne,d(l){l&&f(t)}}}function Er(o){let e,t,l=o[96][0]+"",n,s,a,i,r,u,d;function h(y,I){return I[0]&65536|I[3]&2&&(i=null),i==null&&(i=!!(y[94].tags.some(Zr)&&y[16]==!1)),i?kr:vr}let m=h(o,[-1,-1,-1,-1]),g=m(o);function T(){return o[56](o[94])}return{c(){e=b("div"),t=B("["),n=B(l),s=B(`]
                                      `),a=b("button"),g.c(),r=A(),this.h()},l(y){e=p(y,"DIV",{class:!0});var I=k(e);t=V(I,"["),n=V(I,l),s=V(I,`]
                                      `),a=p(I,"BUTTON",{class:!0});var N=k(a);g.l(N),N.forEach(f),I.forEach(f),r=P(y),this.h()},h(){_(a,"class","text-emerald-800 dark:text-blue-400 whitespace-nowrap overflow-hidden text-ellipsis"),_(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(y,I){C(y,e,I),c(e,t),c(e,n),c(e,s),c(e,a),g.m(a,null),C(y,r,I),u||(d=q(a,"click",T),u=!0)},p(y,I){o=y,I[3]&2&&l!==(l=o[96][0]+"")&&Y(n,l),m===(m=h(o,I))&&g?g.p(o,I):(g.d(1),g=m(o),g&&(g.c(),g.m(a,null)))},d(y){y&&f(e),g.d(),y&&f(r),u=!1,d()}}}function wr(o){let e,t,l,n=o[96][0]+"",s,a,i=o[96][1]+"",r,u;return{c(){e=b("div"),t=b("div"),l=B("["),s=B(n),a=B("] "),r=B(i),u=A(),this.h()},l(d){e=p(d,"DIV",{slot:!0});var h=k(e);t=p(h,"DIV",{class:!0});var m=k(t);l=V(m,"["),s=V(m,n),a=V(m,"] "),r=V(m,i),m.forEach(f),u=P(h),h.forEach(f),this.h()},h(){_(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),_(e,"slot","loading")},m(d,h){C(d,e,h),c(e,t),c(t,l),c(t,s),c(t,a),c(t,r),c(e,u)},p(d,h){h[3]&2&&n!==(n=d[96][0]+"")&&Y(s,n),h[3]&2&&i!==(i=d[96][1]+"")&&Y(r,i)},d(d){d&&f(e)}}}function yr(o){let e,t,l,n=o[96][0]+"",s,a,i=o[96][1]+"",r,u;return{c(){e=b("div"),t=b("div"),l=B("["),s=B(n),a=B("] "),r=B(i),u=A(),this.h()},l(d){e=p(d,"DIV",{slot:!0});var h=k(e);t=p(h,"DIV",{class:!0});var m=k(t);l=V(m,"["),s=V(m,n),a=V(m,"] "),r=V(m,i),m.forEach(f),u=P(h),h.forEach(f),this.h()},h(){_(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),_(e,"slot","error")},m(d,h){C(d,e,h),c(e,t),c(t,l),c(t,s),c(t,a),c(t,r),c(e,u)},p(d,h){h[3]&2&&n!==(n=d[96][0]+"")&&Y(s,n),h[3]&2&&i!==(i=d[96][1]+"")&&Y(r,i)},d(d){d&&f(e)}}}function Tr(o){let e,t,l,n=o[96][0]+"",s,a,i=o[96][1]+"",r,u;return{c(){e=b("div"),t=b("div"),l=B("["),s=B(n),a=B("] "),r=B(i),u=A(),this.h()},l(d){e=p(d,"DIV",{slot:!0});var h=k(e);t=p(h,"DIV",{class:!0});var m=k(t);l=V(m,"["),s=V(m,n),a=V(m,"] "),r=V(m,i),m.forEach(f),u=P(h),h.forEach(f),this.h()},h(){_(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),_(e,"slot","nodata")},m(d,h){C(d,e,h),c(e,t),c(t,l),c(t,s),c(t,a),c(t,r),c(e,u)},p(d,h){h[3]&2&&n!==(n=d[96][0]+"")&&Y(s,n),h[3]&2&&i!==(i=d[96][1]+"")&&Y(r,i)},d(d){d&&f(e)}}}function Dr(o){let e,t,l,n,s,a=JSON.parse(o[95].content).name+"",i,r,u,d;function h(){return o[55](o[95],o[96])}return{c(){e=b("div"),t=B("to[p] "),l=b("button"),n=B("@"),s=b("u"),i=B(a),r=A(),this.h()},l(m){e=p(m,"DIV",{class:!0});var g=k(e);t=V(g,"to[p] "),l=p(g,"BUTTON",{class:!0});var T=k(l);n=V(T,"@"),s=p(T,"U",{});var y=k(s);i=V(y,a),y.forEach(f),T.forEach(f),g.forEach(f),r=P(m),this.h()},h(){_(l,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),_(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(m,g){C(m,e,g),c(e,t),c(e,l),c(l,n),c(l,s),c(s,i),C(m,r,g),u||(d=q(l,"click",h),u=!0)},p(m,g){o=m,g[3]&4&&a!==(a=JSON.parse(o[95].content).name+"")&&Y(i,a)},d(m){m&&f(e),m&&f(r),u=!1,d()}}}function Nr(o){let e,t,l,n=o[96][1]+"",s,a;return{c(){e=b("div"),t=b("div"),l=B("to[p] "),s=B(n),a=A(),this.h()},l(i){e=p(i,"DIV",{slot:!0});var r=k(e);t=p(r,"DIV",{class:!0});var u=k(t);l=V(u,"to[p] "),s=V(u,n),u.forEach(f),a=P(r),r.forEach(f),this.h()},h(){_(t,"class","-mt- px-2 opacity-60 text-sm overflow-hidden"),_(e,"slot","loading")},m(i,r){C(i,e,r),c(e,t),c(t,l),c(t,s),c(e,a)},p(i,r){r[3]&2&&n!==(n=i[96][1]+"")&&Y(s,n)},d(i){i&&f(e)}}}function Ir(o){let e,t,l,n=o[96][1]+"",s,a;return{c(){e=b("div"),t=b("div"),l=B("to[p] "),s=B(n),a=A(),this.h()},l(i){e=p(i,"DIV",{slot:!0});var r=k(e);t=p(r,"DIV",{class:!0});var u=k(t);l=V(u,"to[p] "),s=V(u,n),u.forEach(f),a=P(r),r.forEach(f),this.h()},h(){_(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),_(e,"slot","error")},m(i,r){C(i,e,r),c(e,t),c(t,l),c(t,s),c(e,a)},p(i,r){r[3]&2&&n!==(n=i[96][1]+"")&&Y(s,n)},d(i){i&&f(e)}}}function Cr(o){let e,t,l,n=o[96][1]+"",s,a;return{c(){e=b("div"),t=b("div"),l=B("to[p] "),s=B(n),a=A(),this.h()},l(i){e=p(i,"DIV",{slot:!0});var r=k(e);t=p(r,"DIV",{class:!0});var u=k(t);l=V(u,"to[p] "),s=V(u,n),u.forEach(f),a=P(r),r.forEach(f),this.h()},h(){_(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),_(e,"slot","nodata")},m(i,r){C(i,e,r),c(e,t),c(t,l),c(t,s),c(e,a)},p(i,r){r[3]&2&&n!==(n=i[96][1]+"")&&Y(s,n)},d(i){i&&f(e)}}}function Sn(o){let e,t,l,n;const s=[pr,br,mr],a=[];function i(r,u){return r[96][0]==="p"?0:r[96][0]==="e"||r[96][0]==="q"?1:2}return e=i(o),t=a[e]=s[e](o),{c(){t.c(),l=x()},l(r){t.l(r),l=x()},m(r,u){a[e].m(r,u),C(r,l,u),n=!0},p(r,u){let d=e;e=i(r),e===d?a[e].p(r,u):(be(),U(a[d],1,1,()=>{a[d]=null}),pe(),t=a[e],t?t.p(r,u):(t=a[e]=s[e](r),t.c()),O(t,1),t.m(l.parentNode,l))},i(r){n||(O(t),n=!0)},o(r){U(t),n=!1},d(r){a[e].d(r),r&&f(l)}}}function Br(o){let e,t,l=JSON.parse(o[95].content).picture,n,s,a,i,r=JSON.parse(o[95].content).display_name+"",u,d,h,m,g,T,y=JSON.parse(o[95].content).name+"",I,N,v,E,w=new Date(o[94].created_at*1e3).toLocaleString()+"",L,S,M=Vl(o[94].tags).length>0,H,J,G,ee,X,Q,$=l&&Pn(o);function he(){return o[53](o[95],o[94])}function ie(){return o[54](o[94])}let le=M&&Ln(o);return G=new Al({props:{text:o[94].content,tag:o[94].tags,id:o[94].id,view:o[16],URLPreview:o[7],isPageOwner:o[2]}}),{c(){e=b("div"),t=b("div"),$&&$.c(),n=A(),s=b("div"),a=b("div"),i=b("div"),u=B(r),d=A(),h=b("div"),m=b("button"),g=B("@"),T=b("u"),I=B(y),N=A(),v=b("div"),E=b("button"),L=B(w),S=A(),le&&le.c(),H=A(),J=b("div"),Ee(G.$$.fragment),this.h()},l(ce){e=p(ce,"DIV",{class:!0});var j=k(e);t=p(j,"DIV",{class:!0});var z=k(t);$&&$.l(z),z.forEach(f),n=P(j),s=p(j,"DIV",{class:!0});var K=k(s);a=p(K,"DIV",{class:!0});var Re=k(a);i=p(Re,"DIV",{class:!0});var Je=k(i);u=V(Je,r),Je.forEach(f),d=P(Re),h=p(Re,"DIV",{class:!0});var De=k(h);m=p(De,"BUTTON",{class:!0});var Ye=k(m);g=V(Ye,"@"),T=p(Ye,"U",{});var Fe=k(T);I=V(Fe,y),Fe.forEach(f),Ye.forEach(f),De.forEach(f),N=P(Re),v=p(Re,"DIV",{class:!0});var ge=k(v);E=p(ge,"BUTTON",{class:!0});var te=k(E);L=V(te,w),te.forEach(f),ge.forEach(f),Re.forEach(f),S=P(K),le&&le.l(K),H=P(K),J=p(K,"DIV",{class:!0});var se=k(J);we(G.$$.fragment,se),se.forEach(f),K.forEach(f),j.forEach(f),this.h()},h(){_(t,"class","w-12 h-12 rounded-full flex justify-center overflow-hidden bg-surface-500/25 mt-1"),_(i,"class","font-bold wi truncate justify-items-end"),_(m,"class","text-emerald-800 dark:text-blue-500 text-sm"),_(h,"class","truncate wid min-w-[2em] justify-items-end"),_(E,"class","text-sm underline decoration-secondary-500"),_(v,"class","min-w-max"),_(a,"class","w-full grid grid-cols-[auto_1fr_auto] gap-1 h-fix"),_(J,"class","parent-container break-all whitespace-pre-wrap"),_(s,"class","grid grid-rows-[auto_auto_auto] gap-0 break-all w-full"),_(e,"class","grid grid-cols-[auto_1fr] gap-1")},m(ce,j){C(ce,e,j),c(e,t),$&&$.m(t,null),c(e,n),c(e,s),c(s,a),c(a,i),c(i,u),c(a,d),c(a,h),c(h,m),c(m,g),c(m,T),c(T,I),c(a,N),c(a,v),c(v,E),c(E,L),c(s,S),le&&le.m(s,null),c(s,H),c(s,J),ye(G,J,null),ee=!0,X||(Q=[q(m,"click",he),q(E,"click",ie)],X=!0)},p(ce,j){o=ce,j[3]&4&&(l=JSON.parse(o[95].content).picture),l?$?$.p(o,j):($=Pn(o),$.c(),$.m(t,null)):$&&($.d(1),$=null),(!ee||j[3]&4)&&r!==(r=JSON.parse(o[95].content).display_name+"")&&Y(u,r),(!ee||j[3]&4)&&y!==(y=JSON.parse(o[95].content).name+"")&&Y(I,y),(!ee||j[3]&2)&&w!==(w=new Date(o[94].created_at*1e3).toLocaleString()+"")&&Y(L,w),j[3]&2&&(M=Vl(o[94].tags).length>0),M?le?(le.p(o,j),j[3]&2&&O(le,1)):(le=Ln(o),le.c(),O(le,1),le.m(s,H)):le&&(be(),U(le,1,1,()=>{le=null}),pe());const z={};j[3]&2&&(z.text=o[94].content),j[3]&2&&(z.tag=o[94].tags),j[3]&2&&(z.id=o[94].id),j[0]&65536&&(z.view=o[16]),j[0]&128&&(z.URLPreview=o[7]),j[0]&4&&(z.isPageOwner=o[2]),G.$set(z)},i(ce){ee||(O(le),O(G.$$.fragment,ce),ee=!0)},o(ce){U(le),U(G.$$.fragment,ce),ee=!1},d(ce){ce&&f(e),$&&$.d(),le&&le.d(),Te(G),X=!1,Xe(Q)}}}function Vr(o){let e,t,l,n=o[94].pubkey+"",s,a,i,r,u=new Date(o[94].created_at*1e3).toLocaleString()+"",d,h,m,g,T,y,I;function N(){return o[52](o[94])}return g=new Al({props:{text:o[94].content,tag:o[94].tags,id:o[94].id,view:o[16],URLPreview:o[7],isPageOwner:o[2]}}),{c(){e=b("div"),t=b("div"),l=B("Loading profile... ("),s=B(n),a=B(")"),i=A(),r=b("button"),d=B(u),h=A(),m=b("div"),Ee(g.$$.fragment),this.h()},l(v){e=p(v,"DIV",{slot:!0});var E=k(e);t=p(E,"DIV",{class:!0});var w=k(t);l=V(w,"Loading profile... ("),s=V(w,n),a=V(w,")"),w.forEach(f),i=P(E),r=p(E,"BUTTON",{class:!0});var L=k(r);d=V(L,u),L.forEach(f),h=P(E),m=p(E,"DIV",{class:!0});var S=k(m);we(g.$$.fragment,S),S.forEach(f),E.forEach(f),this.h()},h(){_(t,"class","text-sm break-all overflow-hidden"),_(r,"class","text-sm underline decoration-secondary-500"),_(m,"class","parent-container break-all whitespace-pre-wrap"),_(e,"slot","loading")},m(v,E){C(v,e,E),c(e,t),c(t,l),c(t,s),c(t,a),c(e,i),c(e,r),c(r,d),c(e,h),c(e,m),ye(g,m,null),T=!0,y||(I=q(r,"click",N),y=!0)},p(v,E){o=v,(!T||E[3]&2)&&n!==(n=o[94].pubkey+"")&&Y(s,n),(!T||E[3]&2)&&u!==(u=new Date(o[94].created_at*1e3).toLocaleString()+"")&&Y(d,u);const w={};E[3]&2&&(w.text=o[94].content),E[3]&2&&(w.tag=o[94].tags),E[3]&2&&(w.id=o[94].id),E[0]&65536&&(w.view=o[16]),E[0]&128&&(w.URLPreview=o[7]),E[0]&4&&(w.isPageOwner=o[2]),g.$set(w)},i(v){T||(O(g.$$.fragment,v),T=!0)},o(v){U(g.$$.fragment,v),T=!1},d(v){v&&f(e),Te(g),y=!1,I()}}}function Or(o){let e,t,l,n=o[94].pubkey+"",s,a,i,r,u=new Date(o[94].created_at*1e3).toLocaleString()+"",d,h,m,g,T,y,I;function N(){return o[51](o[94])}return g=new Al({props:{text:o[94].content,tag:o[94].tags,id:o[94].id,view:o[16],URLPreview:o[7],isPageOwner:o[2]}}),{c(){e=b("div"),t=b("div"),l=B("Failed to get profile ("),s=B(n),a=B(")"),i=A(),r=b("button"),d=B(u),h=A(),m=b("div"),Ee(g.$$.fragment),this.h()},l(v){e=p(v,"DIV",{slot:!0});var E=k(e);t=p(E,"DIV",{class:!0});var w=k(t);l=V(w,"Failed to get profile ("),s=V(w,n),a=V(w,")"),w.forEach(f),i=P(E),r=p(E,"BUTTON",{class:!0});var L=k(r);d=V(L,u),L.forEach(f),h=P(E),m=p(E,"DIV",{class:!0});var S=k(m);we(g.$$.fragment,S),S.forEach(f),E.forEach(f),this.h()},h(){_(t,"class","text-sm break-all overflow-hidden"),_(r,"class","text-sm underline decoration-secondary-500"),_(m,"class","parent-container break-all whitespace-pre-wrap"),_(e,"slot","error")},m(v,E){C(v,e,E),c(e,t),c(t,l),c(t,s),c(t,a),c(e,i),c(e,r),c(r,d),c(e,h),c(e,m),ye(g,m,null),T=!0,y||(I=q(r,"click",N),y=!0)},p(v,E){o=v,(!T||E[3]&2)&&n!==(n=o[94].pubkey+"")&&Y(s,n),(!T||E[3]&2)&&u!==(u=new Date(o[94].created_at*1e3).toLocaleString()+"")&&Y(d,u);const w={};E[3]&2&&(w.text=o[94].content),E[3]&2&&(w.tag=o[94].tags),E[3]&2&&(w.id=o[94].id),E[0]&65536&&(w.view=o[16]),E[0]&128&&(w.URLPreview=o[7]),E[0]&4&&(w.isPageOwner=o[2]),g.$set(w)},i(v){T||(O(g.$$.fragment,v),T=!0)},o(v){U(g.$$.fragment,v),T=!1},d(v){v&&f(e),Te(g),y=!1,I()}}}function Ar(o){let e,t,l,n=o[94].pubkey+"",s,a,i,r,u=new Date(o[94].created_at*1e3).toLocaleString()+"",d,h,m,g,T,y,I;function N(){return o[50](o[94])}return g=new Al({props:{text:o[94].content,tag:o[94].tags,id:o[94].id,view:o[16],URLPreview:o[7],isPageOwner:o[2]}}),{c(){e=b("div"),t=b("div"),l=B("Profile not found ("),s=B(n),a=B(")"),i=A(),r=b("button"),d=B(u),h=A(),m=b("div"),Ee(g.$$.fragment),this.h()},l(v){e=p(v,"DIV",{slot:!0});var E=k(e);t=p(E,"DIV",{class:!0});var w=k(t);l=V(w,"Profile not found ("),s=V(w,n),a=V(w,")"),w.forEach(f),i=P(E),r=p(E,"BUTTON",{class:!0});var L=k(r);d=V(L,u),L.forEach(f),h=P(E),m=p(E,"DIV",{class:!0});var S=k(m);we(g.$$.fragment,S),S.forEach(f),E.forEach(f),this.h()},h(){_(t,"class","text-sm break-all overflow-hidden"),_(r,"class","text-sm underline decoration-secondary-500"),_(m,"class","parent-container break-all whitespace-pre-wrap"),_(e,"slot","nodata")},m(v,E){C(v,e,E),c(e,t),c(t,l),c(t,s),c(t,a),c(e,i),c(e,r),c(r,d),c(e,h),c(e,m),ye(g,m,null),T=!0,y||(I=q(r,"click",N),y=!0)},p(v,E){o=v,(!T||E[3]&2)&&n!==(n=o[94].pubkey+"")&&Y(s,n),(!T||E[3]&2)&&u!==(u=new Date(o[94].created_at*1e3).toLocaleString()+"")&&Y(d,u);const w={};E[3]&2&&(w.text=o[94].content),E[3]&2&&(w.tag=o[94].tags),E[3]&2&&(w.id=o[94].id),E[0]&65536&&(w.view=o[16]),E[0]&128&&(w.URLPreview=o[7]),E[0]&4&&(w.isPageOwner=o[2]),g.$set(w)},i(v){T||(O(g.$$.fragment,v),T=!0)},o(v){U(g.$$.fragment,v),T=!1},d(v){v&&f(e),Te(g),y=!1,I()}}}function Pr(o){let e,t;return e=new ls({props:{queryKey:["metadata",o[94].pubkey],pubkey:o[94].pubkey,$$slots:{nodata:[Ar,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]],error:[Or,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]],loading:[Vr,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]],default:[Br,({metadata:l})=>({95:l}),({metadata:l})=>[0,0,0,l?4:0]]},$$scope:{ctx:o}}}),{c(){Ee(e.$$.fragment)},l(l){we(e.$$.fragment,l)},m(l,n){ye(e,l,n),t=!0},p(l,n){const s={};n[3]&2&&(s.queryKey=["metadata",l[94].pubkey]),n[3]&2&&(s.pubkey=l[94].pubkey),n[0]&82052|n[3]&131078&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(O(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){Te(e,l)}}}function Lr(o){let e,t,l,n,s,a,i,r=o[93].id+"",u,d,h,m;function g(){return o[49](o[93])}return{c(){e=b("div"),t=b("div"),l=b("div"),n=b("button"),s=A(),a=b("div"),i=B("Loading note... ("),u=B(r),d=B(")"),this.h()},l(T){e=p(T,"DIV",{slot:!0});var y=k(e);t=p(y,"DIV",{class:!0});var I=k(t);l=p(I,"DIV",{class:!0});var N=k(l);n=p(N,"BUTTON",{class:!0});var v=k(n);v.forEach(f),N.forEach(f),s=P(I),a=p(I,"DIV",{class:!0});var E=k(a);i=V(E,"Loading note... ("),u=V(E,r),d=V(E,")"),E.forEach(f),I.forEach(f),y.forEach(f),this.h()},h(){_(n,"class","btn m-0 p-1 variant-filled-primary rounded-full"),_(l,"class","flex justify-center items-center h-auto"),_(a,"class","text-sm break-all overflow-hidden"),_(t,"class","grid grid-cols-[auto_1fr] gap-1 flex"),_(e,"slot","loading")},m(T,y){C(T,e,y),c(e,t),c(t,l),c(l,n),n.innerHTML=Ol,c(t,s),c(t,a),c(a,i),c(a,u),c(a,d),h||(m=q(n,"click",g),h=!0)},p(T,y){o=T,y[0]&2048&&r!==(r=o[93].id+"")&&Y(u,r)},d(T){T&&f(e),h=!1,m()}}}function Sr(o){let e,t,l,n,s,a,i,r=o[93].id+"",u,d,h,m;function g(){return o[48](o[93])}return{c(){e=b("div"),t=b("div"),l=b("div"),n=b("button"),s=A(),a=b("div"),i=B("Failed to get note ("),u=B(r),d=B(")"),this.h()},l(T){e=p(T,"DIV",{slot:!0});var y=k(e);t=p(y,"DIV",{class:!0});var I=k(t);l=p(I,"DIV",{class:!0});var N=k(l);n=p(N,"BUTTON",{class:!0});var v=k(n);v.forEach(f),N.forEach(f),s=P(I),a=p(I,"DIV",{class:!0});var E=k(a);i=V(E,"Failed to get note ("),u=V(E,r),d=V(E,")"),E.forEach(f),I.forEach(f),y.forEach(f),this.h()},h(){_(n,"class","btn m-0 p-1 variant-filled-primary rounded-full"),_(l,"class","flex justify-center items-center h-auto"),_(a,"class","text-sm break-all overflow-hidden"),_(t,"class","grid grid-cols-[auto_1fr] gap-1 flex"),_(e,"slot","error")},m(T,y){C(T,e,y),c(e,t),c(t,l),c(l,n),n.innerHTML=Ol,c(t,s),c(t,a),c(a,i),c(a,u),c(a,d),h||(m=q(n,"click",g),h=!0)},p(T,y){o=T,y[0]&2048&&r!==(r=o[93].id+"")&&Y(u,r)},d(T){T&&f(e),h=!1,m()}}}function Mr(o){let e,t,l,n,s,a,i,r=o[93].id+"",u,d,h,m;function g(){return o[47](o[93])}return{c(){e=b("div"),t=b("div"),l=b("div"),n=b("button"),s=A(),a=b("div"),i=B("Note not found ("),u=B(r),d=B(")"),this.h()},l(T){e=p(T,"DIV",{slot:!0});var y=k(e);t=p(y,"DIV",{class:!0});var I=k(t);l=p(I,"DIV",{class:!0});var N=k(l);n=p(N,"BUTTON",{class:!0});var v=k(n);v.forEach(f),N.forEach(f),s=P(I),a=p(I,"DIV",{class:!0});var E=k(a);i=V(E,"Note not found ("),u=V(E,r),d=V(E,")"),E.forEach(f),I.forEach(f),y.forEach(f),this.h()},h(){_(n,"class","btn m-0 p-1 variant-filled-primary rounded-full"),_(l,"class","flex justify-center items-center h-auto"),_(a,"class","text-sm break-all overflow-hidden"),_(t,"class","grid grid-cols-[auto_1fr] gap-1 flex"),_(e,"slot","nodata")},m(T,y){C(T,e,y),c(e,t),c(t,l),c(l,n),n.innerHTML=Ol,c(t,s),c(t,a),c(a,i),c(a,u),c(a,d),h||(m=q(n,"click",g),h=!0)},p(T,y){o=T,y[0]&2048&&r!==(r=o[93].id+"")&&Y(u,r)},d(T){T&&f(e),h=!1,m()}}}function Fr(o){let e,t,l,n=(o[87][0]==="e"||o[87][0]==="a")&&Mn(o),s=o[2]&&Fn(o);return{c(){n&&n.c(),e=A(),s&&s.c(),t=x()},l(a){n&&n.l(a),e=P(a),s&&s.l(a),t=x()},m(a,i){n&&n.m(a,i),C(a,e,i),s&&s.m(a,i),C(a,t,i),l=!0},p(a,i){a[87][0]==="e"||a[87][0]==="a"?n?(n.p(a,i),i[0]&2048&&O(n,1)):(n=Mn(a),n.c(),O(n,1),n.m(e.parentNode,e)):n&&(be(),U(n,1,1,()=>{n=null}),pe()),a[2]?s?s.p(a,i):(s=Fn(a),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(a){l||(O(n),l=!0)},o(a){U(n),l=!1},d(a){n&&n.d(a),a&&f(e),s&&s.d(a),a&&f(t)}}}function Ur(o){let e,t,l,n;function s(){return o[57](o[89])}return{c(){e=b("input"),this.h()},l(a){e=p(a,"INPUT",{class:!0,type:!0}),this.h()},h(){_(e,"class","m-2 checkbox scale-125"),_(e,"type","checkbox"),e.checked=t=o[10].includes(o[1].offset*o[1].limit+o[89])},m(a,i){C(a,e,i),l||(n=q(e,"change",s),l=!0)},p(a,i){o=a,i[0]&1026&&t!==(t=o[10].includes(o[1].offset*o[1].limit+o[89]))&&(e.checked=t)},i:ne,o:ne,d(a){a&&f(e),l=!1,n()}}}function Mn(o){let e,t,l,n,s,a;e=new io({props:{queryKey:[o[93].id],id:o[93].id,$$slots:{nodata:[qr,({text:r})=>({94:r}),({text:r})=>[0,0,0,r?2:0]],error:[Hr,({text:r})=>({94:r}),({text:r})=>[0,0,0,r?2:0]],loading:[jr,({text:r})=>({94:r}),({text:r})=>[0,0,0,r?2:0]],default:[Rr,({text:r})=>({94:r}),({text:r})=>[0,0,0,r?2:0]]},$$scope:{ctx:o}}});function i(){return o[62](o[87])}return{c(){Ee(e.$$.fragment),t=A(),l=b("button"),this.h()},l(r){we(e.$$.fragment,r),t=P(r),l=p(r,"BUTTON",{class:!0});var u=k(l);u.forEach(f),this.h()},h(){_(l,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(r,u){ye(e,r,u),C(r,t,u),C(r,l,u),l.innerHTML=so,n=!0,s||(a=q(l,"click",i),s=!0)},p(r,u){o=r;const d={};u[0]&2048&&(d.queryKey=[o[93].id]),u[0]&2048&&(d.id=o[93].id),u[0]&2048|u[3]&131074&&(d.$$scope={dirty:u,ctx:o}),e.$set(d)},i(r){n||(O(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){Te(e,r),r&&f(t),r&&f(l),s=!1,a()}}}function Rr(o){let e,t,l;function n(){return o[61](o[87],o[94])}return{c(){e=b("button"),this.h()},l(s){e=p(s,"BUTTON",{class:!0});var a=k(e);a.forEach(f),this.h()},h(){_(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(s,a){C(s,e,a),e.innerHTML=Qt,t||(l=q(e,"click",n),t=!0)},p(s,a){o=s},d(s){s&&f(e),t=!1,l()}}}function jr(o){let e,t,l;function n(){return o[60](o[87])}return{c(){e=b("button"),this.h()},l(s){e=p(s,"BUTTON",{slot:!0,class:!0});var a=k(e);a.forEach(f),this.h()},h(){_(e,"slot","loading"),_(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(s,a){C(s,e,a),e.innerHTML=Qt,t||(l=q(e,"click",n),t=!0)},p(s,a){o=s},d(s){s&&f(e),t=!1,l()}}}function Hr(o){let e,t,l;function n(){return o[59](o[87])}return{c(){e=b("button"),this.h()},l(s){e=p(s,"BUTTON",{slot:!0,class:!0});var a=k(e);a.forEach(f),this.h()},h(){_(e,"slot","error"),_(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(s,a){C(s,e,a),e.innerHTML=Qt,t||(l=q(e,"click",n),t=!0)},p(s,a){o=s},d(s){s&&f(e),t=!1,l()}}}function qr(o){let e,t,l;function n(){return o[58](o[87])}return{c(){e=b("button"),this.h()},l(s){e=p(s,"BUTTON",{slot:!0,class:!0});var a=k(e);a.forEach(f),this.h()},h(){_(e,"slot","nodata"),_(e,"class","btn p-0 mt-1 variant-filled-primary justify-self-end w-5")},m(s,a){C(s,e,a),e.innerHTML=Qt,t||(l=q(e,"click",n),t=!0)},p(s,a){o=s},d(s){s&&f(e),t=!1,l()}}}function Fn(o){let e,t,l,n,s,a,i;function r(){return o[63](o[89])}function u(){return o[64](o[89])}return{c(){e=b("button"),l=A(),n=b("button"),this.h()},l(d){e=p(d,"BUTTON",{class:!0});var h=k(e);h.forEach(f),l=P(d),n=p(d,"BUTTON",{class:!0});var m=k(n);m.forEach(f),this.h()},h(){_(e,"class",t="btn p-0 mt-1 variant-filled-primary justify-self-end w-5 "+(o[2]?"ml-1 ":"")),_(n,"class",s="btn p-0 mt-1 variant-filled-primary justify-self-end w-5 "+(o[2]?"ml-1 ":""))},m(d,h){C(d,e,h),e.innerHTML=ao,C(d,l,h),C(d,n,h),n.innerHTML=ro,a||(i=[q(e,"click",r),q(n,"click",u)],a=!0)},p(d,h){o=d,h[0]&4&&t!==(t="btn p-0 mt-1 variant-filled-primary justify-self-end w-5 "+(o[2]?"ml-1 ":""))&&_(e,"class",t),h[0]&4&&s!==(s="btn p-0 mt-1 variant-filled-primary justify-self-end w-5 "+(o[2]?"ml-1 ":""))&&_(n,"class",s)},d(d){d&&f(e),d&&f(l),d&&f(n),a=!1,Xe(i)}}}function zr(o){let e,t,l=o[87][0]+"",n,s,a,i=o[87].slice(1),r=[];for(let u=0;u<i.length;u+=1)r[u]=Un(hn(o,i,u));return{c(){e=b("div"),t=b("div"),n=B(l),s=A(),a=b("div");for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var d=k(e);t=p(d,"DIV",{class:!0});var h=k(t);n=V(h,l),h.forEach(f),s=P(d),a=p(d,"DIV",{class:!0});var m=k(a);for(let g=0;g<r.length;g+=1)r[g].l(m);m.forEach(f),d.forEach(f),this.h()},h(){_(t,"class","font-bold"),_(a,"class","flex"),_(e,"class","grid grid-rows-[auto_auto] gap-0")},m(u,d){C(u,e,d),c(e,t),c(t,n),c(e,s),c(e,a);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(a,null)},p(u,d){if(d[0]&2048&&l!==(l=u[87][0]+"")&&Y(n,l),d[0]&2048){i=u[87].slice(1);let h;for(h=0;h<i.length;h+=1){const m=hn(u,i,h);r[h]?r[h].p(m,d):(r[h]=Un(m),r[h].c(),r[h].m(a,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=i.length}},i:ne,o:ne,d(u){u&&f(e),yt(r,u)}}}function Un(o){let e,t=o[90]+"",l,n;return{c(){e=b("div"),l=B(t),n=A(),this.h()},l(s){e=p(s,"DIV",{class:!0});var a=k(e);l=V(a,t),n=P(a),a.forEach(f),this.h()},h(){_(e,"class","flex flex-wrap px-1 mx-1 break-all")},m(s,a){C(s,e,a),c(e,l),c(e,n)},p(s,a){a[0]&2048&&t!==(t=s[90]+"")&&Y(l,t)},d(s){s&&f(e)}}}function Rn(o){let e,t,l=o[87][0]!=="d"&&On(o);return{c(){l&&l.c(),e=x()},l(n){l&&l.l(n),e=x()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,s){n[87][0]!=="d"?l?(l.p(n,s),s[0]&2048&&O(l,1)):(l=On(n),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(be(),U(l,1,1,()=>{l=null}),pe())},i(n){t||(O(l),t=!0)},o(n){U(l),t=!1},d(n){l&&l.d(n),n&&f(e)}}}function Jr(o){let e,t,l=o[11]&&Vn(o);return{c(){l&&l.c(),e=x()},l(n){l&&l.l(n),e=x()},m(n,s){l&&l.m(n,s),C(n,e,s),t=!0},p(n,s){n[11]?l?(l.p(n,s),s[0]&2048&&O(l,1)):(l=Vn(n),l.c(),O(l,1),l.m(e.parentNode,e)):l&&(be(),U(l,1,1,()=>{l=null}),pe())},i(n){t||(O(l),t=!0)},o(n){U(l),t=!1},d(n){l&&l.d(n),n&&f(e)}}}function jn(o){let e,t,l,n,s,a,i,r,u,d,h,m,g=o[2]&&Hn(o);i=new Fs({props:{settings:o[1],select:"hidden",justify:"justify-between",showFirstLastButtons:!0,active:"variant-filled-primary",controlVariant:"variant-filled-primary",buttonClasses:"!my-0 !py-0 !px-2.5 place-items-center fill-current"}}),i.$on("page",o[37]);function T(N,v){return N[16]?Wr:Qr}let y=T(o),I=y(o);return{c(){g&&g.c(),e=A(),t=b("button"),l=A(),n=b("button"),s=A(),a=b("div"),Ee(i.$$.fragment),r=A(),u=b("button"),I.c(),this.h()},l(N){g&&g.l(N),e=P(N),t=p(N,"BUTTON",{class:!0});var v=k(t);v.forEach(f),l=P(N),n=p(N,"BUTTON",{class:!0});var E=k(n);E.forEach(f),s=P(N),a=p(N,"DIV",{class:!0});var w=k(a);we(i.$$.fragment,w),w.forEach(f),r=P(N),u=p(N,"BUTTON",{type:!0,class:!0});var L=k(u);I.l(L),L.forEach(f),this.h()},h(){_(t,"class","mx-0 svelte-1enlxmt"),_(n,"class","mx-0 svelte-1enlxmt"),_(a,"class","ml-2"),_(u,"type","button"),_(u,"class","btn variant-filled-primary svelte-1enlxmt")},m(N,v){g&&g.m(N,v),C(N,e,v),C(N,t,v),t.innerHTML=Qt,C(N,l,v),C(N,n,v),n.innerHTML=es,C(N,s,v),C(N,a,v),ye(i,a,null),C(N,r,v),C(N,u,v),I.m(u,null),d=!0,h||(m=[q(t,"click",o[30]),q(n,"click",o[33]),q(u,"click",o[68])],h=!0)},p(N,v){N[2]?g?g.p(N,v):(g=Hn(N),g.c(),g.m(e.parentNode,e)):g&&(g.d(1),g=null);const E={};v[0]&2&&(E.settings=N[1]),i.$set(E),y===(y=T(N))&&I?I.p(N,v):(I.d(1),I=y(N),I&&(I.c(),I.m(u,null)))},i(N){d||(O(i.$$.fragment,N),d=!0)},o(N){U(i.$$.fragment,N),d=!1},d(N){g&&g.d(N),N&&f(e),N&&f(t),N&&f(l),N&&f(n),N&&f(s),N&&f(a),Te(i),N&&f(r),N&&f(u),I.d(),h=!1,Xe(m)}}}function Hn(o){let e,t,l,n,s;function a(u,d){return u[3]?Kr:Gr}let i=a(o),r=i(o);return{c(){e=b("button"),t=A(),r.c(),l=x(),this.h()},l(u){e=p(u,"BUTTON",{class:!0});var d=k(e);d.forEach(f),t=P(u),r.l(u),l=x(),this.h()},h(){_(e,"class","svelte-1enlxmt")},m(u,d){C(u,e,d),e.innerHTML=Zn,C(u,t,d),r.m(u,d),C(u,l,d),n||(s=q(e,"click",o[34]),n=!0)},p(u,d){i===(i=a(u))&&r?r.p(u,d):(r.d(1),r=i(u),r&&(r.c(),r.m(l.parentNode,l)))},d(u){u&&f(e),u&&f(t),r.d(u),u&&f(l),n=!1,s()}}}function Kr(o){let e,t,l,n,s;return{c(){e=b("button"),t=A(),l=b("button"),this.h()},l(a){e=p(a,"BUTTON",{class:!0});var i=k(e);i.forEach(f),t=P(a),l=p(a,"BUTTON",{class:!0});var r=k(l);r.forEach(f),this.h()},h(){_(e,"class","mx-0 svelte-1enlxmt"),_(l,"class","mx-0 svelte-1enlxmt")},m(a,i){C(a,e,i),e.innerHTML=ao,C(a,t,i),C(a,l,i),l.innerHTML=ro,n||(s=[q(e,"click",o[28]),q(l,"click",o[29])],n=!0)},p:ne,d(a){a&&f(e),a&&f(t),a&&f(l),n=!1,Xe(s)}}}function Gr(o){let e,t,l,n,s;return{c(){e=b("button"),t=A(),l=b("button"),this.h()},l(a){e=p(a,"BUTTON",{class:!0});var i=k(e);i.forEach(f),t=P(a),l=p(a,"BUTTON",{class:!0});var r=k(l);r.forEach(f),this.h()},h(){_(e,"class","mx-0 svelte-1enlxmt"),_(l,"class","mx-0 svelte-1enlxmt")},m(a,i){C(a,e,i),e.innerHTML=$n,C(a,t,i),C(a,l,i),l.innerHTML=xn,n||(s=[q(e,"click",o[67]),q(l,"click",o[25])],n=!0)},p:ne,d(a){a&&f(e),a&&f(t),a&&f(l),n=!1,Xe(s)}}}function Qr(o){let e,t;return{c(){e=new Wn(!1),t=x(),this.h()},l(l){e=Xn(l,!1),t=x(),this.h()},h(){e.a=t},m(l,n){e.m(ts,l,n),C(l,t,n)},p:ne,d(l){l&&f(t),l&&e.d()}}}function Wr(o){let e,t;return{c(){e=new Wn(!1),t=x(),this.h()},l(l){e=Xn(l,!1),t=x(),this.h()},h(){e.a=t},m(l,n){e.m(Os,l,n),C(l,t,n)},p:ne,d(l){l&&f(t),l&&e.d()}}}function qn(o){let e,t,l;return t=new Is({props:{"...":!0,stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30",width:"w-24"}}),{c(){e=b("div"),Ee(t.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var s=k(e);we(t.$$.fragment,s),s.forEach(f),this.h()},h(){_(e,"class","fixed bottom-2 right-2")},m(n,s){C(n,e,s),ye(t,e,null),l=!0},i(n){l||(O(t.$$.fragment,n),l=!0)},o(n){U(t.$$.fragment,n),l=!1},d(n){n&&f(e),Te(t)}}}function Xr(o){let e,t,l,n,s,a,i,r,u,d,h,m,g,T,y,I,N,v,E,w,L,S,M,H=o[19]==="npub"?"(readonly)":"",J,G,ee,X,Q=o[7]?"ON":"OFF",$,he,ie,le,ce=o[8]?"ON":"OFF",j,z,K,Re,Je,De,Ye,Fe,ge=rt.npubEncode(o[17])+"",te,se,me,st,tt,Ze,Ct,$e,Bt,_t,Pe,Vt,lt,ae,ve,ht,Ot,nl,sl,gt,At,al,rl,mt,Pt,il,ul,bt,Lt,cl,fl,pt,St,dl,_l,vt,Mt,hl,gl,kt,Ft,ml,bl,Et,Ut,pl,D,R,W,Z,oe,ue,de,Ve,Le,xe,Wt,Pl,Ll,Sl,vl,yl,et,Tl,Xt,wt,Rt,Ml,Fl,Ke,Ge,Dl,zt,Jt,Nl,jt,Yt;i=new Bs({}),u=new Rs({props:{zIndex:"z-[999999]"}});let Qe=!o[12]&&pn(o),Zt=o[18],je=[];for(let F=0;F<Zt.length;F+=1)je[F]=vn(bn(o,Zt,F));let $t=o[15],He=[];for(let F=0;F<$t.length;F+=1)He[F]=kn(mn(o,$t,F));let We=(!o[13]||o[13].length===0)&&En(o);Rt=new Ms({props:{gridColumns:"grid grid-cols-[auto_1fr_auto]",slotDefault:"place-self-center",slotTrail:"place-self-end",padding:"p-0",background:"bg-surface-300-600-token ",gap:"gap-0",$$slots:{trail:[or],lead:[$a],default:[Za]},$$scope:{ctx:o}}});let Oe=o[13]&&o[13].length>0&&Dn(o);const co=[ir,rr],Ht=[];function fo(F,re){return F[8]?0:F[11]?1:-1}~(Ke=fo(o))&&(Ge=Ht[Ke]=co[Ke](o));let Ae=!o[12]&&jn(o),Se=o[12]&&qn();return{c(){e=b("meta"),t=b("meta"),l=b("meta"),n=b("meta"),s=b("meta"),a=A(),Ee(i.$$.fragment),r=A(),Ee(u.$$.fragment),d=A(),h=b("div"),Qe&&Qe.c(),m=A(),g=b("hr"),T=A(),y=b("div"),I=b("p"),N=B("【設定情報】"),v=A(),E=b("ul"),w=b("li"),L=B("タイプ: "),S=B(o[19]),M=A(),J=B(H),G=A(),ee=b("li"),X=B("プレビュー表示: "),$=B(Q),he=A(),ie=b("li"),le=B("ノート読み込み: "),j=B(ce),z=A(),K=b("hr"),Re=A(),Je=b("p"),De=B("【pubkey】"),Ye=A(),Fe=b("p"),te=B(ge),se=A(),me=b("p"),st=B("【relays】"),tt=A(),Ze=b("ul");for(let F=0;F<je.length;F+=1)je[F].c();Ct=A(),$e=b("p"),Bt=B("【ノート検索用relays】"),_t=A(),Pe=b("ul");for(let F=0;F<He.length;F+=1)He[F].c();Vt=A(),lt=b("hr"),ae=A(),ve=b("div"),ht=b("div"),Ot=b("span"),nl=B(" Nostrで共有する"),sl=A(),gt=b("div"),At=b("span"),al=B(" nostr.comで開く"),rl=A(),mt=b("div"),Pt=b("span"),il=B(" 他のリストに移動"),ul=A(),bt=b("div"),Lt=b("span"),cl=B(" リストから削除"),fl=A(),pt=b("div"),St=b("span"),dl=B(" さがす"),_l=A(),vt=b("div"),Mt=b("span"),hl=B(" タグの一覧"),gl=A(),kt=b("div"),Ft=b("span"),ml=B(" ノートの追加"),bl=A(),Et=b("div"),Ut=b("span"),pl=B(" タグの編集"),D=A(),R=b("div"),W=b("span"),Z=B(" リストの更新"),oe=A(),ue=b("div"),de=b("span"),Ve=B(" 全content-warning表示切り替え"),Le=A(),xe=b("div"),Wt=b("span"),Pl=B("mode"),Ll=B(" 複数選択との切り替え"),Sl=A(),vl=b("div"),yl=A(),et=b("main"),We&&We.c(),Tl=A(),Xt=b("div"),wt=b("div"),Ee(Rt.$$.fragment),Ml=A(),Oe&&Oe.c(),Fl=A(),Ge&&Ge.c(),Dl=A(),zt=b("div"),Jt=b("div"),Ae&&Ae.c(),Nl=A(),jt=b("div"),Se&&Se.c(),this.h()},l(F){const re=Es("svelte-xcwp0l",Gt.head);e=p(re,"META",{name:!0,content:!0}),t=p(re,"META",{prefix:!0}),l=p(re,"META",{property:!0,content:!0}),n=p(re,"META",{property:!0,content:!0}),s=p(re,"META",{property:!0,content:!0}),re.forEach(f),a=P(F),we(i.$$.fragment,F),r=P(F),we(u.$$.fragment,F),d=P(F),h=p(F,"DIV",{class:!0,"data-popup":!0});var Ne=k(h);Qe&&Qe.l(Ne),m=P(Ne),g=p(Ne,"HR",{class:!0}),T=P(Ne),y=p(Ne,"DIV",{});var Ce=k(y);I=p(Ce,"P",{});var ke=k(I);N=V(ke,"【設定情報】"),ke.forEach(f),v=P(Ce),E=p(Ce,"UL",{class:!0});var ot=k(E);w=p(ot,"LI",{class:!0});var kl=k(w);L=V(kl,"タイプ: "),S=V(kl,o[19]),M=P(kl),J=V(kl,H),kl.forEach(f),G=P(ot),ee=p(ot,"LI",{class:!0});var Ul=k(ee);X=V(Ul,"プレビュー表示: "),$=V(Ul,Q),Ul.forEach(f),he=P(ot),ie=p(ot,"LI",{class:!0});var Rl=k(ie);le=V(Rl,"ノート読み込み: "),j=V(Rl,ce),Rl.forEach(f),ot.forEach(f),z=P(Ce),K=p(Ce,"HR",{class:!0}),Re=P(Ce),Je=p(Ce,"P",{});var _o=k(Je);De=V(_o,"【pubkey】"),_o.forEach(f),Ye=P(Ce),Fe=p(Ce,"P",{});var ho=k(Fe);te=V(ho,ge),ho.forEach(f),se=P(Ce),me=p(Ce,"P",{class:!0});var go=k(me);st=V(go,"【relays】"),go.forEach(f),tt=P(Ce),Ze=p(Ce,"UL",{class:!0});var mo=k(Ze);for(let Kt=0;Kt<je.length;Kt+=1)je[Kt].l(mo);mo.forEach(f),Ct=P(Ce),$e=p(Ce,"P",{class:!0});var bo=k($e);Bt=V(bo,"【ノート検索用relays】"),bo.forEach(f),_t=P(Ce),Pe=p(Ce,"UL",{class:!0});var po=k(Pe);for(let Kt=0;Kt<He.length;Kt+=1)He[Kt].l(po);po.forEach(f),Ce.forEach(f),Vt=P(Ne),lt=p(Ne,"HR",{class:!0}),ae=P(Ne),ve=p(Ne,"DIV",{class:!0});var Be=k(ve);ht=p(Be,"DIV",{class:!0});var jl=k(ht);Ot=p(jl,"SPAN",{class:!0});var rs=k(Ot);rs.forEach(f),nl=V(jl," Nostrで共有する"),jl.forEach(f),sl=P(Be),gt=p(Be,"DIV",{class:!0});var Hl=k(gt);At=p(Hl,"SPAN",{class:!0});var is=k(At);is.forEach(f),al=V(Hl," nostr.comで開く"),Hl.forEach(f),rl=P(Be),mt=p(Be,"DIV",{class:!0});var ql=k(mt);Pt=p(ql,"SPAN",{class:!0});var us=k(Pt);us.forEach(f),il=V(ql," 他のリストに移動"),ql.forEach(f),ul=P(Be),bt=p(Be,"DIV",{class:!0});var zl=k(bt);Lt=p(zl,"SPAN",{class:!0});var cs=k(Lt);cs.forEach(f),cl=V(zl," リストから削除"),zl.forEach(f),fl=P(Be),pt=p(Be,"DIV",{class:!0});var Jl=k(pt);St=p(Jl,"SPAN",{class:!0});var fs=k(St);fs.forEach(f),dl=V(Jl," さがす"),Jl.forEach(f),_l=P(Be),vt=p(Be,"DIV",{class:!0});var Kl=k(vt);Mt=p(Kl,"SPAN",{class:!0});var ds=k(Mt);ds.forEach(f),hl=V(Kl," タグの一覧"),Kl.forEach(f),gl=P(Be),kt=p(Be,"DIV",{class:!0});var Gl=k(kt);Ft=p(Gl,"SPAN",{class:!0});var _s=k(Ft);_s.forEach(f),ml=V(Gl," ノートの追加"),Gl.forEach(f),bl=P(Be),Et=p(Be,"DIV",{class:!0});var Ql=k(Et);Ut=p(Ql,"SPAN",{class:!0});var hs=k(Ut);hs.forEach(f),pl=V(Ql," タグの編集"),Ql.forEach(f),D=P(Be),R=p(Be,"DIV",{class:!0});var Wl=k(R);W=p(Wl,"SPAN",{class:!0});var gs=k(W);gs.forEach(f),Z=V(Wl," リストの更新"),Wl.forEach(f),oe=P(Be),ue=p(Be,"DIV",{class:!0});var Xl=k(ue);de=p(Xl,"SPAN",{class:!0});var ms=k(de);ms.forEach(f),Ve=V(Xl," 全content-warning表示切り替え"),Xl.forEach(f),Le=P(Be),xe=p(Be,"DIV",{class:!0});var Yl=k(xe);Wt=p(Yl,"SPAN",{class:!0});var vo=k(Wt);Pl=V(vo,"mode"),vo.forEach(f),Ll=V(Yl," 複数選択との切り替え"),Yl.forEach(f),Be.forEach(f),Sl=P(Ne),vl=p(Ne,"DIV",{class:!0}),k(vl).forEach(f),Ne.forEach(f),yl=P(F),et=p(F,"MAIN",{class:!0});var xt=k(et);We&&We.l(xt),Tl=P(xt),Xt=p(xt,"DIV",{class:!0});var ko=k(Xt);wt=p(ko,"DIV",{class:!0});var Il=k(wt);we(Rt.$$.fragment,Il),Ml=P(Il),Oe&&Oe.l(Il),Il.forEach(f),ko.forEach(f),Fl=P(xt),Ge&&Ge.l(xt),xt.forEach(f),Dl=P(F),zt=p(F,"DIV",{class:!0});var Eo=k(zt);Jt=p(Eo,"DIV",{class:!0});var wo=k(Jt);Ae&&Ae.l(wo),wo.forEach(f),Eo.forEach(f),Nl=P(F),jt=p(F,"DIV",{class:!0});var yo=k(jt);Se&&Se.l(yo),yo.forEach(f),this.h()},h(){Gt.title="nostr-bookmark-viewer",_(e,"name","description"),_(e,"content",o[17]+"のブックマーク一覧"),_(t,"prefix","og: https://ogp.me/ns#"),_(l,"property","og:title"),_(l,"content","nostr-bookmark-viewer3"),_(n,"property","og:description"),_(n,"content",`Nostrのブックマークを見たりできるやつ
【nprofile】
pubkey:`+o[17]),_(s,"property","og:image"),_(s,"content","https://nostr-bookmark-viewer3.vercel.app/img2.png"),_(g,"class","!border-t-2 my-1"),_(w,"class","ml-4"),_(ee,"class","ml-4"),_(ie,"class","ml-4"),_(E,"class","list-disc"),_(K,"class","!border-t-2 my-1"),_(me,"class","mt-2"),_(Ze,"class","list-disc"),_($e,"class","mt-2"),_(Pe,"class","list-disc"),_(lt,"class","!border-t-2 my-1"),_(Ot,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(ht,"class","grid grid-cols-[auto_1fr] gap-1"),_(At,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(gt,"class","grid grid-cols-[auto_1fr] gap-1"),_(Pt,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(mt,"class","grid grid-cols-[auto_1fr] gap-1"),_(Lt,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(bt,"class","grid grid-cols-[auto_1fr] gap-1"),_(St,"class","btn variant-filled-primary rounded-full p-0 w-5"),_(pt,"class","grid grid-cols-[auto_1fr] gap-1"),_(Mt,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(vt,"class","grid grid-cols-[auto_1fr] gap-1"),_(Ft,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(kt,"class","grid grid-cols-[auto_1fr] gap-1"),_(Ut,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(Et,"class","grid grid-cols-[auto_1fr] gap-1"),_(W,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(R,"class","grid grid-cols-[auto_1fr] gap-1"),_(de,"class","btn variant-filled-primary p-0 my-0.5 h-5 w-5"),_(ue,"class","grid grid-cols-[auto_1fr] gap-1"),_(Wt,"class","btn variant-filled-primary rounded-full p-0 h-5"),_(xe,"class","grid grid-cols-[auto_1fr] gap-1"),_(ve,"class","text-sm grid grid-cols-[0.5fr_0.5fr]"),_(vl,"class","arrow bg-surface-100-800-token"),_(h,"class","card border border-purple-800 p-4 w-[22rem] shadow-xl z-20 break-all max-h-[80%] overflow-auto"),_(h,"data-popup","popupFeatured"),_(wt,"class","max-w-screen-lg m-auto z-10"),_(Xt,"class","w-full fixed top-0 left-1/2 transform -translate-x-1/2 z-10"),_(et,"class","container max-w-5xl px-1 mt-24 mb-20"),_(Jt,"class","btn-group py-0.5 variant-filled-primary w-screen justify-center rounded-none svelte-1enlxmt"),_(zt,"class","fixed bottom-0 z-10 w-screen"),_(jt,"class","container max-w-5xl mx-auto z-10")},m(F,re){c(Gt.head,e),c(Gt.head,t),c(Gt.head,l),c(Gt.head,n),c(Gt.head,s),C(F,a,re),ye(i,F,re),C(F,r,re),ye(u,F,re),C(F,d,re),C(F,h,re),Qe&&Qe.m(h,null),c(h,m),c(h,g),c(h,T),c(h,y),c(y,I),c(I,N),c(y,v),c(y,E),c(E,w),c(w,L),c(w,S),c(w,M),c(w,J),c(E,G),c(E,ee),c(ee,X),c(ee,$),c(E,he),c(E,ie),c(ie,le),c(ie,j),c(y,z),c(y,K),c(y,Re),c(y,Je),c(Je,De),c(y,Ye),c(y,Fe),c(Fe,te),c(y,se),c(y,me),c(me,st),c(y,tt),c(y,Ze);for(let Ne=0;Ne<je.length;Ne+=1)je[Ne]&&je[Ne].m(Ze,null);c(y,Ct),c(y,$e),c($e,Bt),c(y,_t),c(y,Pe);for(let Ne=0;Ne<He.length;Ne+=1)He[Ne]&&He[Ne].m(Pe,null);c(h,Vt),c(h,lt),c(h,ae),c(h,ve),c(ve,ht),c(ht,Ot),Ot.innerHTML=Qt,c(ht,nl),c(ve,sl),c(ve,gt),c(gt,At),At.innerHTML=so,c(gt,al),c(ve,rl),c(ve,mt),c(mt,Pt),Pt.innerHTML=ao,c(mt,il),c(ve,ul),c(ve,bt),c(bt,Lt),Lt.innerHTML=ro,c(bt,cl),c(ve,fl),c(ve,pt),c(pt,St),St.innerHTML=Ol,c(pt,dl),c(ve,_l),c(ve,vt),c(vt,Mt),Mt.innerHTML=Zn,c(vt,hl),c(ve,gl),c(ve,kt),c(kt,Ft),Ft.innerHTML=$n,c(kt,ml),c(ve,bl),c(ve,Et),c(Et,Ut),Ut.innerHTML=xn,c(Et,pl),c(ve,D),c(ve,R),c(R,W),W.innerHTML=es,c(R,Z),c(ve,oe),c(ve,ue),c(ue,de),de.innerHTML=ts,c(ue,Ve),c(ve,Le),c(ve,xe),c(xe,Wt),c(Wt,Pl),c(xe,Ll),c(h,Sl),c(h,vl),C(F,yl,re),C(F,et,re),We&&We.m(et,null),c(et,Tl),c(et,Xt),c(Xt,wt),ye(Rt,wt,null),c(wt,Ml),Oe&&Oe.m(wt,null),c(et,Fl),~Ke&&Ht[Ke].m(et,null),C(F,Dl,re),C(F,zt,re),c(zt,Jt),Ae&&Ae.m(Jt,null),C(F,Nl,re),C(F,jt,re),Se&&Se.m(jt,null),Yt=!0},p(F,re){if(F[12]?Qe&&(Qe.d(1),Qe=null):Qe?Qe.p(F,re):(Qe=pn(F),Qe.c(),Qe.m(h,m)),(!Yt||re[0]&128)&&Q!==(Q=F[7]?"ON":"OFF")&&Y($,Q),(!Yt||re[0]&256)&&ce!==(ce=F[8]?"ON":"OFF")&&Y(j,ce),re[0]&262144){Zt=F[18];let ke;for(ke=0;ke<Zt.length;ke+=1){const ot=bn(F,Zt,ke);je[ke]?je[ke].p(ot,re):(je[ke]=vn(ot),je[ke].c(),je[ke].m(Ze,null))}for(;ke<je.length;ke+=1)je[ke].d(1);je.length=Zt.length}if(re[0]&32768){$t=F[15];let ke;for(ke=0;ke<$t.length;ke+=1){const ot=mn(F,$t,ke);He[ke]?He[ke].p(ot,re):(He[ke]=kn(ot),He[ke].c(),He[ke].m(Pe,null))}for(;ke<He.length;ke+=1)He[ke].d(1);He.length=$t.length}!F[13]||F[13].length===0?We?We.p(F,re):(We=En(F),We.c(),We.m(et,Tl)):We&&(We.d(1),We=null);const Ne={};re[0]&13885|re[3]&131072&&(Ne.$$scope={dirty:re,ctx:F}),Rt.$set(Ne),F[13]&&F[13].length>0?Oe?(Oe.p(F,re),re[0]&8192&&O(Oe,1)):(Oe=Dn(F),Oe.c(),O(Oe,1),Oe.m(wt,null)):Oe&&(be(),U(Oe,1,1,()=>{Oe=null}),pe());let Ce=Ke;Ke=fo(F),Ke===Ce?~Ke&&Ht[Ke].p(F,re):(Ge&&(be(),U(Ht[Ce],1,1,()=>{Ht[Ce]=null}),pe()),~Ke?(Ge=Ht[Ke],Ge?Ge.p(F,re):(Ge=Ht[Ke]=co[Ke](F),Ge.c()),O(Ge,1),Ge.m(et,null)):Ge=null),F[12]?Ae&&(be(),U(Ae,1,1,()=>{Ae=null}),pe()):Ae?(Ae.p(F,re),re[0]&4096&&O(Ae,1)):(Ae=jn(F),Ae.c(),O(Ae,1),Ae.m(Jt,null)),F[12]?Se?re[0]&4096&&O(Se,1):(Se=qn(),Se.c(),O(Se,1),Se.m(jt,null)):Se&&(be(),U(Se,1,1,()=>{Se=null}),pe())},i(F){Yt||(O(i.$$.fragment,F),O(u.$$.fragment,F),O(Rt.$$.fragment,F),O(Oe),O(Ge),O(Ae),O(Se),Yt=!0)},o(F){U(i.$$.fragment,F),U(u.$$.fragment,F),U(Rt.$$.fragment,F),U(Oe),U(Ge),U(Ae),U(Se),Yt=!1},d(F){f(e),f(t),f(l),f(n),f(s),F&&f(a),Te(i,F),F&&f(r),Te(u,F),F&&f(d),F&&f(h),Qe&&Qe.d(),yt(je,F),yt(He,F),F&&f(yl),F&&f(et),We&&We.d(),Te(Rt),Oe&&Oe.d(),~Ke&&Ht[Ke].d(),F&&f(Dl),F&&f(zt),Ae&&Ae.d(),F&&f(Nl),F&&f(jt),Se&&Se.d()}}}const zn=50;function Yr(o){const e=document.querySelector(".tab-list");o.preventDefault(),e&&e.scrollBy({top:0,left:o.deltaY,behavior:"smooth"})}const Zr=o=>o[0]==="content-warning";function $r(o,e,t){let l,n,s,a,i,r,u;nt(o,Ie,D=>t(12,n=D)),nt(o,at,D=>t(13,s=D)),nt(o,Ns,D=>t(14,a=D)),nt(o,xl,D=>t(70,i=D)),nt(o,$l,D=>t(15,r=D)),nt(o,Ao,D=>t(16,u=D));const{type:d,data:h}=rt.decode(a.params.nprofile),{pubkey:m,relays:g,dtype:T}=d==="nprofile"?{pubkey:h.pubkey,relays:h.relays&&h.relays.length>0?h.relays:Zl,dtype:"nprofile"}:d==="npub"?{pubkey:h,relays:Zl,dtype:"npub"}:{pubkey:"",relays:[],dtype:"error"},y=[{authors:[m],kinds:[30001]}];let I,N=!1,v=0,E="pub",w,L="now loading",S=!0,M=!0,H;ws(async()=>{fe(Ie,n=!0,n);const D=localStorage.getItem("config");if(fe($l,r=[...Zl],r),D){const R=JSON.parse(D);fe($l,r=R.searchRelays,r),t(7,S=R.URLPreview),t(8,M=R.loadEvent),H=R.writeRelays,r&&r.length==0&&t(8,M=!1)}if(t(6,L="now loading"),T==="nprofile")try{t(2,I=await El()===m)}catch{console.log("ログインチェック失敗")}if(ys(xl)!==a.params.nprofile||s.length===0){if(m!==""||g.length>0)fe(at,s=await eo(g,y),s),s.length>0?(s.sort((R,W)=>{const Z=R.tags[0][1],oe=W.tags[0][1];return Z.localeCompare(oe)}),console.log(s),t(0,w=s[v].tags)):(console.log("ブクマ何もないかも"),t(6,L=`<p>ブクマ何もないかも<br/>初めての場合は新しいタグを作成してみてね<br/>データが見当たらない場合はリレーの設定を見直してみてね
           <svg class="m-0 p-0"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
            <line x1="12" y1="6" x2="12" y2="12" />
            <line x1="8" y1="6" x2="8" y2="12" />
            <line x1="16" y1="6" x2="16" y2="12" />
            <line x1="3" y1="16" x2="21" y2="16" />
          </svg>ログインしている場合は下のこのマークからタグが追加できるよ
          </p>`)),fe(Ie,n=!1,n);else{fe(Ie,n=!1,n);const R={message:"error",timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(R),console.log("error")}fe(xl,i=a.params.nprofile,i)}else t(0,w=s[v].tags),fe(Ie,n=!1,n)});const J={event:"click",target:"popupFeatured",placement:"bottom"};async function G(){let D;try{const R=await El();t(2,I=R===m),I?D={message:"Login",timeout:3e3}:D={message:"you are not the owner",timeout:3e3,background:"bg-orange-500 text-white width-filled "}}catch{D={message:"failed to Login",timeout:3e3,background:"bg-orange-500 text-white width-filled "}}_e.trigger(D)}const ee={ref:As,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function X(D,R){console.log(D);const W={type:"component",value:{metadata:D,pubkey:R},component:ee};Ue.trigger(W)}const Q={ref:Ps,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function $(D){console.log("click");const R={type:"component",title:"Event Json",value:{note:D},component:Q};Ue.trigger(R)}const he={ref:Ba,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};async function ie(D){const R={type:"component",component:he,title:`${s[v].tags[0][1]}`,body:'Enter an ID starting with "note" , "nevent" , "nostr:" or "naddr".',response:async W=>{let Z;if(W){fe(Ie,n=!0,n);let oe=W.value;if(W.create){const ue={id:"",pubkey:await El(),created_at:Math.floor(Date.now()/1e3),kind:1,tags:[],content:W.value,sig:""};let de;if(H.length>0)de=H;else try{const Le=await window.nostr.getRelays();de=Object.keys(Le).filter(xe=>Le[xe].write===!0),de=de.length>0?de:g}catch{de=g}const Ve=await wl(ue,de);if(Ve.isSuccess){const Le={message:Ve.msg.join("<br>"),timeout:3e3};_e.trigger(Le),oe=Ve.event.id}}switch(W.btn){case"pub":if(Z=await Po(oe),Z.error&&typeof Z.value=="string"){const ue={message:Z.value,timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(ue)}else if(Array.isArray(Z.value)){await ge(D);const ue=await So(g,s[D],[Z.value]);if(console.log(ue),ue.isSuccess){fe(at,s[D]=ue.event,s),t(0,w=s[D].tags);const de={message:"Add note<br>"+ue.msg.join("<br>"),timeout:3e3};_e.trigger(de)}else{const de={message:"failed to publish",timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(de)}}break;case"prv":if(Z=await Po(oe),console.log("test"),Z.error&&typeof Z.value=="string"){const ue={message:Z.value,timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(ue)}else if(Array.isArray(Z.value)){console.log("test");const ue=await Lo(g,s[D],[Z.value],m);if(console.log(ue),ue.isSuccess){fe(at,s[D]=ue.event,s),t(0,w=s[D].tags);const de={message:"Add note<br>"+ue.msg.join("<br>"),timeout:3e3};_e.trigger(de)}else{const de={message:"failed to publish",timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(de)}}break}fe(Ie,n=!1,n)}}};Ue.trigger(R)}const le={ref:Ha,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function ce(){const D={type:"component",component:le,title:"Edit tag",body:"New Tag Name",value:{selectedValue:0},response:R=>{if(R)switch(R.btn){case"add":j(R.value);break;case"delete":z(R.tagIndex);break}}};Ue.trigger(D)}async function j(D){console.log(D);const R={id:"",content:"",kind:30001,pubkey:m,created_at:Math.floor(Date.now()/1e3),tags:[["d",D]],sig:""};try{fe(Ie,n=!0,n);const W=await wl(R,g);if(!W.isSuccess){const oe={message:"失敗したかも",timeout:5e3,background:"variant-filled-error"};_e.trigger(oe),fe(Ie,n=!1,n);return}s.push(W.event);const Z={message:"Add tag<br>"+W.msg.join("<br>"),timeout:5e3};_e.trigger(Z)}catch(W){console.log(W);const Z={message:"失敗したかも",timeout:5e3,background:"variant-filled-error"};_e.trigger(Z)}fe(Ie,n=!1,n)}async function z(D){console.log(D),await ge(D),console.log(s[D].tags[0][1]);const R={id:"",content:"",kind:5,pubkey:m,created_at:Math.floor(Date.now()/1e3),tags:[["e",s[D].id]],sig:""};try{fe(Ie,n=!0,n);const W=await wl(R,g);if(!W.isSuccess){const oe={message:"失敗したかも",timeout:5e3,background:"variant-filled-error"};_e.trigger(oe),fe(Ie,n=!1,n);return}const Z={message:"Delete tag<br>"+W.msg.join("<br>"),timeout:5e3};_e.trigger(Z),s.splice(D,1),t(4,v=0),t(0,w=s[v].tags)}catch(W){console.log(W);const Z={message:"失敗したかも",timeout:5e3,background:"variant-filled-error"};_e.trigger(Z)}fe(Ie,n=!1,n)}const K={ref:Ma,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function Re(D,R,W){t(9,De=R),console.log(W),console.log(D),console.log(w[R[0]]),console.log(s[v].tags[0][1]),console.log(R),console.log(s[v].tags[R[0]][1]);const Z={type:"component",component:K,title:"Move note",body:`Move from ${s[D].tags[0][1]} to`,value:{bkm:W,tag:D},response:oe=>{console.log(oe),oe&&(fe(Ie,n=!0,n),Je(R,{tag:D,bkm:W},{tag:oe.tag,bkm:oe.bkm}))}};Ue.trigger(Z),t(9,De=[])}async function Je(D,R,W){fe(Ie,n=!0,n),await ge(R.tag),await ge(W.tag);const Z=D.map(ue=>w[ue]),oe=W.bkm==="pub"?await So(g,s[W.tag],Z):await Lo(g,s[W.tag],Z,m);if(console.log(oe),_e.clear(),oe.isSuccess){const ue={message:"Add note<br>"+oe.msg.join("<br>"),timeout:5e3};_e.trigger(ue),fe(at,s[W.tag]=oe.event,s);const de=R.bkm==="pub"?await Mo(g,s[R.tag],D):await Fo(g,s[R.tag],D,m);if(console.log(de),oe.isSuccess){const Ve={max:10,message:"Delete note<br>"+de.msg.join("<br>"),timeout:5e3};if(_e.trigger(Ve),fe(at,s[R.tag]=de.event,s),R.bkm==="pub")t(0,w=s[R.tag].tags);else{const Le=await to(m,s[R.tag].content);t(0,w=JSON.parse(Le))}}else{const Ve={message:`failed to delete to ${s[R.tag].tags[0][1]}`,max:10,timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(Ve)}}else{const ue={message:`failed to add to ${s[W.tag].tags[0][1]}`,timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(ue);return}t(11,l=w.slice(ae.offset*ae.limit,ae.offset*ae.limit+ae.limit)),t(9,De=[]),t(10,te=[]),window.scrollTo({top:0,behavior:"auto"}),t(3,N=!1),fe(Ie,n=!1,n)}let De=[];function Ye(D,R,W){t(9,De=[R]),console.log(W),console.log(D),console.log(s[v].tags[0][1]),console.log(R),console.log(s[v].tags[R][1]);const Z={message:"Are you sure you delete this note?",timeout:1e4,action:{label:"Delete",response:async()=>Fe(D,[R],W)},callback:oe=>{console.log(oe.id),oe.status==="queued"&&console.log("Toast was queued!"),oe.status==="closed"&&t(9,De=[])},background:"variant-filled-warning"};_e.trigger(Z)}async function Fe(D,R,W){fe(Ie,n=!0,n),await ge(D);const Z=W==="pub"?await Mo(g,s[D],R):await Fo(g,s[D],R,m);if(console.log(Z),Z.isSuccess){if(fe(at,s[D]=Z.event,s),W==="pub")t(0,w=s[D].tags);else{const ue=await to(m,s[D].content);t(0,w=JSON.parse(ue))}const oe={message:"Delete note<br>"+Z.msg.join("<br>"),timeout:5e3};_e.trigger(oe)}else{const oe={message:"failed to publish",timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(oe)}t(11,l=w.slice(ae.offset*ae.limit,ae.offset*ae.limit+ae.limit)),t(9,De=[]),t(10,te=[]),window.scrollTo({top:0,behavior:"auto"}),t(3,N=!1),fe(Ie,n=!1,n)}async function ge(D){const R={message:"最新の状態に更新中...",autohide:!1,background:"bg-fuchsia-800 text-white width-filled "};_e.trigger(R);const W=[{authors:[m],kinds:[30001],"#d":[s[D].tags[0][1]]}];console.log(W);try{const Z=await eo(g,W);console.log(Z),fe(at,s[D]=Z[0],s),_e.clear()}catch{_e.clear();const oe={message:"最新リストの読み込みに失敗しました",timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(oe)}}let te=[];function se(){if(te.length===0)return;const D={type:"component",component:K,title:"Move note",body:`Move from ${s[v].tags[0][1]} to`,value:{bkm:E,tag:v},response:async R=>{console.log(R),R&&await Je(te,{tag:v,bkm:E},{tag:R.tag,bkm:R.bkm})}};Ue.trigger(D)}function me(){if(te.length===0)return;console.log(te);const D={message:`Are you sure you delete these [${te.length}] notes?`,timeout:1e4,action:{label:"Delete",response:async()=>{await Fe(v,te,E),t(10,te=[]),t(9,De=[])}},background:"variant-filled-warning"};_e.trigger(D)}function st(){const D=["a",`30001:${m}:${s[v].tags[0][1]}`],R={identifier:s[v].tags[0][1],pubkey:m,kind:30001,relays:g},W=rt.naddrEncode(R);console.log(W),console.log(window.location.origin);const Z=window.location.origin+"/a/"+W;console.log(Z),console.log("post");const oe={type:"component",component:_t,title:"postNote",body:"",value:{content:`\r
${Z}\r
`,tags:[D]},response:async ue=>{if(console.log(ue),ue){fe(Ie,n=!0,n);const de={id:"",pubkey:await El(),created_at:Math.floor(Date.now()/1e3),kind:1,tags:[D],content:ue.content,sig:""};let Ve;if(H.length>0)Ve=H;else{const Le=await window.nostr.getRelays();Ve=Object.keys(Le).filter(xe=>Le[xe].write===!0),Ve=Ve.length>0?Ve:g}await wl(de,Ve),fe(Ie,n=!1,n)}}};Ue.trigger(oe)}function tt(D){t(10,te=[]),t(9,De=[]),t(5,E="pub"),window.scrollTo({top:0,behavior:"auto"})}function Ze(D){te.includes(D)?te.splice(te.indexOf(D),1):te.push(D),t(9,De=te),console.log(D),console.log(te)}async function Ct(){m!==""||g.length>0?(fe(Ie,n=!0,n),fe(at,s=await eo(g,y),s),s.length>0?(s.sort((D,R)=>{const W=D.tags[0][1],Z=R.tags[0][1];return W.localeCompare(Z)}),console.log(s),t(0,w=s[v].tags)):(console.log("ブクマ何もないかも"),t(6,L="ブクマ何もないかも")),fe(Ie,n=!1,n)):console.log("error"),fe(Ie,n=!1,n)}const $e={ref:Wa,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function Bt(){const D={type:"component",component:$e,title:"tagList",body:"",value:{tagList:s.map(R=>R.tags[0][1])},response:R=>{if(console.log(R),R&&R.index!==-1){if(R.index!==v){t(4,v=R.index),t(0,w=s[v].tags);const W=document.querySelector(".tab-list");if(W){const Z=v/s.length*80,oe=Math.round(Z/100*W.scrollWidth);W.scrollTo({top:0,left:oe,behavior:"auto"})}}tt(R.index)}}};Ue.trigger(D)}const _t={ref:Us,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function Pe(D,R){console.log("quote");const W=D[0]==="a"?[D]:[[...D,"","mention"]],Z={type:"component",component:_t,title:"postNote",body:"",value:{content:`\r
nostr:${D[0]==="a"?rt.naddrEncode(lo(D)):rt.noteEncode(D[1])}\r
`,tags:W,pubkey:R},response:async oe=>{if(console.log(oe),oe){fe(Ie,n=!0,n);const ue={id:"",pubkey:await El(),created_at:Math.floor(Date.now()/1e3),kind:1,tags:oe.tags,content:oe.content,sig:""};let de;if(H.length>0)de=H;else{const Le=await window.nostr.getRelays();de=Object.keys(Le).filter(xe=>Le[xe].write===!0),de=de.length>0?de:g}const Ve=await wl(ue,de);if(Ve.isSuccess){const Le={message:Ve.msg.join("<br>"),timeout:3e3};_e.trigger(Le)}fe(Ie,n=!1,n)}}};Ue.trigger(Z)}const Vt={ref:Ls,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function lt(D){console.log("search");const R={type:"component",component:Vt,title:"Search",body:"",value:{id:D,isPageOwner:I},response:async W=>{console.log(W)}};Ue.trigger(R)}let ae;function ve(D){t(10,te=[]),t(9,De=[]),t(3,N=!1),console.log(typeof D.detail),console.log("event:page",D.detail),t(1,ae.offset=Object.is(D.detail,-0)?Math.floor(w.length/ae.limit):D.detail,ae),t(11,l=w.slice(ae.offset*ae.limit,ae.offset*ae.limit+ae.limit)),window.scrollTo({top:0,behavior:"auto"})}const ht=()=>Cs(window.location.origin);function Ot(D){N=D,t(3,N)}const nl=()=>{t(10,te=[]),t(9,De=[])};function sl(D){v=D,t(4,v)}const gt=D=>{t(3,N=!1),t(0,w=s[v].tags),t(5,E="pub"),tt()};function At(D){E=D,t(5,E)}const al=()=>{console.log(E),t(10,te=[]),t(9,De=[]),t(3,N=!1),t(0,w=s[v].tags)};function rl(D){E=D,t(5,E)}const mt=async()=>{if(t(10,te=[]),t(9,De=[]),t(3,N=!1),s[v].content.length>0)try{const D=await to(m,s[v].content);t(0,w=JSON.parse(D))}catch{const R={message:"復号化できませんでした",timeout:3e3,background:"bg-orange-500 text-white width-filled "};_e.trigger(R)}else t(0,w=[])},Pt=D=>{lt(D.id)},il=D=>{lt(D.id)},ul=D=>{lt(D.id)},bt=D=>{$(D)},Lt=D=>{$(D)},cl=D=>{$(D)},fl=(D,R)=>{X(D,R.pubkey)},pt=D=>{$(D)},St=(D,R)=>{X(D,R[1])},dl=D=>{$(D)},_l=D=>{Ze(ae.offset*ae.limit+D)},vt=D=>Pe(D,""),Mt=D=>Pe(D,""),hl=D=>Pe(D,""),gl=(D,R)=>Pe(D,R.pubkey),kt=D=>{window.open(`https://nostr.com/${D[0]==="a"?rt.naddrEncode(lo(D)):rt.noteEncode(D[1])}`,"_blank")},Ft=D=>{n||Re(v,[ae.offset*ae.limit+D],E)},ml=D=>{n||Ye(v,ae.offset*ae.limit+D,E)},bl=D=>Pe(D,""),Et=D=>{window.open(`https://nostr.com/${D[0]==="a"?rt.naddrEncode(lo(D)):rt.noteEncode(D[1])}`,"_blank")},Ut=()=>ie(v),pl=()=>{fe(Ao,u=!u,u)};return o.$$.update=()=>{o.$$.dirty[0]&1&&t(1,ae={offset:0,limit:zn,size:w&&w.length>0?w.length:1,amounts:[zn]}),o.$$.dirty[0]&3&&t(11,l=w&&w.slice(ae.offset*ae.limit,ae.offset*ae.limit+ae.limit))},[w,ae,I,N,v,E,L,S,M,De,te,l,n,s,a,r,u,m,g,T,J,G,X,$,ie,ce,Re,Ye,se,me,st,tt,Ze,Ct,Bt,Pe,lt,ve,ht,Ot,nl,sl,gt,At,al,rl,mt,Pt,il,ul,bt,Lt,cl,fl,pt,St,dl,_l,vt,Mt,hl,gl,kt,Ft,ml,bl,Et,Ut,pl]}class ii extends ct{constructor(e){super(),ft(this,e,$r,Xr,dt,{},null,[-1,-1,-1,-1])}}export{ii as component};
