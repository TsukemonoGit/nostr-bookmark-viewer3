import{S as Te,i as De,s as Oe,C as Se,k as g,a as j,l as k,m as E,c as F,h as v,n as m,b as I,F as p,g as M,v as ie,d as U,f as oe,G as Ie,I as Ce,J as Pe,a2 as Qr,Q as Ue,R as Ke,O as X,P as He,a1 as nt,U as Qe,a8 as Es,a9 as ir,ab as Kr,ac as un,a4 as it,w as Os,e as x,L as Be,a3 as Ro,K as H,X as Ss,a5 as or,a6 as ft,x as cn,y as le,z as fe,A as ue,ap as Is,B as ce,a0 as ve,q as C,r as P,V as sr,u as N,H as Cs,E as Ps,o as qs,aq as To,a7 as st,ag as fn,W as _t,ah as Rs,ad as vr,_ as Xe,$ as pr,T as ct}from"./index.fe32e296.js";import{q as ar,r as dn,v as Ts,G as Ds,w as Do,x as Ls,y as Ms,z as As,A as Ns,B,n as Z,t as lr,C as hn,b as Lo,R as Us,f as js,u as Ze,D as _n,E as ut,F as Fs}from"./navigation.fb3cb79d.js";import"./ProgressBar.svelte_svelte_type_style_lang.b1870cef.js";import{w as ur,r as Ht,d as rr}from"./index.214b5d4b.js";function Vs(){const{subscribe:n,set:e,update:t}=ur([]);return{subscribe:n,set:e,update:t,trigger:r=>t(i=>(i.push(r),i)),close:()=>t(r=>(r.length>0&&r.shift(),r)),clear:()=>e([])}}const Re=Vs();function Bs(n,e){const t='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';let r,i;function o(f){f.shiftKey&&f.code==="Tab"&&(f.preventDefault(),i.focus())}function s(f){!f.shiftKey&&f.code==="Tab"&&(f.preventDefault(),r.focus())}const l=f=>{if(e===!1)return;const d=Array.from(n.querySelectorAll(t));d.length&&(r=d[0],i=d[d.length-1],f||r.focus(),r.addEventListener("keydown",o),i.addEventListener("keydown",s))};l(!1);function a(){r&&r.removeEventListener("keydown",o),i&&i.removeEventListener("keydown",s)}const u=(f,d)=>(f.length&&(a(),l(!0)),d),c=new MutationObserver(u);return c.observe(n,{childList:!0,subtree:!0}),{update(f){e=f,f?l(!1):a()},destroy(){a(),c.disconnect()}}}const Hs=n=>({}),vn=n=>({}),Qs=n=>({}),pn=n=>({}),Ks=n=>({}),mn=n=>({});function bn(n){let e,t,r;const i=n[22].lead,o=Se(i,n,n[21],mn);return{c(){e=g("div"),o&&o.c(),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);o&&o.l(l),l.forEach(v),this.h()},h(){m(e,"class",t="app-bar-slot-lead "+n[4])},m(s,l){I(s,e,l),o&&o.m(e,null),r=!0},p(s,l){o&&o.p&&(!r||l&2097152)&&Ie(o,i,s,s[21],r?Pe(i,s[21],l,Ks):Ce(s[21]),mn),(!r||l&16&&t!==(t="app-bar-slot-lead "+s[4]))&&m(e,"class",t)},i(s){r||(M(o,s),r=!0)},o(s){U(o,s),r=!1},d(s){s&&v(e),o&&o.d(s)}}}function yn(n){let e,t,r;const i=n[22].trail,o=Se(i,n,n[21],pn);return{c(){e=g("div"),o&&o.c(),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);o&&o.l(l),l.forEach(v),this.h()},h(){m(e,"class",t="app-bar-slot-trail "+n[2])},m(s,l){I(s,e,l),o&&o.m(e,null),r=!0},p(s,l){o&&o.p&&(!r||l&2097152)&&Ie(o,i,s,s[21],r?Pe(i,s[21],l,Qs):Ce(s[21]),pn),(!r||l&4&&t!==(t="app-bar-slot-trail "+s[2]))&&m(e,"class",t)},i(s){r||(M(o,s),r=!0)},o(s){U(o,s),r=!1},d(s){s&&v(e),o&&o.d(s)}}}function gn(n){let e,t,r;const i=n[22].headline,o=Se(i,n,n[21],vn);return{c(){e=g("div"),o&&o.c(),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);o&&o.l(l),l.forEach(v),this.h()},h(){m(e,"class",t="app-bar-row-headline "+n[5])},m(s,l){I(s,e,l),o&&o.m(e,null),r=!0},p(s,l){o&&o.p&&(!r||l&2097152)&&Ie(o,i,s,s[21],r?Pe(i,s[21],l,Hs):Ce(s[21]),vn),(!r||l&32&&t!==(t="app-bar-row-headline "+s[5]))&&m(e,"class",t)},i(s){r||(M(o,s),r=!0)},o(s){U(o,s),r=!1},d(s){s&&v(e),o&&o.d(s)}}}function zs(n){let e,t,r,i,o,s,l,a,u,c,f=n[8].lead&&bn(n);const d=n[22].default,h=Se(d,n,n[21],null);let _=n[8].trail&&yn(n),b=n[8].headline&&gn(n);return{c(){e=g("div"),t=g("div"),f&&f.c(),r=j(),i=g("div"),h&&h.c(),s=j(),_&&_.c(),a=j(),b&&b.c(),this.h()},l(y){e=k(y,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-labelledby":!0});var w=E(e);t=k(w,"DIV",{class:!0});var O=E(t);f&&f.l(O),r=F(O),i=k(O,"DIV",{class:!0});var R=E(i);h&&h.l(R),R.forEach(v),s=F(O),_&&_.l(O),O.forEach(v),a=F(w),b&&b.l(w),w.forEach(v),this.h()},h(){m(i,"class",o="app-bar-slot-default "+n[3]),m(t,"class",l="app-bar-row-main "+n[6]),m(e,"class",u="app-bar "+n[7]),m(e,"data-testid","app-bar"),m(e,"role","toolbar"),m(e,"aria-label",n[0]),m(e,"aria-labelledby",n[1])},m(y,w){I(y,e,w),p(e,t),f&&f.m(t,null),p(t,r),p(t,i),h&&h.m(i,null),p(t,s),_&&_.m(t,null),p(e,a),b&&b.m(e,null),c=!0},p(y,[w]){y[8].lead?f?(f.p(y,w),w&256&&M(f,1)):(f=bn(y),f.c(),M(f,1),f.m(t,r)):f&&(ie(),U(f,1,1,()=>{f=null}),oe()),h&&h.p&&(!c||w&2097152)&&Ie(h,d,y,y[21],c?Pe(d,y[21],w,null):Ce(y[21]),null),(!c||w&8&&o!==(o="app-bar-slot-default "+y[3]))&&m(i,"class",o),y[8].trail?_?(_.p(y,w),w&256&&M(_,1)):(_=yn(y),_.c(),M(_,1),_.m(t,null)):_&&(ie(),U(_,1,1,()=>{_=null}),oe()),(!c||w&64&&l!==(l="app-bar-row-main "+y[6]))&&m(t,"class",l),y[8].headline?b?(b.p(y,w),w&256&&M(b,1)):(b=gn(y),b.c(),M(b,1),b.m(e,null)):b&&(ie(),U(b,1,1,()=>{b=null}),oe()),(!c||w&128&&u!==(u="app-bar "+y[7]))&&m(e,"class",u),(!c||w&1)&&m(e,"aria-label",y[0]),(!c||w&2)&&m(e,"aria-labelledby",y[1])},i(y){c||(M(f),M(h,y),M(_),M(b),c=!0)},o(y){U(f),U(h,y),U(_),U(b),c=!1},d(y){y&&v(e),f&&f.d(),h&&h.d(y),_&&_.d(),b&&b.d()}}}const Gs="flex flex-col",Js="grid items-center",Ws="",Ys="flex-none flex justify-between items-center",Xs="flex-auto",Zs="flex-none flex items-center space-x-4";function xs(n,e,t){let r,i,o,s,l,a,{$$slots:u={},$$scope:c}=e;const f=Qr(u);let{background:d="bg-surface-100-800-token"}=e,{border:h=""}=e,{padding:_="p-4"}=e,{shadow:b=""}=e,{spacing:y="space-y-4"}=e,{gridColumns:w="grid-cols-[auto_1fr_auto]"}=e,{gap:O="gap-4"}=e,{regionRowMain:R=""}=e,{regionRowHeadline:T=""}=e,{slotLead:A=""}=e,{slotDefault:S=""}=e,{slotTrail:L=""}=e,{label:q=""}=e,{labelledby:D=""}=e;return n.$$set=K=>{t(23,e=Ue(Ue({},e),Ke(K))),"background"in K&&t(9,d=K.background),"border"in K&&t(10,h=K.border),"padding"in K&&t(11,_=K.padding),"shadow"in K&&t(12,b=K.shadow),"spacing"in K&&t(13,y=K.spacing),"gridColumns"in K&&t(14,w=K.gridColumns),"gap"in K&&t(15,O=K.gap),"regionRowMain"in K&&t(16,R=K.regionRowMain),"regionRowHeadline"in K&&t(17,T=K.regionRowHeadline),"slotLead"in K&&t(18,A=K.slotLead),"slotDefault"in K&&t(19,S=K.slotDefault),"slotTrail"in K&&t(20,L=K.slotTrail),"label"in K&&t(0,q=K.label),"labelledby"in K&&t(1,D=K.labelledby),"$$scope"in K&&t(21,c=K.$$scope)},n.$$.update=()=>{t(7,r=`${Gs} ${d} ${h} ${y} ${_} ${b} ${e.class??""}`),n.$$.dirty&114688&&t(6,i=`${Js} ${w} ${O} ${R}`),n.$$.dirty&131072&&t(5,o=`${Ws} ${T}`),n.$$.dirty&262144&&t(4,s=`${Ys} ${A}`),n.$$.dirty&524288&&t(3,l=`${Xs} ${S}`),n.$$.dirty&1048576&&t(2,a=`${Zs} ${L}`)},e=Ke(e),[q,D,a,l,s,o,i,r,f,d,h,_,b,y,w,O,R,T,A,S,L,c,u]}class Zd extends Te{constructor(e){super(),De(this,e,xs,zs,Oe,{background:9,border:10,padding:11,shadow:12,spacing:13,gridColumns:14,gap:15,regionRowMain:16,regionRowHeadline:17,slotLead:18,slotDefault:19,slotTrail:20,label:0,labelledby:1})}}const $s=n=>({}),kn=n=>({});function wn(n){let e,t,r;const i=n[17].panel,o=Se(i,n,n[16],kn);return{c(){e=g("div"),o&&o.c(),this.h()},l(s){e=k(s,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var l=E(e);o&&o.l(l),l.forEach(v),this.h()},h(){m(e,"class",t="tab-panel "+n[2]),m(e,"role","tabpanel"),m(e,"aria-labelledby",n[1]),m(e,"tabindex","0")},m(s,l){I(s,e,l),o&&o.m(e,null),r=!0},p(s,l){o&&o.p&&(!r||l&65536)&&Ie(o,i,s,s[16],r?Pe(i,s[16],l,$s):Ce(s[16]),kn),(!r||l&4&&t!==(t="tab-panel "+s[2]))&&m(e,"class",t),(!r||l&2)&&m(e,"aria-labelledby",s[1])},i(s){r||(M(o,s),r=!0)},o(s){U(o,s),r=!1},d(s){s&&v(e),o&&o.d(s)}}}function ea(n){let e,t,r,i,o,s,l,a;const u=n[17].default,c=Se(u,n,n[16],null);let f=n[5].panel&&wn(n);return{c(){e=g("div"),t=g("div"),c&&c.c(),i=j(),f&&f.c(),this.h()},l(d){e=k(d,"DIV",{class:!0,"data-testid":!0});var h=E(e);t=k(h,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var _=E(t);c&&c.l(_),_.forEach(v),i=F(h),f&&f.l(h),h.forEach(v),this.h()},h(){m(t,"class",r="tab-list "+n[3]),m(t,"role","tablist"),m(t,"aria-labelledby",n[0]),m(e,"class",o="tab-group "+n[4]),m(e,"data-testid","tab-group")},m(d,h){I(d,e,h),p(e,t),c&&c.m(t,null),p(e,i),f&&f.m(e,null),s=!0,l||(a=[X(e,"click",n[18]),X(e,"keypress",n[19]),X(e,"keydown",n[20]),X(e,"keyup",n[21])],l=!0)},p(d,[h]){c&&c.p&&(!s||h&65536)&&Ie(c,u,d,d[16],s?Pe(u,d[16],h,null):Ce(d[16]),null),(!s||h&8&&r!==(r="tab-list "+d[3]))&&m(t,"class",r),(!s||h&1)&&m(t,"aria-labelledby",d[0]),d[5].panel?f?(f.p(d,h),h&32&&M(f,1)):(f=wn(d),f.c(),M(f,1),f.m(e,null)):f&&(ie(),U(f,1,1,()=>{f=null}),oe()),(!s||h&16&&o!==(o="tab-group "+d[4]))&&m(e,"class",o)},i(d){s||(M(c,d),M(f),s=!0)},o(d){U(c,d),U(f),s=!1},d(d){d&&v(e),c&&c.d(d),f&&f.d(),l=!1,He(a)}}}const ta="space-y-4",ra="flex overflow-x-auto hide-scrollbar",na="";function ia(n,e,t){let r,i,o,{$$slots:s={},$$scope:l}=e;const a=Qr(s);let{justify:u="justify-start"}=e,{border:c="border-b border-surface-400-500-token"}=e,{active:f="border-b-2 border-surface-900-50-token"}=e,{hover:d="hover:variant-soft"}=e,{flex:h="flex-none"}=e,{padding:_="px-4 py-2"}=e,{rounded:b="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:y="space-y-1"}=e,{regionList:w=""}=e,{regionPanel:O=""}=e,{labelledby:R=""}=e,{panel:T=""}=e;nt("active",f),nt("hover",d),nt("flex",h),nt("padding",_),nt("rounded",b),nt("spacing",y);function A(D){Qe.call(this,n,D)}function S(D){Qe.call(this,n,D)}function L(D){Qe.call(this,n,D)}function q(D){Qe.call(this,n,D)}return n.$$set=D=>{t(22,e=Ue(Ue({},e),Ke(D))),"justify"in D&&t(6,u=D.justify),"border"in D&&t(7,c=D.border),"active"in D&&t(8,f=D.active),"hover"in D&&t(9,d=D.hover),"flex"in D&&t(10,h=D.flex),"padding"in D&&t(11,_=D.padding),"rounded"in D&&t(12,b=D.rounded),"spacing"in D&&t(13,y=D.spacing),"regionList"in D&&t(14,w=D.regionList),"regionPanel"in D&&t(15,O=D.regionPanel),"labelledby"in D&&t(0,R=D.labelledby),"panel"in D&&t(1,T=D.panel),"$$scope"in D&&t(16,l=D.$$scope)},n.$$.update=()=>{t(4,r=`${ta} ${e.class??""}`),n.$$.dirty&16576&&t(3,i=`${ra} ${u} ${c} ${w}`),n.$$.dirty&32768&&t(2,o=`${na} ${O}`)},e=Ke(e),[R,T,o,i,r,a,u,c,f,d,h,_,b,y,w,O,l,s,A,S,L,q]}class xd extends Te{constructor(e){super(),De(this,e,ia,ea,Oe,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const oa=n=>({}),En=n=>({});function On(n){let e,t;const r=n[22].lead,i=Se(r,n,n[21],En);return{c(){e=g("div"),i&&i.c(),this.h()},l(o){e=k(o,"DIV",{class:!0});var s=E(e);i&&i.l(s),s.forEach(v),this.h()},h(){m(e,"class","tab-lead")},m(o,s){I(o,e,s),i&&i.m(e,null),t=!0},p(o,s){i&&i.p&&(!t||s[0]&2097152)&&Ie(i,r,o,o[21],t?Pe(r,o[21],s,oa):Ce(o[21]),En)},i(o){t||(M(i,o),t=!0)},o(o){U(i,o),t=!1},d(o){o&&v(e),i&&i.d(o)}}}function sa(n){let e,t,r,i,o,s,l,a,u,c,f,d,h,_,b,y=[{type:"radio"},{name:n[1]},{__value:n[2]},n[11](),{tabindex:"-1"}],w={};for(let A=0;A<y.length;A+=1)w=Ue(w,y[A]);let O=n[12].lead&&On(n);const R=n[22].default,T=Se(R,n,n[21],null);return h=Es(n[30][0]),{c(){e=g("label"),t=g("div"),r=g("div"),i=g("input"),o=j(),s=g("div"),O&&O.c(),l=j(),a=g("div"),T&&T.c(),this.h()},l(A){e=k(A,"LABEL",{class:!0,title:!0});var S=E(e);t=k(S,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var L=E(t);r=k(L,"DIV",{class:!0});var q=E(r);i=k(q,"INPUT",{type:!0,name:!0,tabindex:!0}),q.forEach(v),o=F(L),s=k(L,"DIV",{class:!0});var D=E(s);O&&O.l(D),l=F(D),a=k(D,"DIV",{class:!0});var K=E(a);T&&T.l(K),K.forEach(v),D.forEach(v),L.forEach(v),S.forEach(v),this.h()},h(){ir(i,w),m(r,"class","h-0 w-0 overflow-hidden"),m(a,"class","tab-label"),m(s,"class",u="tab-interface "+n[8]),m(t,"class",c="tab "+n[7]),m(t,"data-testid","tab"),m(t,"role","tab"),m(t,"aria-controls",n[4]),m(t,"aria-selected",n[5]),m(t,"tabindex",f=n[5]?0:-1),m(e,"class",n[9]),m(e,"title",n[3]),h.p(i)},m(A,S){I(A,e,S),p(e,t),p(t,r),p(r,i),i.autofocus&&i.focus(),n[28](i),i.checked=i.__value===n[0],p(t,o),p(t,s),O&&O.m(s,null),p(s,l),p(s,a),T&&T.m(a,null),d=!0,_||(b=[X(i,"change",n[29]),X(i,"click",n[26]),X(i,"change",n[27]),X(t,"keydown",n[10]),X(t,"keydown",n[23]),X(t,"keyup",n[24]),X(t,"keypress",n[25])],_=!0)},p(A,S){ir(i,w=Kr(y,[{type:"radio"},(!d||S[0]&2)&&{name:A[1]},(!d||S[0]&4)&&{__value:A[2]},A[11](),{tabindex:"-1"}])),S[0]&1&&(i.checked=i.__value===A[0]),A[12].lead?O?(O.p(A,S),S[0]&4096&&M(O,1)):(O=On(A),O.c(),M(O,1),O.m(s,l)):O&&(ie(),U(O,1,1,()=>{O=null}),oe()),T&&T.p&&(!d||S[0]&2097152)&&Ie(T,R,A,A[21],d?Pe(R,A[21],S,null):Ce(A[21]),null),(!d||S[0]&256&&u!==(u="tab-interface "+A[8]))&&m(s,"class",u),(!d||S[0]&128&&c!==(c="tab "+A[7]))&&m(t,"class",c),(!d||S[0]&16)&&m(t,"aria-controls",A[4]),(!d||S[0]&32)&&m(t,"aria-selected",A[5]),(!d||S[0]&32&&f!==(f=A[5]?0:-1))&&m(t,"tabindex",f),(!d||S[0]&512)&&m(e,"class",A[9]),(!d||S[0]&8)&&m(e,"title",A[3])},i(A){d||(M(O),M(T,A),d=!0)},o(A){U(O),U(T,A),d=!1},d(A){A&&v(e),n[28](null),O&&O.d(),T&&T.d(A),h.r(),_=!1,He(b)}}}const aa="text-center cursor-pointer transition-colors duration-100",la="";function ua(n,e,t){let r,i,o,s,l;const a=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let u=un(e,a),{$$slots:c={},$$scope:f}=e;const d=Qr(c);let{group:h}=e,{name:_}=e,{value:b}=e,{title:y=""}=e,{controls:w=""}=e,{regionTab:O=""}=e,{active:R=it("active")}=e,{hover:T=it("hover")}=e,{flex:A=it("flex")}=e,{padding:S=it("padding")}=e,{rounded:L=it("rounded")}=e,{spacing:q=it("spacing")}=e,D;function K(J){if(["Enter","Space"].includes(J.code))J.preventDefault(),D.click();else if(J.code==="ArrowRight"){const _e=D.closest(".tab-list");if(!_e)return;const pe=Array.from(_e.querySelectorAll(".tab")),Q=D.closest(".tab");if(!Q)return;const te=pe.indexOf(Q),se=te+1>=pe.length?0:te+1,ae=pe[se],qe=ae==null?void 0:ae.querySelector("input");ae&&qe&&(qe.click(),ae.focus())}else if(J.code==="ArrowLeft"){const _e=D.closest(".tab-list");if(!_e)return;const pe=Array.from(_e.querySelectorAll(".tab")),Q=D.closest(".tab");if(!Q)return;const te=pe.indexOf(Q),se=te-1<0?pe.length-1:te-1,ae=pe[se],qe=ae==null?void 0:ae.querySelector("input");ae&&qe&&(qe.click(),ae.focus())}}function $(){return delete u.class,u}const W=[[]];function ee(J){Qe.call(this,n,J)}function ne(J){Qe.call(this,n,J)}function Y(J){Qe.call(this,n,J)}function z(J){Qe.call(this,n,J)}function G(J){Qe.call(this,n,J)}function re(J){Os[J?"unshift":"push"](()=>{D=J,t(6,D)})}function he(){h=this.__value,t(0,h)}return n.$$set=J=>{t(32,e=Ue(Ue({},e),Ke(J))),t(31,u=un(e,a)),"group"in J&&t(0,h=J.group),"name"in J&&t(1,_=J.name),"value"in J&&t(2,b=J.value),"title"in J&&t(3,y=J.title),"controls"in J&&t(4,w=J.controls),"regionTab"in J&&t(13,O=J.regionTab),"active"in J&&t(14,R=J.active),"hover"in J&&t(15,T=J.hover),"flex"in J&&t(16,A=J.flex),"padding"in J&&t(17,S=J.padding),"rounded"in J&&t(18,L=J.rounded),"spacing"in J&&t(19,q=J.spacing),"$$scope"in J&&t(21,f=J.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&5&&t(5,r=b===h),n.$$.dirty[0]&49184&&t(20,i=r?R:T),t(9,o=`${aa} ${A} ${S} ${L} ${i} ${e.class??""}`),n.$$.dirty[0]&524288&&t(8,s=`${la} ${q}`),n.$$.dirty[0]&8192&&t(7,l=`${O}`)},e=Ke(e),[h,_,b,y,w,r,D,l,s,o,K,$,d,O,R,T,A,S,L,q,i,f,c,ee,ne,Y,z,G,re,he,W]}class $d extends Te{constructor(e){super(),De(this,e,ua,sa,Oe,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}function Sn(n){let e=n[12],t,r,i=Rn(n);return{c(){i.c(),t=x()},l(o){i.l(o),t=x()},m(o,s){i.m(o,s),I(o,t,s),r=!0},p(o,s){s[0]&4096&&Oe(e,e=o[12])?(ie(),U(i,1,1,H),oe(),i=Rn(o),i.c(),M(i,1),i.m(t.parentNode,t)):i.p(o,s)},i(o){r||(M(i),r=!0)},o(o){U(i),r=!1},d(o){o&&v(t),i.d(o)}}}function ca(n){var u,c;let e,t,r,i,o;const s=[(u=n[14])==null?void 0:u.props,{parent:n[15]}];var l=(c=n[14])==null?void 0:c.ref;function a(f){let d={$$slots:{default:[da]},$$scope:{ctx:f}};for(let h=0;h<s.length;h+=1)d=Ue(d,s[h]);return{props:d}}return l&&(t=cn(l,a(n))),{c(){e=g("div"),t&&le(t.$$.fragment),this.h()},l(f){e=k(f,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var d=E(e);t&&fe(t.$$.fragment,d),d.forEach(v),this.h()},h(){var f;m(e,"class",r="modal contents "+(((f=n[12][0])==null?void 0:f.modalClasses)??"")),m(e,"data-testid","modal-component"),m(e,"role","dialog"),m(e,"aria-modal","true"),m(e,"aria-label",i=n[12][0].title??"")},m(f,d){I(f,e,d),t&&ue(t,e,null),o=!0},p(f,d){var _,b,y;const h=d[0]&49152?Kr(s,[d[0]&16384&&Is((_=f[14])==null?void 0:_.props),d[0]&32768&&{parent:f[15]}]):{};if(d[0]&16384|d[1]&8192&&(h.$$scope={dirty:d,ctx:f}),d[0]&16384&&l!==(l=(b=f[14])==null?void 0:b.ref)){if(t){ie();const w=t;U(w.$$.fragment,1,0,()=>{ce(w,1)}),oe()}l?(t=cn(l,a(f)),le(t.$$.fragment),M(t.$$.fragment,1),ue(t,e,null)):t=null}else l&&t.$set(h);(!o||d[0]&4096&&r!==(r="modal contents "+(((y=f[12][0])==null?void 0:y.modalClasses)??"")))&&m(e,"class",r),(!o||d[0]&4096&&i!==(i=f[12][0].title??""))&&m(e,"aria-label",i)},i(f){o||(t&&M(t.$$.fragment,f),o=!0)},o(f){t&&U(t.$$.fragment,f),o=!1},d(f){f&&v(e),t&&ce(t)}}}function fa(n){var b,y,w,O;let e,t,r,i,o,s,l,a,u=((b=n[12][0])==null?void 0:b.title)&&Cn(n),c=((y=n[12][0])==null?void 0:y.body)&&Pn(n),f=((w=n[12][0])==null?void 0:w.image)&&typeof((O=n[12][0])==null?void 0:O.image)=="string"&&qn(n);function d(R,T){if(R[12][0].type==="alert")return va;if(R[12][0].type==="confirm")return _a;if(R[12][0].type==="prompt")return ha}let h=d(n),_=h&&h(n);return{c(){e=g("div"),u&&u.c(),t=j(),c&&c.c(),r=j(),f&&f.c(),i=j(),_&&_.c(),this.h()},l(R){e=k(R,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var T=E(e);u&&u.l(T),t=F(T),c&&c.l(T),r=F(T),f&&f.l(T),i=F(T),_&&_.l(T),T.forEach(v),this.h()},h(){m(e,"class",o="modal "+n[16]),m(e,"data-testid","modal"),m(e,"role","dialog"),m(e,"aria-modal","true"),m(e,"aria-label",s=n[12][0].title??"")},m(R,T){I(R,e,T),u&&u.m(e,null),p(e,t),c&&c.m(e,null),p(e,r),f&&f.m(e,null),p(e,i),_&&_.m(e,null),a=!0},p(R,T){var A,S,L,q;n=R,(A=n[12][0])!=null&&A.title?u?u.p(n,T):(u=Cn(n),u.c(),u.m(e,t)):u&&(u.d(1),u=null),(S=n[12][0])!=null&&S.body?c?c.p(n,T):(c=Pn(n),c.c(),c.m(e,r)):c&&(c.d(1),c=null),(L=n[12][0])!=null&&L.image&&typeof((q=n[12][0])==null?void 0:q.image)=="string"?f?f.p(n,T):(f=qn(n),f.c(),f.m(e,i)):f&&(f.d(1),f=null),h===(h=d(n))&&_?_.p(n,T):(_&&_.d(1),_=h&&h(n),_&&(_.c(),_.m(e,null))),(!a||T[0]&65536&&o!==(o="modal "+n[16]))&&m(e,"class",o),(!a||T[0]&4096&&s!==(s=n[12][0].title??""))&&m(e,"aria-label",s)},i(R){a||(or(()=>{a&&(l||(l=ft(e,ar,{duration:n[3],opacity:0,y:100},!0)),l.run(1))}),a=!0)},o(R){l||(l=ft(e,ar,{duration:n[3],opacity:0,y:100},!1)),l.run(0),a=!1},d(R){R&&v(e),u&&u.d(),c&&c.d(),f&&f.d(),_&&_.d(),R&&l&&l.end()}}}function In(n){var i;let e,t=((i=n[14])==null?void 0:i.slot)+"",r;return{c(){e=new Cs(!1),r=x(),this.h()},l(o){e=Ps(o,!1),r=x(),this.h()},h(){e.a=r},m(o,s){e.m(t,o,s),I(o,r,s)},p(o,s){var l;s[0]&16384&&t!==(t=((l=o[14])==null?void 0:l.slot)+"")&&e.p(t)},d(o){o&&v(r),o&&e.d()}}}function da(n){var r;let e,t=((r=n[14])==null?void 0:r.slot)&&In(n);return{c(){t&&t.c(),e=x()},l(i){t&&t.l(i),e=x()},m(i,o){t&&t.m(i,o),I(i,e,o)},p(i,o){var s;(s=i[14])!=null&&s.slot?t?t.p(i,o):(t=In(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&v(e)}}}function Cn(n){let e,t=n[12][0].title+"",r;return{c(){e=g("header"),this.h()},l(i){e=k(i,"HEADER",{class:!0});var o=E(e);o.forEach(v),this.h()},h(){m(e,"class",r="modal-header "+n[9])},m(i,o){I(i,e,o),e.innerHTML=t},p(i,o){o[0]&4096&&t!==(t=i[12][0].title+"")&&(e.innerHTML=t),o[0]&512&&r!==(r="modal-header "+i[9])&&m(e,"class",r)},d(i){i&&v(e)}}}function Pn(n){let e,t=n[12][0].body+"",r;return{c(){e=g("article"),this.h()},l(i){e=k(i,"ARTICLE",{class:!0});var o=E(e);o.forEach(v),this.h()},h(){m(e,"class",r="modal-body "+n[10])},m(i,o){I(i,e,o),e.innerHTML=t},p(i,o){o[0]&4096&&t!==(t=i[12][0].body+"")&&(e.innerHTML=t),o[0]&1024&&r!==(r="modal-body "+i[10])&&m(e,"class",r)},d(i){i&&v(e)}}}function qn(n){let e,t;return{c(){e=g("img"),this.h()},l(r){e=k(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var r;m(e,"class","modal-image "+ga),ve(e.src,t=(r=n[12][0])==null?void 0:r.image)||m(e,"src",t),m(e,"alt","Modal")},m(r,i){I(r,e,i)},p(r,i){var o;i[0]&4096&&!ve(e.src,t=(o=r[12][0])==null?void 0:o.image)&&m(e,"src",t)},d(r){r&&v(e)}}}function ha(n){let e,t,r,i,o,s,l,a,u,c,f,d,h,_,b=[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},n[12][0].valueAttr],y={};for(let w=0;w<b.length;w+=1)y=Ue(y,b[w]);return{c(){e=g("form"),t=g("input"),r=j(),i=g("footer"),o=g("button"),s=C(n[0]),a=j(),u=g("button"),c=C(n[2]),this.h()},l(w){e=k(w,"FORM",{class:!0});var O=E(e);t=k(O,"INPUT",{class:!0,name:!0,type:!0}),r=F(O),i=k(O,"FOOTER",{class:!0});var R=E(i);o=k(R,"BUTTON",{type:!0,class:!0});var T=E(o);s=P(T,n[0]),T.forEach(v),a=F(R),u=k(R,"BUTTON",{type:!0,class:!0});var A=E(u);c=P(A,n[2]),A.forEach(v),R.forEach(v),O.forEach(v),this.h()},h(){ir(t,y),m(o,"type","button"),m(o,"class",l="btn "+n[7]),m(u,"type","submit"),m(u,"class",f="btn "+n[8]),m(i,"class",d="modal-footer "+n[11]),m(e,"class","space-y-4")},m(w,O){I(w,e,O),p(e,t),t.autofocus&&t.focus(),sr(t,n[13]),p(e,r),p(e,i),p(i,o),p(o,s),p(i,a),p(i,u),p(u,c),h||(_=[X(t,"input",n[39]),X(o,"click",n[21]),X(e,"submit",n[23])],h=!0)},p(w,O){ir(t,y=Kr(b,[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},O[0]&4096&&w[12][0].valueAttr])),O[0]&8192&&t.value!==w[13]&&sr(t,w[13]),O[0]&1&&N(s,w[0]),O[0]&128&&l!==(l="btn "+w[7])&&m(o,"class",l),O[0]&4&&N(c,w[2]),O[0]&256&&f!==(f="btn "+w[8])&&m(u,"class",f),O[0]&2048&&d!==(d="modal-footer "+w[11])&&m(i,"class",d)},d(w){w&&v(e),h=!1,He(_)}}}function _a(n){let e,t,r,i,o,s,l,a,u,c,f;return{c(){e=g("footer"),t=g("button"),r=C(n[0]),o=j(),s=g("button"),l=C(n[1]),this.h()},l(d){e=k(d,"FOOTER",{class:!0});var h=E(e);t=k(h,"BUTTON",{type:!0,class:!0});var _=E(t);r=P(_,n[0]),_.forEach(v),o=F(h),s=k(h,"BUTTON",{type:!0,class:!0});var b=E(s);l=P(b,n[1]),b.forEach(v),h.forEach(v),this.h()},h(){m(t,"type","button"),m(t,"class",i="btn "+n[7]),m(s,"type","button"),m(s,"class",a="btn "+n[8]),m(e,"class",u="modal-footer "+n[11])},m(d,h){I(d,e,h),p(e,t),p(t,r),p(e,o),p(e,s),p(s,l),c||(f=[X(t,"click",n[21]),X(s,"click",n[22])],c=!0)},p(d,h){h[0]&1&&N(r,d[0]),h[0]&128&&i!==(i="btn "+d[7])&&m(t,"class",i),h[0]&2&&N(l,d[1]),h[0]&256&&a!==(a="btn "+d[8])&&m(s,"class",a),h[0]&2048&&u!==(u="modal-footer "+d[11])&&m(e,"class",u)},d(d){d&&v(e),c=!1,He(f)}}}function va(n){let e,t,r,i,o,s,l;return{c(){e=g("footer"),t=g("button"),r=C(n[0]),this.h()},l(a){e=k(a,"FOOTER",{class:!0});var u=E(e);t=k(u,"BUTTON",{type:!0,class:!0});var c=E(t);r=P(c,n[0]),c.forEach(v),u.forEach(v),this.h()},h(){m(t,"type","button"),m(t,"class",i="btn "+n[7]),m(e,"class",o="modal-footer "+n[11])},m(a,u){I(a,e,u),p(e,t),p(t,r),s||(l=X(t,"click",n[21]),s=!0)},p(a,u){u[0]&1&&N(r,a[0]),u[0]&128&&i!==(i="btn "+a[7])&&m(t,"class",i),u[0]&2048&&o!==(o="modal-footer "+a[11])&&m(e,"class",o)},d(a){a&&v(e),s=!1,l()}}}function Rn(n){let e,t,r,i,o,s,l,a,u,c,f;const d=[fa,ca],h=[];function _(b,y){return b[12][0].type!=="component"?0:1}return r=_(n),i=h[r]=d[r](n),{c(){e=g("div"),t=g("div"),i.c(),this.h()},l(b){e=k(b,"DIV",{class:!0,"data-testid":!0});var y=E(e);t=k(y,"DIV",{class:!0});var w=E(t);i.l(w),w.forEach(v),y.forEach(v),this.h()},h(){m(t,"class",o="modal-transition "+n[17]),m(e,"class",l="modal-backdrop "+n[18]),m(e,"data-testid","modal-backdrop")},m(b,y){I(b,e,y),p(e,t),h[r].m(t,null),u=!0,c||(f=[X(e,"mousedown",n[19]),X(e,"mouseup",n[20]),X(e,"touchstart",n[37]),X(e,"touchend",n[38]),Ss(Bs.call(null,e,!0))],c=!0)},p(b,y){n=b;let w=r;r=_(n),r===w?h[r].p(n,y):(ie(),U(h[w],1,1,()=>{h[w]=null}),oe(),i=h[r],i?i.p(n,y):(i=h[r]=d[r](n),i.c()),M(i,1),i.m(t,null)),(!u||y[0]&131072&&o!==(o="modal-transition "+n[17]))&&m(t,"class",o),(!u||y[0]&262144&&l!==(l="modal-backdrop "+n[18]))&&m(e,"class",l)},i(b){u||(M(i),or(()=>{u&&(s||(s=ft(t,ar,{duration:n[3],opacity:n[4],x:n[5],y:n[6]},!0)),s.run(1))}),or(()=>{u&&(a||(a=ft(e,dn,{duration:n[3]},!0)),a.run(1))}),u=!0)},o(b){U(i),s||(s=ft(t,ar,{duration:n[3],opacity:n[4],x:n[5],y:n[6]},!1)),s.run(0),a||(a=ft(e,dn,{duration:n[3]},!1)),a.run(0),u=!1},d(b){b&&v(e),h[r].d(),b&&s&&s.end(),b&&a&&a.end(),c=!1,He(f)}}}function pa(n){let e,t,r,i,o=n[12].length>0&&Sn(n);return{c(){o&&o.c(),e=x()},l(s){o&&o.l(s),e=x()},m(s,l){o&&o.m(s,l),I(s,e,l),t=!0,r||(i=X(window,"keydown",n[24]),r=!0)},p(s,l){s[12].length>0?o?(o.p(s,l),l[0]&4096&&M(o,1)):(o=Sn(s),o.c(),M(o,1),o.m(e.parentNode,e)):o&&(ie(),U(o,1,1,()=>{o=null}),oe())},i(s){t||(M(o),t=!0)},o(s){U(o),t=!1},d(s){o&&o.d(s),s&&v(e),r=!1,i()}}}const ma="fixed top-0 left-0 right-0 bottom-0",ba="w-full h-full p-4 overflow-y-auto flex justify-center",ya="block",ga="w-full h-auto";function ka(n,e,t){let r,i,o,s,l,a;Be(n,Re,V=>t(12,a=V));const u=Ro();let{position:c="items-center"}=e,{components:f={}}=e,{duration:d=150}=e,{flyOpacity:h=0}=e,{flyX:_=0}=e,{flyY:b=100}=e,{background:y="bg-surface-100-800-token"}=e,{width:w="w-modal"}=e,{height:O="h-auto"}=e,{padding:R="p-4"}=e,{spacing:T="space-y-4"}=e,{rounded:A="rounded-container-token"}=e,{shadow:S="shadow-xl"}=e,{zIndex:L="z-[999]"}=e,{buttonNeutral:q="variant-ghost-surface"}=e,{buttonPositive:D="variant-filled"}=e,{buttonTextCancel:K="Cancel"}=e,{buttonTextConfirm:$="Confirm"}=e,{buttonTextSubmit:W="Submit"}=e,{regionBackdrop:ee="bg-surface-backdrop-token"}=e,{regionHeader:ne="text-2xl font-bold"}=e,{regionBody:Y="max-h-[200px] overflow-hidden"}=e,{regionFooter:z="flex justify-end space-x-2"}=e,G;const re={buttonTextCancel:K,buttonTextConfirm:$,buttonTextSubmit:W};let he,J=!1;Re.subscribe(V=>{V.length&&(V[0].type==="prompt"&&t(13,G=V[0].value),t(0,K=V[0].buttonTextCancel||re.buttonTextCancel),t(1,$=V[0].buttonTextConfirm||re.buttonTextConfirm),t(2,W=V[0].buttonTextSubmit||re.buttonTextSubmit),t(14,he=typeof V[0].component=="string"?f[V[0].component]:V[0].component))});function _e(V){if(!(V.target instanceof Element))return;const ge=V.target.classList;(ge.contains("modal-backdrop")||ge.contains("modal-transition"))&&(J=!0)}function pe(V){if(!(V.target instanceof Element))return;const ge=V.target.classList;(ge.contains("modal-backdrop")||ge.contains("modal-transition"))&&J&&(a[0].response&&a[0].response(void 0),Re.close(),u("backdrop",V)),J=!1}function Q(){a[0].response&&a[0].response(!1),Re.close()}function te(){a[0].response&&a[0].response(!0),Re.close()}function se(V){V.preventDefault(),a[0].response&&a[0].response(G),Re.close()}function ae(V){a.length&&V.code==="Escape"&&Q()}function qe(V){Qe.call(this,n,V)}function de(V){Qe.call(this,n,V)}function Ae(){G=this.value,t(13,G)}return n.$$set=V=>{t(43,e=Ue(Ue({},e),Ke(V))),"position"in V&&t(25,c=V.position),"components"in V&&t(26,f=V.components),"duration"in V&&t(3,d=V.duration),"flyOpacity"in V&&t(4,h=V.flyOpacity),"flyX"in V&&t(5,_=V.flyX),"flyY"in V&&t(6,b=V.flyY),"background"in V&&t(27,y=V.background),"width"in V&&t(28,w=V.width),"height"in V&&t(29,O=V.height),"padding"in V&&t(30,R=V.padding),"spacing"in V&&t(31,T=V.spacing),"rounded"in V&&t(32,A=V.rounded),"shadow"in V&&t(33,S=V.shadow),"zIndex"in V&&t(34,L=V.zIndex),"buttonNeutral"in V&&t(7,q=V.buttonNeutral),"buttonPositive"in V&&t(8,D=V.buttonPositive),"buttonTextCancel"in V&&t(0,K=V.buttonTextCancel),"buttonTextConfirm"in V&&t(1,$=V.buttonTextConfirm),"buttonTextSubmit"in V&&t(2,W=V.buttonTextSubmit),"regionBackdrop"in V&&t(35,ee=V.regionBackdrop),"regionHeader"in V&&t(9,ne=V.regionHeader),"regionBody"in V&&t(10,Y=V.regionBody),"regionFooter"in V&&t(11,z=V.regionFooter)},n.$$.update=()=>{var V,ge,je;n.$$.dirty[0]&33558528&&t(36,r=((V=a[0])==null?void 0:V.position)??c),t(18,i=`${ma} ${ee} ${L} ${e.class??""} ${((ge=a[0])==null?void 0:ge.backdropClasses)??""}`),n.$$.dirty[1]&32&&t(17,o=`${ba} ${r??""}`),n.$$.dirty[0]&2013270016|n.$$.dirty[1]&7&&t(16,s=`${ya} ${y} ${w} ${O} ${R} ${T} ${A} ${S} ${((je=a[0])==null?void 0:je.modalClasses)??""}`),n.$$.dirty[0]&2046824447|n.$$.dirty[1]&23&&t(15,l={position:c,duration:d,flyOpacity:h,flyX:_,flyY:b,background:y,width:w,height:O,padding:R,spacing:T,rounded:A,shadow:S,buttonNeutral:q,buttonPositive:D,buttonTextCancel:K,buttonTextConfirm:$,buttonTextSubmit:W,regionBackdrop:ee,regionHeader:ne,regionBody:Y,regionFooter:z,onClose:Q})},e=Ke(e),[K,$,W,d,h,_,b,q,D,ne,Y,z,a,G,he,l,s,o,i,_e,pe,Q,te,se,ae,c,f,y,w,O,R,T,A,S,L,ee,r,qe,de,Ae]}class eh extends Te{constructor(e){super(),De(this,e,ka,pa,Oe,{position:25,components:26,duration:3,flyOpacity:4,flyX:5,flyY:6,background:27,width:28,height:29,padding:30,spacing:31,rounded:32,shadow:33,zIndex:34,buttonNeutral:7,buttonPositive:8,buttonTextCancel:0,buttonTextConfirm:1,buttonTextSubmit:2,regionBackdrop:35,regionHeader:9,regionBody:10,regionFooter:11},null,[-1,-1])}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */const zr=ur();var Nr=function(n,e){return Nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Nr(n,e)};function Gr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Nr(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function wa(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(c){try{u(r.next(c))}catch(f){s(f)}}function a(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?o(c.value):i(c.value).then(l,a)}u((r=r.apply(n,e||[])).next())})}function Mo(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(c){return a([u,c])}}function a(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Qt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cr(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function fr(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}function dt(n){return this instanceof dt?(this.v=n,this):new dt(n)}function Ea(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(d){r[d]&&(i[d]=function(h){return new Promise(function(_,b){o.push([d,h,_,b])>1||l(d,h)})})}function l(d,h){try{a(r[d](h))}catch(_){f(o[0][3],_)}}function a(d){d.value instanceof dt?Promise.resolve(d.value.v).then(u,c):f(o[0][2],d)}function u(d){l("next",d)}function c(d){l("throw",d)}function f(d,h){d(h),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Oa(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Qt=="function"?Qt(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(l,a){s=n[o](s),i(l,a,s.done,s.value)})}}function i(o,s,l,a){Promise.resolve(a).then(function(u){o({value:u,done:l})},s)}}function Ee(n){return typeof n=="function"}function Sa(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var wr=Sa(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Tn(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Jr=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=Qt(s),a=l.next();!a.done;a=l.next()){var u=a.value;u.remove(this)}}catch(b){e={error:b}}finally{try{a&&!a.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else s.remove(this);var c=this.initialTeardown;if(Ee(c))try{c()}catch(b){o=b instanceof wr?b.errors:[b]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var d=Qt(f),h=d.next();!h.done;h=d.next()){var _=h.value;try{Dn(_)}catch(b){o=o??[],b instanceof wr?o=fr(fr([],cr(o)),cr(b.errors)):o.push(b)}}}catch(b){r={error:b}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}if(o)throw new wr(o)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Dn(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Tn(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&Tn(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}();Jr.EMPTY;function Ao(n){return n instanceof Jr||n&&"closed"in n&&Ee(n.remove)&&Ee(n.add)&&Ee(n.unsubscribe)}function Dn(n){Ee(n)?n():n.unsubscribe()}var No={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ur={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=Ur.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,fr([n,e],cr(t))):setTimeout.apply(void 0,fr([n,e],cr(t)))},clearTimeout:function(n){var e=Ur.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Uo(n){Ur.setTimeout(function(){throw n})}function Ln(){}function Ia(n){n()}var Wr=function(n){Gr(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Ao(t)&&t.add(r)):r.destination=Ra,r}return e.create=function(t,r,i){return new jr(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Jr),Ca=Function.prototype.bind;function Er(n,e){return Ca.call(n,e)}var Pa=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){Xt(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){Xt(r)}else Xt(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Xt(t)}},n}(),jr=function(n){Gr(e,n);function e(t,r,i){var o=n.call(this)||this,s;if(Ee(t)||!t)s={next:t??void 0,error:r??void 0,complete:i??void 0};else{var l;o&&No.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=function(){return o.unsubscribe()},s={next:t.next&&Er(t.next,l),error:t.error&&Er(t.error,l),complete:t.complete&&Er(t.complete,l)}):s=t}return o.destination=new Pa(s),o}return e}(Wr);function Xt(n){Uo(n)}function qa(n){throw n}var Ra={closed:!0,next:Ln,error:qa,complete:Ln},Yr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function jo(n){return n}function mr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Fo(n)}function Fo(n){return n.length===0?jo:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var ze=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,o=Da(e)?e:new jr(e,t,r);return Ia(function(){var s=i,l=s.operator,a=s.source;o.add(l?l.call(o,a):a?i._subscribe(o):i._trySubscribe(o))}),o},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=Mn(t),new t(function(i,o){var s=new jr({next:function(l){try{e(l)}catch(a){o(a),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[Yr]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Fo(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=Mn(e),new e(function(r,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},n.create=function(e){return new n(e)},n}();function Mn(n){var e;return(e=n??No.Promise)!==null&&e!==void 0?e:Promise}function Ta(n){return n&&Ee(n.next)&&Ee(n.error)&&Ee(n.complete)}function Da(n){return n&&n instanceof Wr||Ta(n)&&Ao(n)}function La(n){return Ee(n==null?void 0:n.lift)}function at(n){return function(e){if(La(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ht(n,e,t,r,i){return new Ma(n,e,t,r,i)}var Ma=function(n){Gr(e,n);function e(t,r,i,o,s,l){var a=n.call(this,t)||this;return a.onFinalize=s,a.shouldUnsubscribe=l,a._next=r?function(u){try{r(u)}catch(c){t.error(c)}}:n.prototype._next,a._error=o?function(u){try{o(u)}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._error,a._complete=i?function(){try{i()}catch(u){t.error(u)}finally{this.unsubscribe()}}:n.prototype._complete,a}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Wr);function Aa(n){return n&&Ee(n.schedule)}function Na(n){return n[n.length-1]}function Vo(n){return Aa(Na(n))?n.pop():void 0}var Bo=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function Ho(n){return Ee(n==null?void 0:n.then)}function Qo(n){return Ee(n[Yr])}function Ko(n){return Symbol.asyncIterator&&Ee(n==null?void 0:n[Symbol.asyncIterator])}function zo(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ua(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Go=Ua();function Jo(n){return Ee(n==null?void 0:n[Go])}function Wo(n){return Ea(this,arguments,function(){var t,r,i,o;return Mo(this,function(s){switch(s.label){case 0:t=n.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,dt(t.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,dt(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,dt(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Yo(n){return Ee(n==null?void 0:n.getReader)}function zt(n){if(n instanceof ze)return n;if(n!=null){if(Qo(n))return ja(n);if(Bo(n))return Fa(n);if(Ho(n))return Va(n);if(Ko(n))return Xo(n);if(Jo(n))return Ba(n);if(Yo(n))return Ha(n)}throw zo(n)}function ja(n){return new ze(function(e){var t=n[Yr]();if(Ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Fa(n){return new ze(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Va(n){return new ze(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Uo)})}function Ba(n){return new ze(function(e){var t,r;try{for(var i=Qt(n),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function Xo(n){return new ze(function(e){Qa(n,e).catch(function(t){return e.error(t)})})}function Ha(n){return Xo(Wo(n))}function Qa(n,e){var t,r,i,o;return wa(this,void 0,void 0,function(){var s,l;return Mo(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),t=Oa(n),a.label=1;case 1:return[4,t.next()];case 2:if(r=a.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=a.sent(),i={error:l},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Ye(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Zo(n,e){return e===void 0&&(e=0),at(function(t,r){t.subscribe(ht(r,function(i){return Ye(r,n,function(){return r.next(i)},e)},function(){return Ye(r,n,function(){return r.complete()},e)},function(i){return Ye(r,n,function(){return r.error(i)},e)}))})}function xo(n,e){return e===void 0&&(e=0),at(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function Ka(n,e){return zt(n).pipe(xo(e),Zo(e))}function za(n,e){return zt(n).pipe(xo(e),Zo(e))}function Ga(n,e){return new ze(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Ja(n,e){return new ze(function(t){var r;return Ye(t,e,function(){r=n[Go](),Ye(t,e,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(l){t.error(l);return}s?t.complete():t.next(o)},0,!0)}),function(){return Ee(r==null?void 0:r.return)&&r.return()}})}function $o(n,e){if(!n)throw new Error("Iterable cannot be null");return new ze(function(t){Ye(t,e,function(){var r=n[Symbol.asyncIterator]();Ye(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function Wa(n,e){return $o(Wo(n),e)}function Ya(n,e){if(n!=null){if(Qo(n))return Ka(n,e);if(Bo(n))return Ga(n,e);if(Ho(n))return za(n,e);if(Ko(n))return $o(n,e);if(Jo(n))return Ja(n,e);if(Yo(n))return Wa(n,e)}throw zo(n)}function es(n,e){return e?Ya(n,e):zt(n)}function Xr(n,e){return at(function(t,r){var i=0;t.subscribe(ht(r,function(o){r.next(n.call(e,o,i++))}))})}function Xa(n,e,t,r,i,o,s,l){var a=[],u=0,c=0,f=!1,d=function(){f&&!a.length&&!u&&e.complete()},h=function(b){return u<r?_(b):a.push(b)},_=function(b){o&&e.next(b),u++;var y=!1;zt(t(b,c++)).subscribe(ht(e,function(w){i==null||i(w),o?h(w):e.next(w)},function(){y=!0},void 0,function(){if(y)try{u--;for(var w=function(){var O=a.shift();s?Ye(e,s,function(){return _(O)}):_(O)};a.length&&u<r;)w();d()}catch(O){e.error(O)}}))};return n.subscribe(ht(e,h,function(){f=!0,d()})),function(){l==null||l()}}function ts(n,e,t){return t===void 0&&(t=1/0),Ee(e)?ts(function(r,i){return Xr(function(o,s){return e(r,o,i,s)})(zt(n(r,i)))},t):(typeof e=="number"&&(t=e),at(function(r,i){return Xa(r,i,n,t)}))}function Za(n){return n===void 0&&(n=1/0),ts(jo,n)}function xa(){return Za(1)}function An(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return xa()(es(n,Vo(n)))}function rs(n,e){return at(function(t,r){var i=0;t.subscribe(ht(r,function(o){return n.call(e,o,i++)&&r.next(o)}))})}function $a(n,e,t,r,i){return function(o,s){var l=t,a=e,u=0;o.subscribe(ht(s,function(c){var f=u++;a=l?n(a,c,f):(l=!0,c),r&&s.next(a)},i&&function(){l&&s.next(a),s.complete()}))}}function el(n,e){return at($a(n,e,arguments.length>=2,!0))}function tl(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Vo(n);return at(function(r,i){(t?An(n,r,t):An(n,r)).subscribe(i)})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function rl(n){return rs(e=>e.event.id===n)}function nl(n){return rs(e=>e.event.pubkey===n)}function il(){return el((n,e)=>[...n,e],[])}function ol(n){return mr(il(),Xr(e=>{const t=new Map;return e.forEach(r=>{const i=n(r),o=t.get(i);o?t.set(i,[...o,r]):t.set(i,[r])}),t}))}function sl(n){return mr(ol(n),Xr(e=>Array.from(e.entries()).map(([,t])=>t.slice(-1)[0])))}class Gt{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Kt=typeof window>"u"||"Deno"in window;function Ve(){}function al(n,e){return typeof n=="function"?n(e):n}function Fr(n){return typeof n=="number"&&n>=0&&n!==1/0}function ns(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Bt(n,e,t){return br(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function We(n,e,t){return br(n)?[{...e,queryKey:n},t]:[n||{},e]}function Nn(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:l}=n;if(br(s)){if(r){if(e.queryHash!==Zr(s,e.options))return!1}else if(!dr(e.queryKey,s))return!1}if(t!=="all"){const a=e.isActive();if(t==="active"&&!a||t==="inactive"&&a)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i<"u"&&i!==e.state.fetchStatus||o&&!o(e))}function Un(n,e){const{exact:t,fetching:r,predicate:i,mutationKey:o}=n;if(br(o)){if(!e.options.mutationKey)return!1;if(t){if(ot(e.options.mutationKey)!==ot(o))return!1}else if(!dr(e.options.mutationKey,o))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Zr(n,e){return((e==null?void 0:e.queryKeyHashFn)||ot)(n)}function ot(n){return JSON.stringify(n,(e,t)=>Vr(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function dr(n,e){return is(n,e)}function is(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!is(n[t],e[t])):!1}function os(n,e){if(n===e)return n;const t=Fn(n)&&Fn(e);if(t||Vr(n)&&Vr(e)){const r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),o=i.length,s=t?[]:{};let l=0;for(let a=0;a<o;a++){const u=t?a:i[a];s[u]=os(n[u],e[u]),s[u]===n[u]&&l++}return r===o&&l===r?n:s}return e}function jn(n,e){if(n&&!e||e&&!n)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Fn(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Vr(n){if(!Vn(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!Vn(t)||!t.hasOwnProperty("isPrototypeOf"))}function Vn(n){return Object.prototype.toString.call(n)==="[object Object]"}function br(n){return Array.isArray(n)}function ss(n){return new Promise(e=>{setTimeout(e,n)})}function Bn(n){ss(0).then(n)}function ll(){if(typeof AbortController=="function")return new AbortController}function Br(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?os(n,e):e}class ul extends Gt{constructor(){super(),this.setup=e=>{if(!Kt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const hr=new ul,Hn=["online","offline"];class cl extends Gt{constructor(){super(),this.setup=e=>{if(!Kt&&window.addEventListener){const t=()=>e();return Hn.forEach(r=>{window.addEventListener(r,t,!1)}),()=>{Hn.forEach(r=>{window.removeEventListener(r,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const _r=new cl;function fl(n){return Math.min(1e3*2**n,3e4)}function yr(n){return(n??"online")==="online"?_r.isOnline():!0}class as{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function nr(n){return n instanceof as}function ls(n){let e=!1,t=0,r=!1,i,o,s;const l=new Promise((y,w)=>{o=y,s=w}),a=y=>{r||(h(new as(y)),n.abort==null||n.abort())},u=()=>{e=!0},c=()=>{e=!1},f=()=>!hr.isFocused()||n.networkMode!=="always"&&!_r.isOnline(),d=y=>{r||(r=!0,n.onSuccess==null||n.onSuccess(y),i==null||i(),o(y))},h=y=>{r||(r=!0,n.onError==null||n.onError(y),i==null||i(),s(y))},_=()=>new Promise(y=>{i=w=>{const O=r||!f();return O&&y(w),O},n.onPause==null||n.onPause()}).then(()=>{i=void 0,r||n.onContinue==null||n.onContinue()}),b=()=>{if(r)return;let y;try{y=n.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(d).catch(w=>{var O,R;if(r)return;const T=(O=n.retry)!=null?O:3,A=(R=n.retryDelay)!=null?R:fl,S=typeof A=="function"?A(t,w):A,L=T===!0||typeof T=="number"&&t<T||typeof T=="function"&&T(t,w);if(e||!L){h(w);return}t++,n.onFail==null||n.onFail(t,w),ss(S).then(()=>{if(f())return _()}).then(()=>{e?h(w):b()})})};return yr(n.networkMode)?b():_().then(b),{promise:l,cancel:a,continue:()=>(i==null?void 0:i())?l:Promise.resolve(),cancelRetry:u,continueRetry:c}}const xr=console;function dl(){let n=[],e=0,t=c=>{c()},r=c=>{c()};const i=c=>{let f;e++;try{f=c()}finally{e--,e||l()}return f},o=c=>{e?n.push(c):Bn(()=>{t(c)})},s=c=>(...f)=>{o(()=>{c(...f)})},l=()=>{const c=n;n=[],c.length&&Bn(()=>{r(()=>{c.forEach(f=>{t(f)})})})};return{batch:i,batchCalls:s,schedule:o,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c}}}const ye=dl();class us{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fr(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Kt?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class hl extends us{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||xr,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||_l(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const r=Br(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(e),r?r.then(Ve).catch(Ve):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ns(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(_=>_.options.queryFn);h&&this.setOptions(h.options)}Array.isArray(this.options.queryKey);const s=ll(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},a=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};a(l);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),c={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(a(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=c.fetchOptions)==null?void 0:f.meta})}const d=h=>{if(nr(h)&&h.silent||this.dispatch({type:"error",error:h}),!nr(h)){var _,b,y,w;(_=(b=this.cache.config).onError)==null||_.call(b,h,this),(y=(w=this.cache.config).onSettled)==null||y.call(w,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=ls({fn:c.fetchFn,abort:s==null?void 0:s.abort.bind(s),onSuccess:h=>{var _,b,y,w;if(typeof h>"u"){d(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(_=(b=this.cache.config).onSuccess)==null||_.call(b,h,this),(y=(w=this.cache.config).onSettled)==null||y.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:d,onFail:(h,_)=>{this.dispatch({type:"failed",failureCount:h,error:_})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=r=>{var i,o;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:yr(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=e.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return nr(s)&&s.revert&&this.revertState?{...this.revertState}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ye.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function _l(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class vl extends Gt{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var i;const o=t.queryKey,s=(i=t.queryHash)!=null?i:Zr(o,t);let l=this.get(s);return l||(l=new hl({cache:this,logger:e.getLogger(),queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){ye.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=We(e,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Nn(r,i))}findAll(e,t){const[r]=We(e,t);return Object.keys(r).length>0?this.queries.filter(i=>Nn(r,i)):this.queries}notify(e){ye.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){ye.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){ye.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class pl extends us{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||xr,this.observers=[],this.state=e.state||ml(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return(e=(t=this.retryer)==null?void 0:t.continue())!=null?e:this.execute()}async execute(){const e=()=>{var L;return this.retryer=ls({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(q,D)=>{this.dispatch({type:"failed",failureCount:q,error:D})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(L=this.options.retry)!=null?L:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,i,o,s,l,a,u,c;if(!t){var f,d,h,_;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(d=this.mutationCache.config).onMutate)==null?void 0:f.call(d,this.state.variables,this));const q=await((h=(_=this.options).onMutate)==null?void 0:h.call(_,this.state.variables));q!==this.state.context&&this.dispatch({type:"loading",context:q,variables:this.state.variables})}const L=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,L,this.state.variables,this.state.context,this)),await((o=(s=this.options).onSuccess)==null?void 0:o.call(s,L,this.state.variables,this.state.context)),await((l=(a=this.mutationCache.config).onSettled)==null?void 0:l.call(a,L,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,L,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:L}),L}catch(L){try{var b,y,w,O,R,T,A,S;throw await((b=(y=this.mutationCache.config).onError)==null?void 0:b.call(y,L,this.state.variables,this.state.context,this)),await((w=(O=this.options).onError)==null?void 0:w.call(O,L,this.state.variables,this.state.context)),await((R=(T=this.mutationCache.config).onSettled)==null?void 0:R.call(T,void 0,L,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,L,this.state.variables,this.state.context)),L}finally{this.dispatch({type:"error",error:L})}}}dispatch(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!yr(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=t(this.state),ye.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function ml(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class bl extends Gt{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const i=new pl({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){ye.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>Un(e,t))}findAll(e){return this.mutations.filter(t=>Un(e,t))}notify(e){ye.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const t=this.mutations.filter(r=>r.state.isPaused);return ye.batch(()=>t.reduce((r,i)=>r.then(()=>i.continue().catch(Ve)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function yl(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,r,i,o,s;const l=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,a=(r=n.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=a==null?void 0:a.pageParam,c=(a==null?void 0:a.direction)==="forward",f=(a==null?void 0:a.direction)==="backward",d=((o=n.state.data)==null?void 0:o.pages)||[],h=((s=n.state.data)==null?void 0:s.pageParams)||[];let _=h,b=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>{var L;if((L=n.signal)!=null&&L.aborted)b=!0;else{var q;(q=n.signal)==null||q.addEventListener("abort",()=>{b=!0})}return n.signal}})},w=n.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+n.options.queryHash+"'")),O=(S,L,q,D)=>(_=D?[L,..._]:[..._,L],D?[q,...S]:[...S,q]),R=(S,L,q,D)=>{if(b)return Promise.reject("Cancelled");if(typeof q>"u"&&!L&&S.length)return Promise.resolve(S);const K={queryKey:n.queryKey,pageParam:q,meta:n.options.meta};y(K);const $=w(K);return Promise.resolve($).then(ee=>O(S,q,ee,D))};let T;if(!d.length)T=R([]);else if(c){const S=typeof u<"u",L=S?u:Qn(n.options,d);T=R(d,S,L)}else if(f){const S=typeof u<"u",L=S?u:gl(n.options,d);T=R(d,S,L,!0)}else{_=[];const S=typeof n.options.getNextPageParam>"u";T=(l&&d[0]?l(d[0],0,d):!0)?R([],S,h[0]):Promise.resolve(O([],h[0],d[0]));for(let q=1;q<d.length;q++)T=T.then(D=>{if(l&&d[q]?l(d[q],q,d):!0){const $=S?h[q]:Qn(n.options,D);return R(D,S,$)}return Promise.resolve(O(D,h[q],d[q]))})}return T.then(S=>({pages:S,pageParams:_}))}}}}function Qn(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function gl(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}class cs{constructor(e={}){this.queryCache=e.queryCache||new vl,this.mutationCache=e.mutationCache||new bl,this.logger=e.logger||xr,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=hr.subscribe(()=>{hr.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=_r.subscribe(()=>{_r.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[r]=We(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state.data}ensureQueryData(e,t,r){const i=Bt(e,t,r),o=this.getQueryData(i.queryKey);return o?Promise.resolve(o):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.queryCache.find(e),o=i==null?void 0:i.state.data,s=al(t,o);if(typeof s>"u")return;const l=Bt(e),a=this.defaultQueryOptions(l);return this.queryCache.build(this,a).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return ye.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state}removeQueries(e,t){const[r]=We(e,t),i=this.queryCache;ye.batch(()=>{i.findAll(r).forEach(o=>{i.remove(o)})})}resetQueries(e,t,r){const[i,o]=We(e,t,r),s=this.queryCache,l={type:"active",...i};return ye.batch(()=>(s.findAll(i).forEach(a=>{a.reset()}),this.refetchQueries(l,o)))}cancelQueries(e,t,r){const[i,o={}]=We(e,t,r);typeof o.revert>"u"&&(o.revert=!0);const s=ye.batch(()=>this.queryCache.findAll(i).map(l=>l.cancel(o)));return Promise.all(s).then(Ve).catch(Ve)}invalidateQueries(e,t,r){const[i,o]=We(e,t,r);return ye.batch(()=>{var s,l;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const a={...i,type:(s=(l=i.refetchType)!=null?l:i.type)!=null?s:"active"};return this.refetchQueries(a,o)})}refetchQueries(e,t,r){const[i,o]=We(e,t,r),s=ye.batch(()=>this.queryCache.findAll(i).filter(a=>!a.isDisabled()).map(a=>{var u;return a.fetch(void 0,{...o,cancelRefetch:(u=o==null?void 0:o.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let l=Promise.all(s).then(Ve);return o!=null&&o.throwOnError||(l=l.catch(Ve)),l}fetchQuery(e,t,r){const i=Bt(e,t,r),o=this.defaultQueryOptions(i);typeof o.retry>"u"&&(o.retry=!1);const s=this.queryCache.build(this,o);return s.isStaleByTime(o.staleTime)?s.fetch(o):Promise.resolve(s.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(Ve).catch(Ve)}fetchInfiniteQuery(e,t,r){const i=Bt(e,t,r);return i.behavior=yl(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(Ve).catch(Ve)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find(i=>ot(e)===ot(i.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(r=>dr(e,r.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find(i=>ot(e)===ot(i.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(r=>dr(e,r.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Zr(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class kl extends Gt{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Kn(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hr(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hr(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),jn(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const o=this.hasListeners();o&&zn(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(t),o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();o&&(this.currentQuery!==i||this.options.enabled!==r.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),r=this.createResult(t,e);return El(this,r,e)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Ve)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Kt||this.currentResult.isStale||!Fr(this.options.staleTime))return;const t=ns(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Kt||this.options.enabled===!1||!Fr(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||hr.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,i=this.options,o=this.currentResult,s=this.currentResultState,l=this.currentResultOptions,a=e!==r,u=a?e.state:this.currentQueryInitialState,c=a?this.currentResult:this.previousQueryResult,{state:f}=e;let{dataUpdatedAt:d,error:h,errorUpdatedAt:_,fetchStatus:b,status:y}=f,w=!1,O=!1,R;if(t._optimisticResults){const q=this.hasListeners(),D=!q&&Kn(e,t),K=q&&zn(e,r,t,i);(D||K)&&(b=yr(e.options.networkMode)?"fetching":"paused",d||(y="loading")),t._optimisticResults==="isRestoring"&&(b="idle")}if(t.keepPreviousData&&!f.dataUpdatedAt&&c!=null&&c.isSuccess&&y!=="error")R=c.data,d=c.dataUpdatedAt,y=c.status,w=!0;else if(t.select&&typeof f.data<"u")if(o&&f.data===(s==null?void 0:s.data)&&t.select===this.selectFn)R=this.selectResult;else try{this.selectFn=t.select,R=t.select(f.data),R=Br(o==null?void 0:o.data,R,t),this.selectResult=R,this.selectError=null}catch(q){this.selectError=q}else R=f.data;if(typeof t.placeholderData<"u"&&typeof R>"u"&&y==="loading"){let q;if(o!=null&&o.isPlaceholderData&&t.placeholderData===(l==null?void 0:l.placeholderData))q=o.data;else if(q=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof q<"u")try{q=t.select(q),this.selectError=null}catch(D){this.selectError=D}typeof q<"u"&&(y="success",R=Br(o==null?void 0:o.data,q,t),O=!0)}this.selectError&&(h=this.selectError,R=this.selectResult,_=Date.now(),y="error");const T=b==="fetching",A=y==="loading",S=y==="error";return{status:y,fetchStatus:b,isLoading:A,isSuccess:y==="success",isError:S,isInitialLoading:A&&T,data:R,dataUpdatedAt:d,error:h,errorUpdatedAt:_,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:T,isRefetching:T&&!A,isLoadingError:S&&f.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:O,isPreviousData:w,isRefetchError:S&&f.dataUpdatedAt!==0,isStale:$r(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,jn(r,t))return;this.currentResult=r;const i={cache:!0},o=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,l=typeof s=="function"?s():s;if(l==="all"||!l&&!this.trackedProps.size)return!0;const a=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&a.add("error"),Object.keys(this.currentResult).some(u=>{const c=u;return this.currentResult[c]!==t[c]&&a.has(c)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!nr(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){ye.batch(()=>{if(e.onSuccess){var t,r,i,o;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(i=(o=this.options).onSettled)==null||i.call(o,this.currentResult.data,null)}else if(e.onError){var s,l,a,u;(s=(l=this.options).onError)==null||s.call(l,this.currentResult.error),(a=(u=this.options).onSettled)==null||a.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:c})=>{c(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function wl(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Kn(n,e){return wl(n,e)||n.state.dataUpdatedAt>0&&Hr(n,e,e.refetchOnMount)}function Hr(n,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&$r(n,e)}return!1}function zn(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&$r(n,t)}function $r(n,e){return n.isStaleByTime(e.staleTime)}function El(n,e,t){return t.keepPreviousData?!1:t.placeholderData!==void 0?e.isPlaceholderData:n.getCurrentResult()!==e}const fs="$$_queryClient",Ol=()=>{const n=it(fs);if(!n)throw new Error("No QueryClient was found in Svelte context. Did you forget to wrap your component with QueryClientProvider?");return n},Sl=n=>{nt(fs,n)};function ds(){return Ol()}function Il(n,e){const t=ds(),r=t.defaultQueryOptions(n);r._optimisticResults="optimistic";let i=new e(t,r);r.onError&&(r.onError=ye.batchCalls(r.onError)),r.onSuccess&&(r.onSuccess=ye.batchCalls(r.onSuccess)),r.onSettled&&(r.onSettled=ye.batchCalls(r.onSettled)),Ht(i).subscribe(l=>{i=l,i.setOptions(r,{listeners:!1})});const o=Ht(i.getCurrentResult(),l=>i.subscribe(ye.batchCalls(l))),{subscribe:s}=rr(o,l=>(l=i.getOptimisticResult(r),r.notifyOnChangeProps?l:i.trackResult(l)));return{subscribe:s}}function Cl(n,e,t){const r=Bt(n,e,t);return Il(r,kl)}function Pl(n){let e;const t=n[2].default,r=Se(t,n,n[1],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,[o]){r&&r.p&&(!e||o&2)&&Ie(r,t,i,i[1],e?Pe(t,i[1],o,null):Ce(i[1]),null)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function ql(n,e,t){let{$$slots:r={},$$scope:i}=e,{client:o=new cs}=e;return qs(()=>{o.mount()}),Sl(o),To(()=>{o.unmount()}),n.$$set=s=>{"client"in s&&t(0,o=s.client),"$$scope"in s&&t(1,i=s.$$scope)},[o,i,r]}class Rl extends Te{constructor(e){super(),De(this,e,ql,Pl,Oe,{client:0})}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function hs({rxNostr:n,queryKey:e,filters:t,operator:r,req:i,initData:o}){const s=ds();if(n.getRelays().length===0)return s.setQueryData(e,o),{data:Ht(o),status:Ht("success"),error:Ht()};let l;i?(i.emit(t),l=i):l=Ts({filters:t});const a=ur("loading"),u=ur(void 0),c=n.use(l).pipe(r),f=Cl(e,()=>new Promise((d,h)=>{let _=!1;c.subscribe({next:b=>{_?s.setQueryData(e,b):(d(b),_=!0)},complete:()=>a.set("success"),error:b=>{console.error(b),a.set("error"),u.set(b),_||(h(b),_=!0)}})}));return{data:rr(f,d=>d.data,o),status:rr([f,a],([d,h])=>d.isSuccess?"success":d.isError?"error":h),error:rr([f,u],([d,h])=>d.isError?d.error:h)}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Tl({rxNostr:n,relays:e}){if(e.length===0)return es([[]]);const t=e.map(r=>{const i=typeof r=="string"?r:r.url,o=n.hasRelay(i)?n.getRelayState(i):"not-started";return{from:i,state:o}});return n.createConnectionStateObservable().pipe(tl(...t),sl(({from:r})=>r))}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Dl(n,e,t,r,i){const o=[{kinds:[r],authors:[t],limit:1}],s=mr(Ls(r),nl(t),Do(),Ds());return hs({rxNostr:n,queryKey:e,filters:o,operator:s,req:i})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Ll(n,e,t,r){const i=[{ids:[t],limit:1}],o=mr(rl(t),Ms(),Do());return hs({rxNostr:n,queryKey:e,filters:i,operator:o,req:r})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Ml(n,e,t,r){return Dl(n,e,t,As.Kind.Metadata,r)}const Al=n=>({metadata:n&16,status:n&32}),Gn=n=>{var e;return{metadata:(e=n[4])==null?void 0:e.event,status:n[5]}},Nl=n=>({metadata:n&16,status:n&32}),Jn=n=>{var e;return{metadata:(e=n[4])==null?void 0:e.event,status:n[5]}},Ul=n=>({metadata:n&16,status:n&32}),Wn=n=>{var e;return{metadata:(e=n[4])==null?void 0:e.event,status:n[5]}},jl=n=>({error:n&8,metadata:n&16,status:n&32}),Yn=n=>{var e;return{error:n[3],metadata:(e=n[4])==null?void 0:e.event,status:n[5]}};function Fl(n){let e;const t=n[12].nodata,r=Se(t,n,n[11],Gn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2096)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,Al):Ce(i[11]),Gn)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Vl(n){let e;const t=n[12].loading,r=Se(t,n,n[11],Jn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2096)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,Nl):Ce(i[11]),Jn)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Bl(n){let e;const t=n[12].default,r=Se(t,n,n[11],Wn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2096)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,Ul):Ce(i[11]),Wn)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Hl(n){let e;const t=n[12].error,r=Se(t,n,n[11],Yn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2104)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,jl):Ce(i[11]),Yn)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Ql(n){let e,t,r,i;const o=[Hl,Bl,Vl,Fl],s=[];function l(a,u){return a[3]?0:a[4]?1:a[5]==="loading"?2:3}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),r=x()},l(a){t.l(a),r=x()},m(a,u){s[e].m(a,u),I(a,r,u),i=!0},p(a,[u]){let c=e;e=l(a),e===c?s[e].p(a,u):(ie(),U(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r))},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){s[e].d(a),a&&v(r)}}}function Kl(n,e,t){let r,i,o,s,l,a,u=H,c=()=>(u(),u=st(s,S=>t(3,a=S)),s),f,d=H,h=()=>(d(),d=st(i,S=>t(4,f=S)),i),_,b=H,y=()=>(b(),b=st(o,S=>t(5,_=S)),o);Be(n,zr,S=>t(10,l=S)),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>b());let{$$slots:w={},$$scope:O}=e,{queryKey:R}=e,{pubkey:T}=e,{req:A=void 0}=e;return n.$$set=S=>{"queryKey"in S&&t(6,R=S.queryKey),"pubkey"in S&&t(7,T=S.pubkey),"req"in S&&t(8,A=S.req),"$$scope"in S&&t(11,O=S.$$scope)},n.$$.update=()=>{n.$$.dirty&1472&&t(9,r=Ml(l.rxNostr,R,T,A)),n.$$.dirty&512&&h(t(2,i=r.data)),n.$$.dirty&512&&y(t(1,o=r.status)),n.$$.dirty&512&&c(t(0,s=r.error))},[s,o,i,a,f,_,R,T,A,r,l,O,w]}class Ge extends Te{constructor(e){super(),De(this,e,Kl,Ql,Oe,{queryKey:6,pubkey:7,req:8})}}const zl=n=>({connections:n&4}),Xn=n=>({connections:n[2]});function Gl(n){let e;const t=n[6].default,r=Se(t,n,n[7],Xn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&132)&&Ie(r,t,i,i[7],e?Pe(t,i[7],o,zl):Ce(i[7]),Xn)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Jl(n){let e,t;return e=new Rl({props:{client:n[0],$$slots:{default:[Gl]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,[i]){const o={};i&1&&(o.client=r[0]),i&132&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Wl(n,e,t){let r,i,o,s,l=H,a=()=>(l(),l=st(r,b=>t(2,s=b)),r);n.$$.on_destroy.push(()=>l());let{$$slots:u={},$$scope:c}=e,{queryClientConfig:f={}}=e,{relays:d=[]}=e;const h=Ns(),_={defaultOptions:{queries:{staleTime:1e3*60,refetchInterval:1/0}}};return To(()=>{h.dispose()}),n.$$set=b=>{"queryClientConfig"in b&&t(3,f=b.queryClientConfig),"relays"in b&&t(4,d=b.relays),"$$scope"in b&&t(7,c=b.$$scope)},n.$$.update=()=>{n.$$.dirty&16&&a(t(1,r=Tl({rxNostr:h,relays:d}))),n.$$.dirty&8&&t(5,i={..._,...f}),n.$$.dirty&32&&t(0,o=new cs(i)),n.$$.dirty&16&&(h.setRelays(d),zr.set({rxNostr:h}))},[o,r,s,f,d,i,u,c]}class th extends Te{constructor(e){super(),De(this,e,Wl,Jl,Oe,{queryClientConfig:3,relays:4})}}const Yl=n=>({text:n&16,status:n&32}),Zn=n=>{var e;return{text:(e=n[4])==null?void 0:e.event,status:n[5]}},Xl=n=>({text:n&16,status:n&32}),xn=n=>{var e;return{text:(e=n[4])==null?void 0:e.event,status:n[5]}},Zl=n=>({text:n&16,status:n&32}),$n=n=>{var e;return{text:(e=n[4])==null?void 0:e.event,status:n[5]}},xl=n=>({error:n&8,text:n&16,status:n&32}),ei=n=>{var e;return{error:n[3],text:(e=n[4])==null?void 0:e.event,status:n[5]}};function $l(n){let e;const t=n[12].nodata,r=Se(t,n,n[11],Zn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2096)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,Yl):Ce(i[11]),Zn)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function eu(n){let e;const t=n[12].loading,r=Se(t,n,n[11],xn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2096)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,Xl):Ce(i[11]),xn)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function tu(n){let e;const t=n[12].default,r=Se(t,n,n[11],$n);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2096)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,Zl):Ce(i[11]),$n)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function ru(n){let e;const t=n[12].error,r=Se(t,n,n[11],ei);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,o){r&&r.m(i,o),e=!0},p(i,o){r&&r.p&&(!e||o&2104)&&Ie(r,t,i,i[11],e?Pe(t,i[11],o,xl):Ce(i[11]),ei)},i(i){e||(M(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function nu(n){let e,t,r,i;const o=[ru,tu,eu,$l],s=[];function l(a,u){return a[3]?0:a[4]?1:a[5]==="loading"?2:3}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),r=x()},l(a){t.l(a),r=x()},m(a,u){s[e].m(a,u),I(a,r,u),i=!0},p(a,[u]){let c=e;e=l(a),e===c?s[e].p(a,u):(ie(),U(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r))},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){s[e].d(a),a&&v(r)}}}function iu(n,e,t){let r,i,o,s,l,a,u=H,c=()=>(u(),u=st(s,S=>t(3,a=S)),s),f,d=H,h=()=>(d(),d=st(i,S=>t(4,f=S)),i),_,b=H,y=()=>(b(),b=st(o,S=>t(5,_=S)),o);Be(n,zr,S=>t(10,l=S)),n.$$.on_destroy.push(()=>u()),n.$$.on_destroy.push(()=>d()),n.$$.on_destroy.push(()=>b());let{$$slots:w={},$$scope:O}=e,{queryKey:R}=e,{id:T}=e,{req:A=void 0}=e;return n.$$set=S=>{"queryKey"in S&&t(6,R=S.queryKey),"id"in S&&t(7,T=S.id),"req"in S&&t(8,A=S.req),"$$scope"in S&&t(11,O=S.$$scope)},n.$$.update=()=>{n.$$.dirty&1472&&t(9,r=Ll(l.rxNostr,R,T,A)),n.$$.dirty&512&&h(t(2,i=r.data)),n.$$.dirty&512&&y(t(1,o=r.status)),n.$$.dirty&512&&c(t(0,s=r.error))},[s,o,i,a,f,_,R,T,A,r,l,O,w]}class Jt extends Te{constructor(e){super(),De(this,e,iu,nu,Oe,{queryKey:6,id:7,req:8})}}var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.is_node=void 0;var Or=null;function ou(){return Or===null&&(Or=typeof B=="object"&&typeof B.process=="object"&&typeof B.process.versions=="object"&&typeof B.process.versions.node<"u"),Or}Wt.is_node=ou;var Sr={},Ir,ti;function su(){if(ti)return Ir;ti=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Ir=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),Ir}const au="websocket",lu="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",uu=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],cu="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",fu=["Iaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],du="1.0.34",hu={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},_u="https://github.com/theturtle32/WebSocket-Node",vu={node:">=4.0.0"},pu={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},mu={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},bu={verbose:!1},yu={test:"tape test/unit/*.js",gulp:"gulp"},gu="index",ku={lib:"./lib"},wu="lib/browser.js",Eu="Apache-2.0",Ou={name:au,description:lu,keywords:uu,author:cu,contributors:fu,version:du,repository:hu,homepage:_u,engines:vu,dependencies:pu,devDependencies:mu,config:bu,scripts:yu,main:gu,directories:ku,browser:wu,license:Eu};var Cr,ri;function Su(){return ri||(ri=1,Cr=Ou.version),Cr}var Pr,ni;function Iu(){if(ni)return Pr;ni=1;var n;if(typeof globalThis=="object")n=globalThis;else try{n=su()}catch{}finally{if(!n&&typeof window<"u"&&(n=window),!n)throw new Error("Could not determine global this")}var e=n.WebSocket||n.MozWebSocket,t=Su();function r(i,o){var s;return o?s=new e(i,o):s=new e(i),s}return e&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(r,i,{get:function(){return e[i]}})}),Pr={w3cwebsocket:e?r:null,version:t},Pr}var Zt={},qr={},yt={},gt={},kt={},wt={},ii;function Cu(){if(ii)return wt;ii=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.ForOfAdaptor=void 0;var n=function(){function e(t,r){this.it_=t,this.last_=r}return e.prototype.next=function(){if(this.it_.equals(this.last_))return{done:!0,value:void 0};var t=this.it_;return this.it_=this.it_.next(),{done:!1,value:t.value}},e.prototype[Symbol.iterator]=function(){return this},e}();return wt.ForOfAdaptor=n,wt}var oi;function en(){if(oi)return kt;oi=1;var n=B&&B.__values||function(r){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&r[i],s=0;if(o)return o.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(kt,"__esModule",{value:!0}),kt.Container=void 0;var e=Cu(),t=function(){function r(){}return r.prototype.empty=function(){return this.size()===0},r.prototype.rbegin=function(){return this.end().reverse()},r.prototype.rend=function(){return this.begin().reverse()},r.prototype[Symbol.iterator]=function(){return new e.ForOfAdaptor(this.begin(),this.end())},r.prototype.toJSON=function(){var i,o,s=[];try{for(var l=n(this),a=l.next();!a.done;a=l.next()){var u=a.value;s.push(u)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return s},r}();return kt.Container=t,kt}var Et={},si;function tn(){if(si)return Et;si=1;var n=B&&B.__read||function(t,r){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var o=i.call(t),s,l=[],a;try{for(;(r===void 0||r-- >0)&&!(s=o.next()).done;)l.push(s.value)}catch(u){a={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return l};Object.defineProperty(Et,"__esModule",{value:!0}),Et.NativeArrayIterator=void 0;var e=function(){function t(r,i){this.data_=r,this.index_=i}return t.prototype.index=function(){return this.index_},Object.defineProperty(t.prototype,"value",{get:function(){return this.data_[this.index_]},enumerable:!1,configurable:!0}),t.prototype.prev=function(){return--this.index_,this},t.prototype.next=function(){return++this.index_,this},t.prototype.advance=function(r){return this.index_+=r,this},t.prototype.equals=function(r){return this.data_===r.data_&&this.index_===r.index_},t.prototype.swap=function(r){var i,o;i=n([r.data_,this.data_],2),this.data_=i[0],r.data_=i[1],o=n([r.index_,this.index_],2),this.index_=o[0],r.index_=o[1]},t}();return Et.NativeArrayIterator=e,Et}var ai;function Pu(){if(ai)return gt;ai=1;var n=B&&B.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(l[u]=a[u])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function l(){this.constructor=o}o.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(gt,"__esModule",{value:!0}),gt.SetContainer=void 0;var e=en(),t=tn(),r=function(i){n(o,i);function o(s){var l=i.call(this)||this;return l.data_=s(l),l}return o.prototype.assign=function(s,l){this.clear(),this.insert(s,l)},o.prototype.clear=function(){this.data_.clear()},o.prototype.begin=function(){return this.data_.begin()},o.prototype.end=function(){return this.data_.end()},o.prototype.has=function(s){return!this.find(s).equals(this.end())},o.prototype.size=function(){return this.data_.size()},o.prototype.push=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(s.length===0)return this.size();var a=new t.NativeArrayIterator(s,0),u=new t.NativeArrayIterator(s,s.length);return this._Insert_by_range(a,u),this.size()},o.prototype.insert=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return s.length===1?this._Insert_by_key(s[0]):s[0].next instanceof Function&&s[1].next instanceof Function?this._Insert_by_range(s[0],s[1]):this._Insert_by_hint(s[0],s[1])},o.prototype.erase=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return s.length===1&&!(s[0]instanceof this.end().constructor&&s[0].source()===this)?this._Erase_by_val(s[0]):s.length===1?this._Erase_by_range(s[0]):this._Erase_by_range(s[0],s[1])},o.prototype._Erase_by_range=function(s,l){l===void 0&&(l=s.next());var a=this.data_.erase(s,l);return this._Handle_erase(s,l),a},o}(e.Container);return gt.SetContainer=r,gt}var Rr={},Ot={},St={},It={},li;function qu(){if(li)return It;li=1;var n=B&&B.__extends||function(){var t=function(r,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])},t(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(r,i);function o(){this.constructor=r}r.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(It,"__esModule",{value:!0}),It.Exception=void 0;var e=function(t){n(r,t);function r(i){var o=this.constructor,s=t.call(this,i)||this,l=o.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(s,l):s.__proto__=l,s}return Object.defineProperty(r.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),r.prototype.what=function(){return this.message},r.prototype.toJSON=function(){return{name:this.name,message:this.message,stack:this.stack}},r}(Error);return It.Exception=e,It}var ui;function _s(){if(ui)return St;ui=1;var n=B&&B.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=l[a])},r(i,o)};return function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(St,"__esModule",{value:!0}),St.LogicError=void 0;var e=qu(),t=function(r){n(i,r);function i(o){return r.call(this,o)||this}return i}(e.Exception);return St.LogicError=t,St}var ci;function vs(){if(ci)return Ot;ci=1;var n=B&&B.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=l[a])},r(i,o)};return function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.InvalidArgument=void 0;var e=_s(),t=function(r){n(i,r);function i(o){return r.call(this,o)||this}return i}(e.LogicError);return Ot.InvalidArgument=t,Ot}var Ct={},fi;function Ru(){if(fi)return Ct;fi=1;var n=B&&B.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(s[a]=l[a])},r(i,o)};return function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.OutOfRange=void 0;var e=_s(),t=function(r){n(i,r);function i(o){return r.call(this,o)||this}return i}(e.LogicError);return Ct.OutOfRange=t,Ct}var di;function gr(){return di||(di=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorGenerator=void 0;var e=vs(),t=Ru();(function(r){function i(h){if(typeof h=="string")return h;var _=h.constructor.name;return h.constructor.__MODULE&&(_="".concat(h.constructor.__MODULE,".").concat(_)),"std.".concat(_)}r.get_class_name=i;function o(h,_){return new t.OutOfRange("Error on ".concat(i(h),".").concat(_,"(): it's empty container."))}r.empty=o;function s(h,_,b){return new t.OutOfRange("Error on ".concat(i(h),".").concat(_,"(): parametric index is negative -> (index = ").concat(b,")."))}r.negative_index=s;function l(h,_,b,y){return new t.OutOfRange("Error on ".concat(i(h),".").concat(_,"(): parametric index is equal or greater than size -> (index = ").concat(b,", size: ").concat(y,")."))}r.excessive_index=l;function a(h,_){return new e.InvalidArgument("Error on ".concat(i(h),".").concat(_,"(): parametric iterator is not this container's own."))}r.not_my_iterator=a;function u(h,_){return new e.InvalidArgument("Error on ".concat(i(h),".").concat(_,"(): parametric iterator, it already has been erased."))}r.erased_iterator=u;function c(h,_,b){return new t.OutOfRange("Error on ".concat(i(h),".").concat(_,"(): parametric iterator is directing negative position -> (index = ").concat(b,")."))}r.negative_iterator=c;function f(h,_){_===void 0&&(_="end");var b=i(h);return new t.OutOfRange("Error on ".concat(b,".Iterator.value: cannot access to the ").concat(b,".").concat(_,"().value."))}r.iterator_end_value=f;function d(h,_,b){throw new t.OutOfRange("Error on ".concat(i(h),".").concat(_,"(): unable to find the matched key -> ").concat(b))}r.key_nout_found=d})(n.ErrorGenerator||(n.ErrorGenerator={}))}(Rr)),Rr}var hi;function Tu(){if(hi)return yt;hi=1;var n=B&&B.__extends||function(){var s=function(l,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f])},s(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");s(l,a);function u(){this.constructor=l}l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),e=B&&B.__read||function(s,l){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var u=a.call(s),c,f=[],d;try{for(;(l===void 0||l-- >0)&&!(c=u.next()).done;)f.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(d)throw d.error}}return f},t=B&&B.__spreadArray||function(s,l,a){if(a||arguments.length===2)for(var u=0,c=l.length,f;u<c;u++)(f||!(u in l))&&(f||(f=Array.prototype.slice.call(l,0,u)),f[u]=l[u]);return s.concat(f||Array.prototype.slice.call(l))};Object.defineProperty(yt,"__esModule",{value:!0}),yt.UniqueSet=void 0;var r=Pu(),i=gr(),o=function(s){n(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.count=function(a){return this.find(a).equals(this.end())?0:1},l.prototype.insert=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return s.prototype.insert.apply(this,t([],e(a),!1))},l.prototype._Insert_by_range=function(a,u){for(;!a.equals(u);a=a.next())this._Insert_by_key(a.value)},l.prototype.extract=function(a){return a instanceof this.end().constructor?this._Extract_by_iterator(a):this._Extract_by_val(a)},l.prototype._Extract_by_val=function(a){var u=this.find(a);if(u.equals(this.end())===!0)throw i.ErrorGenerator.key_nout_found(this,"extract",a);return this._Erase_by_range(u),a},l.prototype._Extract_by_iterator=function(a){return a.equals(this.end())===!0||this.has(a.value)===!1?this.end():(this._Erase_by_range(a),a)},l.prototype._Erase_by_val=function(a){var u=this.find(a);return u.equals(this.end())===!0?0:(this._Erase_by_range(u),1)},l.prototype.merge=function(a){for(var u=a.begin();!u.equals(a.end());)this.has(u.value)===!1?(this.insert(u.value),u=a.erase(u)):u=u.next()},l}(r.SetContainer);return yt.UniqueSet=o,yt}var Tr={},Dr={},_i;function Du(){return _i||(_i=1,function(n){var e=B&&B.__read||function(r,i){var o=typeof Symbol=="function"&&r[Symbol.iterator];if(!o)return r;var s=o.call(r),l,a=[],u;try{for(;(i===void 0||i-- >0)&&!(l=s.next()).done;)a.push(l.value)}catch(c){u={error:c}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(u)throw u.error}}return a},t=B&&B.__spreadArray||function(r,i,o){if(o||arguments.length===2)for(var s=0,l=i.length,a;s<l;s++)(a||!(s in i))&&(a||(a=Array.prototype.slice.call(i,0,s)),a[s]=i[s]);return r.concat(a||Array.prototype.slice.call(i))};Object.defineProperty(n,"__esModule",{value:!0}),n.IAssociativeContainer=void 0,function(r){function i(o){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];var a,u;return s.length>=1&&s[0]instanceof Array?(a=function(){var c=s[0];o.push.apply(o,t([],e(c),!1))},u=s.slice(1)):s.length>=2&&s[0].next instanceof Function&&s[1].next instanceof Function?(a=function(){var c=s[0],f=s[1];o.assign(c,f)},u=s.slice(2)):(a=null,u=s),{ramda:a,tail:u}}r.construct=i}(n.IAssociativeContainer||(n.IAssociativeContainer={}))}(Dr)),Dr}var Pt={},qt={},Rt={},vi;function Lu(){if(vi)return Rt;vi=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt._Get_root=void 0;var n=Wt;function e(){return t===null&&(t=(0,n.is_node)()?B:self,t.__s_iUID===void 0&&(t.__s_iUID=0)),t}Rt._Get_root=e;var t=null;return Rt}var pi;function ps(){if(pi)return qt;pi=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.get_uid=void 0;var n=Lu();function e(t){if(t instanceof Object){if(t.hasOwnProperty("__get_m_iUID")===!1){var r=++(0,n._Get_root)().__s_iUID;Object.defineProperty(t,"__get_m_iUID",{value:function(){return r}})}return t.__get_m_iUID()}else return t===void 0?-1:0}return qt.get_uid=e,qt}var mi;function rn(){if(mi)return Pt;mi=1;var n=B&&B.__values||function(a){var u=typeof Symbol=="function"&&Symbol.iterator,c=u&&a[u],f=0;if(c)return c.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&f>=a.length&&(a=void 0),{value:a&&a[f++],done:!a}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.hash=void 0;var e=ps();function t(){for(var a,u,c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var d=s;try{for(var h=n(c),_=h.next();!_.done;_=h.next()){var b=_.value;b=b&&b.valueOf();var y=typeof b;if(y==="boolean")d=r(b,d);else if(y==="number"||y==="bigint")d=i(b,d);else if(y==="string")d=o(b,d);else if(b instanceof Object&&b.hashCode instanceof Function){var w=b.hashCode();if(c.length===1)return w;d=d^w,d*=l}else d=i((0,e.get_uid)(b),d)}}catch(O){a={error:O}}finally{try{_&&!_.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}return Math.abs(d)}Pt.hash=t;function r(a,u){return u^=a?1:0,u*=l,u}function i(a,u){return o(a.toString(),u)}function o(a,u){for(var c=0;c<a.length;++c)u^=a.charCodeAt(c),u*=l;return Math.abs(u)}var s=2166136261,l=16777619;return Pt}var Le={},bi;function nn(){if(bi)return Le;bi=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.greater_equal=Le.greater=Le.less_equal=Le.less=Le.not_equal_to=Le.equal_to=void 0;var n=ps();function e(l,a){return l=l&&l.valueOf(),a=a&&a.valueOf(),l instanceof Object&&l.equals instanceof Function?l.equals(a):l===a}Le.equal_to=e;function t(l,a){return!e(l,a)}Le.not_equal_to=t;function r(l,a){return l=l.valueOf(),a=a.valueOf(),l instanceof Object?l.less instanceof Function?l.less(a):(0,n.get_uid)(l)<(0,n.get_uid)(a):l<a}Le.less=r;function i(l,a){return r(l,a)||e(l,a)}Le.less_equal=i;function o(l,a){return!i(l,a)}Le.greater=o;function s(l,a){return!r(l,a)}return Le.greater_equal=s,Le}var yi;function ms(){return yi||(yi=1,function(n){var e=B&&B.__read||function(s,l){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var u=a.call(s),c,f=[],d;try{for(;(l===void 0||l-- >0)&&!(c=u.next()).done;)f.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(d)throw d.error}}return f},t=B&&B.__spreadArray||function(s,l,a){if(a||arguments.length===2)for(var u=0,c=l.length,f;u<c;u++)(f||!(u in l))&&(f||(f=Array.prototype.slice.call(l,0,u)),f[u]=l[u]);return s.concat(f||Array.prototype.slice.call(l))};Object.defineProperty(n,"__esModule",{value:!0}),n.IHashContainer=void 0;var r=Du(),i=rn(),o=nn();(function(s){function l(a,u,c){for(var f=[],d=3;d<arguments.length;d++)f[d-3]=arguments[d];var h=null,_=i.hash,b=o.equal_to;if(f.length===1&&f[0]instanceof u){var y=f[0];_=y.hash_function(),b=y.key_eq(),h=function(){var O=y.begin(),R=y.end();a.assign(O,R)}}else{var w=r.IAssociativeContainer.construct.apply(r.IAssociativeContainer,t([a],e(f),!1));h=w.ramda,w.tail.length>=1&&(_=w.tail[0]),w.tail.length>=2&&(b=w.tail[1])}c(_,b),h!==null&&h()}s.construct=l})(n.IHashContainer||(n.IHashContainer={}))}(Tr)),Tr}var Lr={},Tt={},Dt={},gi;function on(){if(gi)return Dt;gi=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.ListIterator=void 0;var n=gr(),e=function(){function t(r,i,o){this.prev_=r,this.next_=i,this.value_=o}return t._Set_prev=function(r,i){r.prev_=i},t._Set_next=function(r,i){r.next_=i},t.prototype.prev=function(){return this.prev_},t.prototype.next=function(){return this.next_},Object.defineProperty(t.prototype,"value",{get:function(){return this._Try_value(),this.value_},enumerable:!1,configurable:!0}),t.prototype._Try_value=function(){if(this.value_===void 0&&this.equals(this.source().end())===!0)throw n.ErrorGenerator.iterator_end_value(this.source())},t.prototype.equals=function(r){return this===r},t}();return Dt.ListIterator=e,Dt}var Lt={},ki;function Mu(){if(ki)return Lt;ki=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.Repeater=void 0;var n=function(){function e(t,r){this.index_=t,this.value_=r}return e.prototype.index=function(){return this.index_},Object.defineProperty(e.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),e.prototype.next=function(){return++this.index_,this},e.prototype.equals=function(t){return this.index_===t.index_},e}();return Lt.Repeater=n,Lt}var Me={},wi;function Au(){if(wi)return Me;wi=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.next=Me.prev=Me.advance=Me.distance=Me.size=Me.empty=void 0;var n=vs();function e(a){return a instanceof Array?a.length!==0:a.empty()}Me.empty=e;function t(a){return a instanceof Array?a.length:a.size()}Me.size=t;function r(a,u){if(a.index instanceof Function)return i(a,u);for(var c=0;!a.equals(u);a=a.next())++c;return c}Me.distance=r;function i(a,u){var c=a.index(),f=u.index();return a.base instanceof Function?c-f:f-c}function o(a,u){if(u===0)return a;if(a.advance instanceof Function)return a.advance(u);var c;if(u<0){if(!(a.prev instanceof Function))throw new n.InvalidArgument("Error on std.advance(): parametric iterator is not a bi-directional iterator, thus advancing to negative direction is not possible.");c=function(f){return f.prev()},u=-u}else c=function(f){return f.next()};for(;u-- >0;)a=c(a);return a}Me.advance=o;function s(a,u){return u===void 0&&(u=1),u===1?a.prev():o(a,-u)}Me.prev=s;function l(a,u){return u===void 0&&(u=1),u===1?a.next():o(a,u)}return Me.next=l,Me}var Ei;function bs(){if(Ei)return Tt;Ei=1;var n=B&&B.__extends||function(){var u=function(c,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var _ in h)Object.prototype.hasOwnProperty.call(h,_)&&(d[_]=h[_])},u(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}(),e=B&&B.__read||function(u,c){var f=typeof Symbol=="function"&&u[Symbol.iterator];if(!f)return u;var d=f.call(u),h,_=[],b;try{for(;(c===void 0||c-- >0)&&!(h=d.next()).done;)_.push(h.value)}catch(y){b={error:y}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(b)throw b.error}}return _};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.ListContainer=void 0;var t=en(),r=on(),i=Mu(),o=tn(),s=Au(),l=gr(),a=function(u){n(c,u);function c(){var f=u.call(this)||this;return f.end_=f._Create_iterator(null,null),f.clear(),f}return c.prototype.assign=function(f,d){this.clear(),this.insert(this.end(),f,d)},c.prototype.clear=function(){r.ListIterator._Set_prev(this.end_,this.end_),r.ListIterator._Set_next(this.end_,this.end_),this.begin_=this.end_,this.size_=0},c.prototype.resize=function(f){var d=f-this.size();d>0?this.insert(this.end(),d,void 0):d<0&&this.erase((0,s.advance)(this.end(),-d),this.end())},c.prototype.begin=function(){return this.begin_},c.prototype.end=function(){return this.end_},c.prototype.size=function(){return this.size_},c.prototype.push_front=function(f){this.insert(this.begin_,f)},c.prototype.push_back=function(f){this.insert(this.end_,f)},c.prototype.pop_front=function(){if(this.empty()===!0)throw l.ErrorGenerator.empty(this.end_.source().constructor.name,"pop_front");this.erase(this.begin_)},c.prototype.pop_back=function(){if(this.empty()===!0)throw l.ErrorGenerator.empty(this.end_.source().constructor.name,"pop_back");this.erase(this.end_.prev())},c.prototype.push=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];if(f.length===0)return this.size();var h=new o.NativeArrayIterator(f,0),_=new o.NativeArrayIterator(f,f.length);return this._Insert_by_range(this.end(),h,_),this.size()},c.prototype.insert=function(f){for(var d=[],h=1;h<arguments.length;h++)d[h-1]=arguments[h];if(f.source()!==this.end_.source())throw l.ErrorGenerator.not_my_iterator(this.end_.source(),"insert");if(f.erased_===!0)throw l.ErrorGenerator.erased_iterator(this.end_.source(),"insert");return d.length===1?this._Insert_by_repeating_val(f,1,d[0]):d.length===2&&typeof d[0]=="number"?this._Insert_by_repeating_val(f,d[0],d[1]):this._Insert_by_range(f,d[0],d[1])},c.prototype._Insert_by_repeating_val=function(f,d,h){var _=new i.Repeater(0,h),b=new i.Repeater(d);return this._Insert_by_range(f,_,b)},c.prototype._Insert_by_range=function(f,d,h){for(var _=f.prev(),b=null,y=0,w=d;w.equals(h)===!1;w=w.next()){var O=this._Create_iterator(_,null,w.value);y===0&&(b=O),r.ListIterator._Set_next(_,O),_=O,++y}return f.equals(this.begin())===!0&&(this.begin_=b),r.ListIterator._Set_next(_,f),r.ListIterator._Set_prev(f,_),this.size_+=y,b},c.prototype.erase=function(f,d){return d===void 0&&(d=f.next()),this._Erase_by_range(f,d)},c.prototype._Erase_by_range=function(f,d){if(f.source()!==this.end_.source())throw l.ErrorGenerator.not_my_iterator(this.end_.source(),"insert");if(f.erased_===!0)throw l.ErrorGenerator.erased_iterator(this.end_.source(),"insert");if(f.equals(this.end_))return this.end_;var h=f.prev();r.ListIterator._Set_next(h,d),r.ListIterator._Set_prev(d,h);for(var _=f;!_.equals(d);_=_.next())_.erased_=!0,--this.size_;return f.equals(this.begin_)&&(this.begin_=d),d},c.prototype.swap=function(f){var d,h,_;d=e([f.begin_,this.begin_],2),this.begin_=d[0],f.begin_=d[1],h=e([f.end_,this.end_],2),this.end_=h[0],f.end_=h[1],_=e([f.size_,this.size_],2),this.size_=_[0],f.size_=_[1]},c}(t.Container);return Tt.ListContainer=a,Tt}var Mt={},Oi;function ys(){if(Oi)return Mt;Oi=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.ReverseIterator=void 0;var n=function(){function e(t){this.base_=t.prev()}return e.prototype.source=function(){return this.base_.source()},e.prototype.base=function(){return this.base_.next()},Object.defineProperty(e.prototype,"value",{get:function(){return this.base_.value},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return this._Create_neighbor(this.base().next())},e.prototype.next=function(){return this._Create_neighbor(this.base_)},e.prototype.equals=function(t){return this.base_.equals(t.base_)},e}();return Mt.ReverseIterator=n,Mt}var Si;function Nu(){return Si||(Si=1,function(n){var e=B&&B.__extends||function(){var l=function(a,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},l(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),t=B&&B.__read||function(l,a){var u=typeof Symbol=="function"&&l[Symbol.iterator];if(!u)return l;var c=u.call(l),f,d=[],h;try{for(;(a===void 0||a-- >0)&&!(f=c.next()).done;)d.push(f.value)}catch(_){h={error:_}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d};Object.defineProperty(n,"__esModule",{value:!0}),n.SetElementList=void 0;var r=bs(),i=on(),o=ys(),s=function(l){e(a,l);function a(u){var c=l.call(this)||this;return c.associative_=u,c}return a.prototype._Create_iterator=function(u,c,f){return a.Iterator.create(this,u,c,f)},a._Swap_associative=function(u,c){var f;f=t([c.associative_,u.associative_],2),u.associative_=f[0],c.associative_=f[1]},a.prototype.associative=function(){return this.associative_},a}(r.ListContainer);n.SetElementList=s,function(l){var a=function(c){e(f,c);function f(d,h,_,b){var y=c.call(this,h,_,b)||this;return y.source_=d,y}return f.create=function(d,h,_,b){return new f(d,h,_,b)},f.prototype.reverse=function(){return new u(this)},f.prototype.source=function(){return this.source_.associative()},f}(i.ListIterator);l.Iterator=a;var u=function(c){e(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.prototype._Create_neighbor=function(d){return new f(d)},f}(o.ReverseIterator);l.ReverseIterator=u}(s=n.SetElementList||(n.SetElementList={})),n.SetElementList=s}(Lr)),Lr}var At={},Nt={},Ii;function gs(){if(Ii)return Nt;Ii=1;var n=B&&B.__values||function(i){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&i[o],l=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&l>=i.length&&(i=void 0),{value:i&&i[l++],done:!i}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.HashBuckets=void 0;var e=function(){function i(o,s){this.fetcher_=o,this.hasher_=s,this.max_load_factor_=r,this.data_=[],this.size_=0,this.initialize()}return i.prototype.clear=function(){this.data_=[],this.size_=0,this.initialize()},i.prototype.rehash=function(o){var s,l,a,u;o=Math.max(o,t);for(var c=[],f=0;f<o;++f)c.push([]);try{for(var d=n(this.data_),h=d.next();!h.done;h=d.next()){var _=h.value;try{for(var b=(a=void 0,n(_)),y=b.next();!y.done;y=b.next()){var w=y.value,O=this.hasher_(this.fetcher_(w))%c.length;c[O].push(w)}}catch(R){a={error:R}}finally{try{y&&!y.done&&(u=b.return)&&u.call(b)}finally{if(a)throw a.error}}}}catch(R){s={error:R}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}this.data_=c},i.prototype.reserve=function(o){o>this.capacity()&&(o=Math.floor(o/this.max_load_factor_),this.rehash(o))},i.prototype.initialize=function(){for(var o=0;o<t;++o)this.data_.push([])},i.prototype.length=function(){return this.data_.length},i.prototype.capacity=function(){return this.data_.length*this.max_load_factor_},i.prototype.at=function(o){return this.data_[o]},i.prototype.load_factor=function(){return this.size_/this.length()},i.prototype.max_load_factor=function(o){if(o===void 0&&(o=null),o===null)return this.max_load_factor_;this.max_load_factor_=o},i.prototype.hash_function=function(){return this.hasher_},i.prototype.index=function(o){return this.hasher_(this.fetcher_(o))%this.length()},i.prototype.insert=function(o){var s=this.capacity();++this.size_>s&&this.reserve(s*2);var l=this.index(o);this.data_[l].push(o)},i.prototype.erase=function(o){for(var s=this.index(o),l=this.data_[s],a=0;a<l.length;++a)if(l[a]===o){l.splice(a,1),--this.size_;break}},i}();Nt.HashBuckets=e;var t=10,r=1;return Nt}var Ci;function Uu(){if(Ci)return At;Ci=1;var n=B&&B.__extends||function(){var s=function(l,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f])},s(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");s(l,a);function u(){this.constructor=l}l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),e=B&&B.__read||function(s,l){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var u=a.call(s),c,f=[],d;try{for(;(l===void 0||l-- >0)&&!(c=u.next()).done;)f.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(d)throw d.error}}return f},t=B&&B.__values||function(s){var l=typeof Symbol=="function"&&Symbol.iterator,a=l&&s[l],u=0;if(a)return a.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(At,"__esModule",{value:!0}),At.SetHashBuckets=void 0;var r=gs(),i=function(s){n(l,s);function l(a,u,c){var f=s.call(this,o,u)||this;return f.source_=a,f.key_eq_=c,f}return l._Swap_source=function(a,u){var c;c=e([u.source_,a.source_],2),a.source_=c[0],u.source_=c[1]},l.prototype.key_eq=function(){return this.key_eq_},l.prototype.find=function(a){var u,c,f=this.hash_function()(a)%this.length(),d=this.at(f);try{for(var h=t(d),_=h.next();!_.done;_=h.next()){var b=_.value;if(this.key_eq_(b.value,a))return b}}catch(y){u={error:y}}finally{try{_&&!_.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}return this.source_.end()},l}(r.HashBuckets);At.SetHashBuckets=i;function o(s){return s.value}return At}var rt={},Pi;function ks(){if(Pi)return rt;Pi=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.make_pair=rt.Pair=void 0;var n=rn(),e=nn(),t=function(){function i(o,s){this.first=o,this.second=s}return i.prototype.equals=function(o){return(0,e.equal_to)(this.first,o.first)&&(0,e.equal_to)(this.second,o.second)},i.prototype.less=function(o){return(0,e.equal_to)(this.first,o.first)===!1?(0,e.less)(this.first,o.first):(0,e.less)(this.second,o.second)},i.prototype.hashCode=function(){return(0,n.hash)(this.first,this.second)},i}();rt.Pair=t;function r(i,o){return new t(i,o)}return rt.make_pair=r,rt}var qi;function ju(){return qi||(qi=1,function(n){var e=B&&B.__extends||function(){var c=function(f,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,_){h.__proto__=_}||function(h,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(h[b]=_[b])},c(f,d)};return function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(f,d);function h(){this.constructor=f}f.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}(),t=B&&B.__read||function(c,f){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var h=d.call(c),_,b=[],y;try{for(;(f===void 0||f-- >0)&&!(_=h.next()).done;)b.push(_.value)}catch(w){y={error:w}}finally{try{_&&!_.done&&(d=h.return)&&d.call(h)}finally{if(y)throw y.error}}return b},r=B&&B.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var h=0,_=f.length,b;h<_;h++)(b||!(h in f))&&(b||(b=Array.prototype.slice.call(f,0,h)),b[h]=f[h]);return c.concat(b||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.HashSet=void 0;var i=Tu(),o=ms(),s=Nu(),l=Uu(),a=ks(),u=function(c){e(f,c);function f(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var _=c.call(this,function(b){return new s.SetElementList(b)})||this;return o.IHashContainer.construct.apply(o.IHashContainer,r([_,f,function(b,y){_.buckets_=new l.SetHashBuckets(_,b,y)}],t(d),!1)),_}return f.prototype.clear=function(){this.buckets_.clear(),c.prototype.clear.call(this)},f.prototype.swap=function(d){var h,_;h=t([d.data_,this.data_],2),this.data_=h[0],d.data_=h[1],s.SetElementList._Swap_associative(this.data_,d.data_),l.SetHashBuckets._Swap_source(this.buckets_,d.buckets_),_=t([d.buckets_,this.buckets_],2),this.buckets_=_[0],d.buckets_=_[1]},f.prototype.find=function(d){return this.buckets_.find(d)},f.prototype.begin=function(d){return d===void 0&&(d=null),d===null?c.prototype.begin.call(this):this.buckets_.at(d)[0]},f.prototype.end=function(d){if(d===void 0&&(d=null),d===null)return c.prototype.end.call(this);var h=this.buckets_.at(d);return h[h.length-1].next()},f.prototype.rbegin=function(d){return d===void 0&&(d=null),this.end(d).reverse()},f.prototype.rend=function(d){return d===void 0&&(d=null),this.begin(d).reverse()},f.prototype.bucket_count=function(){return this.buckets_.length()},f.prototype.bucket_size=function(d){return this.buckets_.at(d).length},f.prototype.load_factor=function(){return this.buckets_.load_factor()},f.prototype.hash_function=function(){return this.buckets_.hash_function()},f.prototype.key_eq=function(){return this.buckets_.key_eq()},f.prototype.bucket=function(d){return this.hash_function()(d)%this.buckets_.length()},f.prototype.max_load_factor=function(d){return d===void 0&&(d=null),this.buckets_.max_load_factor(d)},f.prototype.reserve=function(d){this.buckets_.reserve(d)},f.prototype.rehash=function(d){this.buckets_.rehash(d)},f.prototype._Insert_by_key=function(d){var h=this.find(d);return h.equals(this.end())===!1?new a.Pair(h,!1):(this.data_.push(d),h=h.prev(),this._Handle_insert(h,h.next()),new a.Pair(h,!0))},f.prototype._Insert_by_hint=function(d,h){var _=this.find(h);return _.equals(this.end())===!0&&(_=this.data_.insert(d,h),this._Handle_insert(_,_.next())),_},f.prototype._Handle_insert=function(d,h){for(;!d.equals(h);d=d.next())this.buckets_.insert(d)},f.prototype._Handle_erase=function(d,h){for(;!d.equals(h);d=d.next())this.buckets_.erase(d)},f}(i.UniqueSet);n.HashSet=u,function(c){c.Iterator=s.SetElementList.Iterator,c.ReverseIterator=s.SetElementList.ReverseIterator}(u=n.HashSet||(n.HashSet={})),n.HashSet=u}(qr)),qr}var Mr={},Ut={},jt={},Ri;function Fu(){if(Ri)return jt;Ri=1;var n=B&&B.__extends||function(){var i=function(o,s){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(l[u]=a[u])},i(o,s)};return function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");i(o,s);function l(){this.constructor=o}o.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(jt,"__esModule",{value:!0}),jt.MapContainer=void 0;var e=en(),t=tn(),r=function(i){n(o,i);function o(s){var l=i.call(this)||this;return l.data_=s(l),l}return o.prototype.assign=function(s,l){this.clear(),this.insert(s,l)},o.prototype.clear=function(){this.data_.clear()},o.prototype.begin=function(){return this.data_.begin()},o.prototype.end=function(){return this.data_.end()},o.prototype.has=function(s){return!this.find(s).equals(this.end())},o.prototype.size=function(){return this.data_.size()},o.prototype.push=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var a=new t.NativeArrayIterator(s,0),u=new t.NativeArrayIterator(s,s.length);return this.insert(a,u),this.size()},o.prototype.insert=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return s.length===1?this.emplace(s[0].first,s[0].second):s[0].next instanceof Function&&s[1].next instanceof Function?this._Insert_by_range(s[0],s[1]):this.emplace_hint(s[0],s[1].first,s[1].second)},o.prototype.erase=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return s.length===1&&(!(s[0]instanceof this.end().constructor)||s[0].source()!==this)?this._Erase_by_key(s[0]):s.length===1?this._Erase_by_range(s[0]):this._Erase_by_range(s[0],s[1])},o.prototype._Erase_by_range=function(s,l){l===void 0&&(l=s.next());var a=this.data_.erase(s,l);return this._Handle_erase(s,l),a},o}(e.Container);return jt.MapContainer=r,jt}var Ti;function Vu(){if(Ti)return Ut;Ti=1;var n=B&&B.__extends||function(){var s=function(l,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f])},s(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");s(l,a);function u(){this.constructor=l}l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),e=B&&B.__read||function(s,l){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var u=a.call(s),c,f=[],d;try{for(;(l===void 0||l-- >0)&&!(c=u.next()).done;)f.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(d)throw d.error}}return f},t=B&&B.__spreadArray||function(s,l,a){if(a||arguments.length===2)for(var u=0,c=l.length,f;u<c;u++)(f||!(u in l))&&(f||(f=Array.prototype.slice.call(l,0,u)),f[u]=l[u]);return s.concat(f||Array.prototype.slice.call(l))};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.UniqueMap=void 0;var r=Fu(),i=gr(),o=function(s){n(l,s);function l(){return s!==null&&s.apply(this,arguments)||this}return l.prototype.count=function(a){return this.find(a).equals(this.end())?0:1},l.prototype.get=function(a){var u=this.find(a);if(u.equals(this.end())===!0)throw i.ErrorGenerator.key_nout_found(this,"get",a);return u.second},l.prototype.take=function(a,u){var c=this.find(a);return c.equals(this.end())?this.emplace(a,u()).first.second:c.second},l.prototype.set=function(a,u){this.insert_or_assign(a,u)},l.prototype.insert=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return s.prototype.insert.apply(this,t([],e(a),!1))},l.prototype._Insert_by_range=function(a,u){for(var c=a;!c.equals(u);c=c.next())this.emplace(c.value.first,c.value.second)},l.prototype.insert_or_assign=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];if(a.length===2)return this._Insert_or_assign_with_key_value(a[0],a[1]);if(a.length===3)return this._Insert_or_assign_with_hint(a[0],a[1],a[2])},l.prototype._Insert_or_assign_with_key_value=function(a,u){var c=this.emplace(a,u);return c.second===!1&&(c.first.second=u),c},l.prototype._Insert_or_assign_with_hint=function(a,u,c){var f=this.emplace_hint(a,u,c);return f.second!==c&&(f.second=c),f},l.prototype.extract=function(a){return a instanceof this.end().constructor?this._Extract_by_iterator(a):this._Extract_by_key(a)},l.prototype._Extract_by_key=function(a){var u=this.find(a);if(u.equals(this.end())===!0)throw i.ErrorGenerator.key_nout_found(this,"extract",a);var c=u.value;return this._Erase_by_range(u),c},l.prototype._Extract_by_iterator=function(a){return a.equals(this.end())===!0?this.end():(this._Erase_by_range(a),a)},l.prototype._Erase_by_key=function(a){var u=this.find(a);return u.equals(this.end())===!0?0:(this._Erase_by_range(u),1)},l.prototype.merge=function(a){for(var u=a.begin();!u.equals(a.end());)this.has(u.first)===!1?(this.insert(u.value),u=a.erase(u)):u=u.next()},l}(r.MapContainer);return Ut.UniqueMap=o,Ut}var Ar={},Di;function Bu(){return Di||(Di=1,function(n){var e=B&&B.__extends||function(){var l=function(a,u){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d])},l(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");l(a,u);function c(){this.constructor=a}a.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),t=B&&B.__read||function(l,a){var u=typeof Symbol=="function"&&l[Symbol.iterator];if(!u)return l;var c=u.call(l),f,d=[],h;try{for(;(a===void 0||a-- >0)&&!(f=c.next()).done;)d.push(f.value)}catch(_){h={error:_}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return d};Object.defineProperty(n,"__esModule",{value:!0}),n.MapElementList=void 0;var r=bs(),i=on(),o=ys(),s=function(l){e(a,l);function a(u){var c=l.call(this)||this;return c.associative_=u,c}return a.prototype._Create_iterator=function(u,c,f){return a.Iterator.create(this,u,c,f)},a._Swap_associative=function(u,c){var f;f=t([c.associative_,u.associative_],2),u.associative_=f[0],c.associative_=f[1]},a.prototype.associative=function(){return this.associative_},a}(r.ListContainer);n.MapElementList=s,function(l){var a=function(c){e(f,c);function f(d,h,_,b){var y=c.call(this,h,_,b)||this;return y.list_=d,y}return f.create=function(d,h,_,b){return new f(d,h,_,b)},f.prototype.reverse=function(){return new u(this)},f.prototype.source=function(){return this.list_.associative()},Object.defineProperty(f.prototype,"first",{get:function(){return this.value.first},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"second",{get:function(){return this.value.second},set:function(d){this.value.second=d},enumerable:!1,configurable:!0}),f}(i.ListIterator);l.Iterator=a;var u=function(c){e(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.prototype._Create_neighbor=function(d){return new f(d)},Object.defineProperty(f.prototype,"first",{get:function(){return this.base_.first},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"second",{get:function(){return this.base_.second},set:function(d){this.base_.second=d},enumerable:!1,configurable:!0}),f}(o.ReverseIterator);l.ReverseIterator=u}(s=n.MapElementList||(n.MapElementList={})),n.MapElementList=s}(Ar)),Ar}var Ft={},Li;function Hu(){if(Li)return Ft;Li=1;var n=B&&B.__extends||function(){var s=function(l,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f])},s(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");s(l,a);function u(){this.constructor=l}l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),e=B&&B.__read||function(s,l){var a=typeof Symbol=="function"&&s[Symbol.iterator];if(!a)return s;var u=a.call(s),c,f=[],d;try{for(;(l===void 0||l-- >0)&&!(c=u.next()).done;)f.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(d)throw d.error}}return f},t=B&&B.__values||function(s){var l=typeof Symbol=="function"&&Symbol.iterator,a=l&&s[l],u=0;if(a)return a.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.MapHashBuckets=void 0;var r=gs(),i=function(s){n(l,s);function l(a,u,c){var f=s.call(this,o,u)||this;return f.source_=a,f.key_eq_=c,f}return l._Swap_source=function(a,u){var c;c=e([u.source_,a.source_],2),a.source_=c[0],u.source_=c[1]},l.prototype.key_eq=function(){return this.key_eq_},l.prototype.find=function(a){var u,c,f=this.hash_function()(a)%this.length(),d=this.at(f);try{for(var h=t(d),_=h.next();!_.done;_=h.next()){var b=_.value;if(this.key_eq_(b.first,a))return b}}catch(y){u={error:y}}finally{try{_&&!_.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}return this.source_.end()},l}(r.HashBuckets);Ft.MapHashBuckets=i;function o(s){return s.first}return Ft}var Vt={},Mi;function Qu(){if(Mi)return Vt;Mi=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.Entry=void 0;var n=rn(),e=nn(),t=function(){function r(i,o){this.first=i,this.second=o}return r.prototype.equals=function(i){return(0,e.equal_to)(this.first,i.first)},r.prototype.less=function(i){return(0,e.less)(this.first,i.first)},r.prototype.hashCode=function(){return(0,n.hash)(this.first)},r}();return Vt.Entry=t,Vt}var Ai;function Ku(){return Ai||(Ai=1,function(n){var e=B&&B.__extends||function(){var f=function(d,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,b){_.__proto__=b}||function(_,b){for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(_[y]=b[y])},f(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");f(d,h);function _(){this.constructor=d}d.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}(),t=B&&B.__read||function(f,d){var h=typeof Symbol=="function"&&f[Symbol.iterator];if(!h)return f;var _=h.call(f),b,y=[],w;try{for(;(d===void 0||d-- >0)&&!(b=_.next()).done;)y.push(b.value)}catch(O){w={error:O}}finally{try{b&&!b.done&&(h=_.return)&&h.call(_)}finally{if(w)throw w.error}}return y},r=B&&B.__spreadArray||function(f,d,h){if(h||arguments.length===2)for(var _=0,b=d.length,y;_<b;_++)(y||!(_ in d))&&(y||(y=Array.prototype.slice.call(d,0,_)),y[_]=d[_]);return f.concat(y||Array.prototype.slice.call(d))};Object.defineProperty(n,"__esModule",{value:!0}),n.HashMap=void 0;var i=Vu(),o=ms(),s=Bu(),l=Hu(),a=Qu(),u=ks(),c=function(f){e(d,f);function d(){for(var h=[],_=0;_<arguments.length;_++)h[_]=arguments[_];var b=f.call(this,function(y){return new s.MapElementList(y)})||this;return o.IHashContainer.construct.apply(o.IHashContainer,r([b,d,function(y,w){b.buckets_=new l.MapHashBuckets(b,y,w)}],t(h),!1)),b}return d.prototype.clear=function(){this.buckets_.clear(),f.prototype.clear.call(this)},d.prototype.swap=function(h){var _,b;_=t([h.data_,this.data_],2),this.data_=_[0],h.data_=_[1],s.MapElementList._Swap_associative(this.data_,h.data_),l.MapHashBuckets._Swap_source(this.buckets_,h.buckets_),b=t([h.buckets_,this.buckets_],2),this.buckets_=b[0],h.buckets_=b[1]},d.prototype.find=function(h){return this.buckets_.find(h)},d.prototype.begin=function(h){return h===void 0&&(h=null),h===null?f.prototype.begin.call(this):this.buckets_.at(h)[0]},d.prototype.end=function(h){if(h===void 0&&(h=null),h===null)return f.prototype.end.call(this);var _=this.buckets_.at(h);return _[_.length-1].next()},d.prototype.rbegin=function(h){return h===void 0&&(h=null),this.end(h).reverse()},d.prototype.rend=function(h){return h===void 0&&(h=null),this.begin(h).reverse()},d.prototype.bucket_count=function(){return this.buckets_.length()},d.prototype.bucket_size=function(h){return this.buckets_.at(h).length},d.prototype.load_factor=function(){return this.buckets_.load_factor()},d.prototype.hash_function=function(){return this.buckets_.hash_function()},d.prototype.key_eq=function(){return this.buckets_.key_eq()},d.prototype.bucket=function(h){return this.hash_function()(h)%this.buckets_.length()},d.prototype.max_load_factor=function(h){return h===void 0&&(h=null),this.buckets_.max_load_factor(h)},d.prototype.reserve=function(h){this.buckets_.reserve(h)},d.prototype.rehash=function(h){this.buckets_.rehash(h)},d.prototype.emplace=function(h,_){var b=this.find(h);return b.equals(this.end())===!1?new u.Pair(b,!1):(this.data_.push(new a.Entry(h,_)),b=b.prev(),this._Handle_insert(b,b.next()),new u.Pair(b,!0))},d.prototype.emplace_hint=function(h,_,b){var y=this.find(_);return y.equals(this.end())===!0&&(y=this.data_.insert(h,new a.Entry(_,b)),this._Handle_insert(y,y.next())),y},d.prototype._Handle_insert=function(h,_){for(;!h.equals(_);h=h.next())this.buckets_.insert(h)},d.prototype._Handle_erase=function(h,_){for(;!h.equals(_);h=h.next())this.buckets_.erase(h)},d}(i.UniqueMap);n.HashMap=c,function(f){f.Iterator=s.MapElementList.Iterator,f.ReverseIterator=s.MapElementList.ReverseIterator}(c=n.HashMap||(n.HashMap={})),n.HashMap=c}(Mr)),Mr}var Ni;function zu(){if(Ni)return Zt;Ni=1;var n=B&&B.__values||function(i){var o=typeof Symbol=="function"&&i[Symbol.iterator],s=0;return o?o.call(i):{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}}};Object.defineProperty(Zt,"__esModule",{value:!0});var e=ju(),t=Ku(),r=function(){function i(){this.listeners_=new t.HashMap,this.created_at_=new Date}return i.prototype.dispatchEvent=function(o){var s,l,a=this.listeners_.find(o.type);if(!a.equals(this.listeners_.end())){o.target=this,o.timeStamp=new Date().getTime()-this.created_at_.getTime();try{for(var u=n(a.second),c=u.next();!c.done;c=u.next()){var f=c.value;f(o)}}catch(d){s={error:d}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(s)throw s.error}}}},i.prototype.addEventListener=function(o,s){var l=this.listeners_.find(o);l.equals(this.listeners_.end())&&(l=this.listeners_.emplace(o,new e.HashSet).first),l.second.insert(s)},i.prototype.removeEventListener=function(o,s){var l=this.listeners_.find(o);l.equals(this.listeners_.end())||(l.second.erase(s),l.second.empty()&&this.listeners_.erase(l))},i}();return Zt.EventTarget=r,Zt}var xt={},Ui;function kr(){if(Ui)return xt;Ui=1,Object.defineProperty(xt,"__esModule",{value:!0});var n=function(){function e(t,r){this.type=t,r&&Object.assign(this,r)}return e}();return xt.Event=n,xt}var $t={},ji;function Gu(){if(ji)return $t;ji=1;var n=B&&B.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var a in l)l.hasOwnProperty(a)&&(s[a]=l[a])},r(i,o)};return function(i,o){r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty($t,"__esModule",{value:!0});var e=kr(),t=function(r){n(i,r);function i(o,s){return r.call(this,o,s)||this}return i}(e.Event);return $t.CloseEvent=t,$t}var er={},Fi;function Ju(){if(Fi)return er;Fi=1;var n=B&&B.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var a in l)l.hasOwnProperty(a)&&(s[a]=l[a])},r(i,o)};return function(i,o){r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(er,"__esModule",{value:!0});var e=kr(),t=function(r){n(i,r);function i(o,s){return r.call(this,o,s)||this}return i}(e.Event);return er.MessageEvent=t,er}var tr={},Vi;function Wu(){if(Vi)return tr;Vi=1;var n=B&&B.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var a in l)l.hasOwnProperty(a)&&(s[a]=l[a])},r(i,o)};return function(i,o){r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(tr,"__esModule",{value:!0});var e=kr(),t=function(r){n(i,r);function i(o,s){return r.call(this,o,s)||this}return i}(e.Event);return tr.ErrorEvent=t,tr}var Bi;function Yu(){return Bi||(Bi=1,function(n){var e=B&&B.__extends||function(){var f=function(d,h){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,b){_.__proto__=b}||function(_,b){for(var y in b)b.hasOwnProperty(y)&&(_[y]=b[y])},f(d,h)};return function(d,h){f(d,h);function _(){this.constructor=d}d.prototype=h===null?Object.create(h):(_.prototype=h.prototype,new _)}}(),t=B&&B.__assign||function(){return t=Object.assign||function(f){for(var d,h=1,_=arguments.length;h<_;h++){d=arguments[h];for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(f[b]=d[b])}return f},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var r=Iu(),i=zu(),o=kr(),s=Gu(),l=Ju(),a=Wu(),u=function(f){e(d,f);function d(h,_){var b=f.call(this)||this;return b.on_={},b.state_=d.CONNECTING,b.client_=new r.client,b.client_.on("connect",b._Handle_connect.bind(b)),b.client_.on("connectFailed",b._Handle_error.bind(b)),typeof _=="string"&&(_=[_]),b.client_.connect(h,_),b}return d.prototype.close=function(h,_){this.state_=d.CLOSING,h===void 0?this.connection_.sendCloseFrame():this.connection_.sendCloseFrame(h,_,!0)},d.prototype.send=function(h){if(typeof h.valueOf()=="string")this.connection_.sendUTF(h);else{var _=void 0;h instanceof Buffer?_=h:h instanceof Blob?_=new Buffer(h,"blob"):h.buffer?_=new Buffer(h.buffer):_=new Buffer(h),this.connection_.sendBytes(_)}},Object.defineProperty(d.prototype,"url",{get:function(){return this.client_.url.href},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"protocol",{get:function(){return this.client_.protocols?this.client_.protocols[0]:""},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"extensions",{get:function(){return this.connection_&&this.connection_.extensions?this.connection_.extensions[0].name:""},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"readyState",{get:function(){return this.state_},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"bufferedAmount",{get:function(){return this.connection_.bytesWaitingToFlush},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"binaryType",{get:function(){return"arraybuffer"},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onopen",{get:function(){return this.on_.open},set:function(h){this._Set_on("open",h)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onclose",{get:function(){return this.on_.close},set:function(h){this._Set_on("close",h)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onmessage",{get:function(){return this.on_.message},set:function(h){this._Set_on("message",h)},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"onerror",{get:function(){return this.on_.error},set:function(h){this._Set_on("error",h)},enumerable:!0,configurable:!0}),d.prototype._Set_on=function(h,_){this.on_[h]&&this.removeEventListener(h,this.on_[h]),this.addEventListener(h,_),this.on_[h]=_},d.prototype._Handle_connect=function(h){this.connection_=h,this.state_=d.OPEN,this.connection_.on("message",this._Handle_message.bind(this)),this.connection_.on("error",this._Handle_error.bind(this)),this.connection_.on("close",this._Handle_close.bind(this));var _=new o.Event("open",c);this.dispatchEvent(_)},d.prototype._Handle_close=function(h,_){var b=new s.CloseEvent("close",t({},c,{code:h,reason:_}));this.state_=d.CLOSED,this.dispatchEvent(b)},d.prototype._Handle_message=function(h){var _=new l.MessageEvent("message",t({},c,{data:h.binaryData?h.binaryData:h.utf8Data}));this.dispatchEvent(_)},d.prototype._Handle_error=function(h){var _=new a.ErrorEvent("error",t({},c,{error:h,message:h.message}));this.state_===d.CONNECTING&&(this.state_=d.CLOSED),this.dispatchEvent(_)},d}(i.EventTarget);n.WebSocket=u,function(f){f.CONNECTING=0,f.OPEN=1,f.CLOSING=2,f.CLOSED=3}(u=n.WebSocket||(n.WebSocket={})),n.WebSocket=u;var c={bubbles:!1,cancelable:!1}}(Sr)),Sr}var Xu=Wt;Xu.is_node()&&(B.WebSocket=Yu().WebSocket);const Zu='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>',xu='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/></svg>',$u='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"/></svg>',ec='<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"/></svg>';function Hi(n,e,t){const r=n.slice();return r[37]=e[t],r}function Qi(n,e,t){const r=n.slice();return r[40]=e[t],r}function Ki(n){let e,t,r,i,o,s,l=n[0].amounts,a=[];for(let u=0;u<l.length;u+=1)a[u]=zi(Qi(n,l,u));return{c(){e=g("label"),t=g("select");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=k(u,"LABEL",{class:!0});var c=E(e);t=k(c,"SELECT",{class:!0,"aria-label":!0});var f=E(t);for(let d=0;d<a.length;d+=1)a[d].l(f);f.forEach(v),c.forEach(v),this.h()},h(){m(t,"class",r="paginator-select "+n[13]),t.disabled=n[1],m(t,"aria-label","Select Amount"),n[0].limit===void 0&&or(()=>n[27].call(t)),m(e,"class",i="paginator-label "+n[14])},m(u,c){I(u,e,c),p(e,t);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(t,null);fn(t,n[0].limit,!0),o||(s=[X(t,"change",n[27]),X(t,"change",n[18])],o=!0)},p(u,c){if(c[0]&33){l=u[0].amounts;let f;for(f=0;f<l.length;f+=1){const d=Qi(u,l,f);a[f]?a[f].p(d,c):(a[f]=zi(d),a[f].c(),a[f].m(t,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=l.length}c[0]&8192&&r!==(r="paginator-select "+u[13])&&m(t,"class",r),c[0]&2&&(t.disabled=u[1]),c[0]&1&&fn(t,u[0].limit),c[0]&16384&&i!==(i="paginator-label "+u[14])&&m(e,"class",i)},d(u){u&&v(e),_t(a,u),o=!1,He(s)}}}function zi(n){let e,t=n[40]+"",r,i,o,s;return{c(){e=g("option"),r=C(t),i=j(),o=C(n[5]),this.h()},l(l){e=k(l,"OPTION",{});var a=E(e);r=P(a,t),i=F(a),o=P(a,n[5]),a.forEach(v),this.h()},h(){e.__value=s=n[40],e.value=e.__value},m(l,a){I(l,e,a),p(e,r),p(e,i),p(e,o)},p(l,a){a[0]&1&&t!==(t=l[40]+"")&&N(r,t),a[0]&32&&N(o,l[5]),a[0]&1&&s!==(s=l[40])&&(e.__value=s,e.value=e.__value)},d(l){l&&v(e)}}}function Gi(n){let e,t,r,i;return{c(){e=g("button"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var s=E(e);s.forEach(v),this.h()},h(){m(e,"type","button"),m(e,"class",n[6]),e.disabled=t=n[1]||n[0].offset===0},m(o,s){I(o,e,s),e.innerHTML=n[9],r||(i=X(e,"click",n[28]),r=!0)},p(o,s){s[0]&512&&(e.innerHTML=o[9]),s[0]&64&&m(e,"class",o[6]),s[0]&3&&t!==(t=o[1]||o[0].offset===0)&&(e.disabled=t)},d(o){o&&v(e),r=!1,i()}}}function Ji(n){let e,t,r,i;return{c(){e=g("button"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var s=E(e);s.forEach(v),this.h()},h(){m(e,"type","button"),m(e,"class",n[6]),e.disabled=t=n[1]||n[0].offset===0},m(o,s){I(o,e,s),e.innerHTML=n[7],r||(i=X(e,"click",n[29]),r=!0)},p(o,s){s[0]&128&&(e.innerHTML=o[7]),s[0]&64&&m(e,"class",o[6]),s[0]&3&&t!==(t=o[1]||o[0].offset===0)&&(e.disabled=t)},d(o){o&&v(e),r=!1,i()}}}function tc(n){let e,t=n[11],r=[];for(let i=0;i<t.length;i+=1)r[i]=Wi(Hi(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=x()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=x()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);I(i,e,o)},p(i,o){if(o[0]&591936){t=i[11];let s;for(s=0;s<t.length;s+=1){const l=Hi(i,t,s);r[s]?r[s].p(l,o):(r[s]=Wi(l),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=t.length}},d(i){_t(r,i),i&&v(e)}}}function rc(n){let e,t,r=n[0].offset*n[0].limit+1+"",i,o,s=Math.min(n[0].offset*n[0].limit+n[0].limit,n[0].size)+"",l,a,u,c,f=n[0].size+"",d;return{c(){e=g("button"),t=g("div"),i=C(r),o=C("-"),l=C(s),a=j(),u=g("div"),c=C("of "),d=C(f),this.h()},l(h){e=k(h,"BUTTON",{type:!0,class:!0});var _=E(e);t=k(_,"DIV",{class:!0});var b=E(t);i=P(b,r),o=P(b,"-"),l=P(b,s),a=F(b),u=k(b,"DIV",{class:!0});var y=E(u);c=P(y,"of "),d=P(y,f),y.forEach(v),b.forEach(v),_.forEach(v),this.h()},h(){m(u,"class","opacity-50"),m(t,"class","whitespace-pre-line"),m(e,"type","button"),m(e,"class","pointer-events-none !text-sm !p-0")},m(h,_){I(h,e,_),p(e,t),p(t,i),p(t,o),p(t,l),p(t,a),p(t,u),p(u,c),p(u,d)},p(h,_){_[0]&1&&r!==(r=h[0].offset*h[0].limit+1+"")&&N(i,r),_[0]&1&&s!==(s=Math.min(h[0].offset*h[0].limit+h[0].limit,h[0].size)+"")&&N(l,s),_[0]&1&&f!==(f=h[0].size+"")&&N(d,f)},d(h){h&&v(e)}}}function Wi(n){let e,t=(n[37]>=0?n[37]+1:"...")+"",r,i,o,s,l;function a(){return n[30](n[37])}return{c(){e=g("button"),r=C(t),i=j(),this.h()},l(u){e=k(u,"BUTTON",{type:!0,class:!0});var c=E(e);r=P(c,t),i=F(c),c.forEach(v),this.h()},h(){m(e,"type","button"),m(e,"class",o=n[6]+" "+n[16](n[37]))},m(u,c){I(u,e,c),p(e,r),p(e,i),s||(l=X(e,"click",a),s=!0)},p(u,c){n=u,c[0]&2048&&t!==(t=(n[37]>=0?n[37]+1:"...")+"")&&N(r,t),c[0]&67648&&o!==(o=n[6]+" "+n[16](n[37]))&&m(e,"class",o)},d(u){u&&v(e),s=!1,l()}}}function Yi(n){let e,t,r,i;return{c(){e=g("button"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var s=E(e);s.forEach(v),this.h()},h(){m(e,"type","button"),m(e,"class",n[6]),e.disabled=t=n[1]||(n[0].offset+1)*n[0].limit>=n[0].size},m(o,s){I(o,e,s),e.innerHTML=n[8],r||(i=X(e,"click",n[31]),r=!0)},p(o,s){s[0]&256&&(e.innerHTML=o[8]),s[0]&64&&m(e,"class",o[6]),s[0]&3&&t!==(t=o[1]||(o[0].offset+1)*o[0].limit>=o[0].size)&&(e.disabled=t)},d(o){o&&v(e),r=!1,i()}}}function Xi(n){let e,t,r,i;return{c(){e=g("button"),this.h()},l(o){e=k(o,"BUTTON",{type:!0,class:!0});var s=E(e);s.forEach(v),this.h()},h(){m(e,"type","button"),m(e,"class",n[6]),e.disabled=t=n[1]||(n[0].offset+1)*n[0].limit>=n[0].size},m(o,s){I(o,e,s),e.innerHTML=n[10],r||(i=X(e,"click",n[32]),r=!0)},p(o,s){s[0]&1024&&(e.innerHTML=o[10]),s[0]&64&&m(e,"class",o[6]),s[0]&3&&t!==(t=o[1]||(o[0].offset+1)*o[0].limit>=o[0].size)&&(e.disabled=t)},d(o){o&&v(e),r=!1,i()}}}function nc(n){let e,t,r,i,o,s,l,a,u,c=n[0].amounts.length&&Ki(n),f=n[3]&&Gi(n),d=n[2]&&Ji(n);function h(O,R){return O[4]===!1?rc:tc}let _=h(n),b=_(n),y=n[2]&&Yi(n),w=n[3]&&Xi(n);return{c(){e=g("div"),c&&c.c(),t=j(),r=g("div"),f&&f.c(),i=j(),d&&d.c(),o=j(),b.c(),s=j(),y&&y.c(),l=j(),w&&w.c(),this.h()},l(O){e=k(O,"DIV",{class:!0,"data-testid":!0});var R=E(e);c&&c.l(R),t=F(R),r=k(R,"DIV",{class:!0});var T=E(r);f&&f.l(T),i=F(T),d&&d.l(T),o=F(T),b.l(T),s=F(T),y&&y.l(T),l=F(T),w&&w.l(T),T.forEach(v),R.forEach(v),this.h()},h(){m(r,"class",a="paginator-controls "+n[12]+" h-full"),m(e,"class",u="paginator "+n[15]+" h-full"),m(e,"data-testid","paginator")},m(O,R){I(O,e,R),c&&c.m(e,null),p(e,t),p(e,r),f&&f.m(r,null),p(r,i),d&&d.m(r,null),p(r,o),b.m(r,null),p(r,s),y&&y.m(r,null),p(r,l),w&&w.m(r,null)},p(O,R){O[0].amounts.length?c?c.p(O,R):(c=Ki(O),c.c(),c.m(e,t)):c&&(c.d(1),c=null),O[3]?f?f.p(O,R):(f=Gi(O),f.c(),f.m(r,i)):f&&(f.d(1),f=null),O[2]?d?d.p(O,R):(d=Ji(O),d.c(),d.m(r,o)):d&&(d.d(1),d=null),_===(_=h(O))&&b?b.p(O,R):(b.d(1),b=_(O),b&&(b.c(),b.m(r,s))),O[2]?y?y.p(O,R):(y=Yi(O),y.c(),y.m(r,l)):y&&(y.d(1),y=null),O[3]?w?w.p(O,R):(w=Xi(O),w.c(),w.m(r,null)):w&&(w.d(1),w=null),R[0]&4096&&a!==(a="paginator-controls "+O[12]+" h-full")&&m(r,"class",a),R[0]&32768&&u!==(u="paginator "+O[15]+" h-full")&&m(e,"class",u)},i:H,o:H,d(O){O&&v(e),c&&c.d(),f&&f.d(),d&&d.d(),b.d(),y&&y.d(),w&&w.d()}}}const ic="flex flex-col  items-center ",oc="w-full md:w-auto";function sc(n,e,t){let r,i,o,s,l,a;const u=Ro();let{settings:c={offset:0,limit:5,size:0,amounts:[1,2,5,10]}}=e,{disabled:f=!1}=e,{showPreviousNextButtons:d=!0}=e,{showFirstLastButtons:h=!1}=e,{showNumerals:_=!1}=e,{maxNumerals:b=1}=e,{justify:y="justify-between"}=e,{select:w="select min-w-[150px]"}=e,{amountText:O="Items"}=e,{regionControl:R="btn-group"}=e,{controlVariant:T="variant-filled"}=e,{controlSeparator:A=""}=e,{active:S="variant-filled-primary"}=e,{buttonClasses:L="!px-3 !py-1.5 fill-current"}=e,{buttonTextPrevious:q=Zu}=e,{buttonTextNext:D=xu}=e,{buttonTextFirst:K=$u}=e,{buttonTextLast:$=ec}=e,W=z();function ee(){t(0,c.offset=0,c),u("amount",c.limit),t(17,r=Math.ceil(c.size/c.limit-1)),t(11,W=z())}function ne(Q){Q<0||(t(0,c.offset=Q,c),u("page",c.offset),t(11,W=z()))}function Y(){const Q=[];for(let te=0;te<=r;te++)Q.push(te);return Q}function z(){const Q=[],te=c.offset<b+2,se=c.offset>r-(b+2);if(r<=b*2+1)return Y();if(Q.push(0),te||Q.push(-1),te||se){const ae=te?1:r-(b+2),qe=se?r-1:b+2;for(let de=ae;de<=qe;de++)Q.push(de)}else for(let ae=c.offset-b;ae<=c.offset+b;ae++)Q.push(ae);return se||Q.push(-1),Q.push(r),Q}function G(){c.limit=Rs(this),t(0,c)}const re=()=>{ne(0)},he=()=>{ne(c.offset-1)},J=Q=>ne(Q),_e=()=>{ne(c.offset+1)},pe=()=>{ne(r)};return n.$$set=Q=>{t(36,e=Ue(Ue({},e),Ke(Q))),"settings"in Q&&t(0,c=Q.settings),"disabled"in Q&&t(1,f=Q.disabled),"showPreviousNextButtons"in Q&&t(2,d=Q.showPreviousNextButtons),"showFirstLastButtons"in Q&&t(3,h=Q.showFirstLastButtons),"showNumerals"in Q&&t(4,_=Q.showNumerals),"maxNumerals"in Q&&t(20,b=Q.maxNumerals),"justify"in Q&&t(21,y=Q.justify),"select"in Q&&t(22,w=Q.select),"amountText"in Q&&t(5,O=Q.amountText),"regionControl"in Q&&t(23,R=Q.regionControl),"controlVariant"in Q&&t(24,T=Q.controlVariant),"controlSeparator"in Q&&t(25,A=Q.controlSeparator),"active"in Q&&t(26,S=Q.active),"buttonClasses"in Q&&t(6,L=Q.buttonClasses),"buttonTextPrevious"in Q&&t(7,q=Q.buttonTextPrevious),"buttonTextNext"in Q&&t(8,D=Q.buttonTextNext),"buttonTextFirst"in Q&&t(9,K=Q.buttonTextFirst),"buttonTextLast"in Q&&t(10,$=Q.buttonTextLast)},n.$$.update=()=>{n.$$.dirty[0]&1&&t(17,r=Math.ceil(c.size/c.limit-1)),n.$$.dirty[0]&67108865&&t(16,i=Q=>Q===c.offset?`${S} pointer-events-none`:""),n.$$.dirty[0]&1048576&&ee(),t(15,o=`${ic} ${y} ${e.class??""}`),n.$$.dirty[0]&4194304&&t(13,l=`${w}`),n.$$.dirty[0]&58720256&&t(12,a=`${R} ${T} ${A}`)},t(14,s=`${oc}`),e=Ke(e),[c,f,d,h,_,O,L,q,D,K,$,W,a,l,s,o,i,r,ee,ne,b,y,w,R,T,A,S,G,re,he,J,_e,pe]}class rh extends Te{constructor(e){super(),De(this,e,sc,nc,Oe,{settings:0,disabled:1,showPreviousNextButtons:2,showFirstLastButtons:3,showNumerals:4,maxNumerals:20,justify:21,select:22,amountText:5,regionControl:23,controlVariant:24,controlSeparator:25,active:26,buttonClasses:6,buttonTextPrevious:7,buttonTextNext:8,buttonTextFirst:9,buttonTextLast:10},null,[-1,-1])}}async function Zi(n){const e=ac(n),t=await caches.open("user-icon-cache-v1"),r=await t.match(`../usericon/${e}`);if(r){console.log(r);const i=await r.blob();return URL.createObjectURL(i)}else try{const i=await fetch(n);if(i.ok){t.put(`../usericon/${e}`,i.clone());const o=await i.blob();return URL.createObjectURL(o)}else return n}catch{return n}}function ac(n){const e=lc(n),t=uc(n);return`image-${e}.${t}`}function lc(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);e=(e<<5)-e+r,e|=0}return e}function uc(n){const e=n.split(".");return e[e.length-1]}function xi(n){let e,t,r,i,o=JSON.parse(n[1][0].value.metadata.content).picture,s,l,a,u,c,f,d,h,_,b,y=JSON.parse(n[1][0].value.metadata.content).about+"",w,O,R,T,A,S,L,q=JSON.stringify(n[1][0].value.metadata,void 0,4)+"",D,K,$,W,ee,ne,Y,z,G,re,he,J,_e,pe,Q,te=n[0].buttonTextCancel+"",se,ae,qe,de=o&&$i(n);return{c(){e=g("div"),t=g("div"),r=g("div"),i=g("div"),de&&de.c(),s=j(),l=g("div"),a=g("img"),c=j(),f=g("div"),d=g("div"),h=C("about"),_=j(),b=g("div"),w=C(y),O=j(),R=g("div"),T=g("div"),A=C("profileJSON"),S=j(),L=g("div"),D=C(q),K=j(),$=g("div"),W=g("div"),ee=g("button"),ne=C("copy pubKey"),Y=j(),z=g("button"),G=C("copy hexKey"),re=j(),he=g("div"),J=g("button"),_e=C("Open in external app"),pe=j(),Q=g("button"),se=C(te),this.h()},l(Ae){e=k(Ae,"DIV",{class:!0});var V=E(e);t=k(V,"DIV",{class:!0});var ge=E(t);r=k(ge,"DIV",{class:!0});var je=E(r);i=k(je,"DIV",{class:!0});var xe=E(i);de&&de.l(xe),xe.forEach(v),s=F(je),l=k(je,"DIV",{});var lt=E(l);a=k(lt,"IMG",{class:!0,src:!0,alt:!0}),lt.forEach(v),je.forEach(v),c=F(ge),f=k(ge,"DIV",{class:!0});var $e=E(f);d=k($e,"DIV",{class:!0});var ke=E(d);h=P(ke,"about"),ke.forEach(v),_=F($e),b=k($e,"DIV",{class:!0});var we=E(b);w=P(we,y),we.forEach(v),$e.forEach(v),O=F(ge),R=k(ge,"DIV",{class:!0});var Fe=E(R);T=k(Fe,"DIV",{class:!0});var me=E(T);A=P(me,"profileJSON"),me.forEach(v),S=F(Fe),L=k(Fe,"DIV",{class:!0});var vt=E(L);D=P(vt,q),vt.forEach(v),Fe.forEach(v),ge.forEach(v),K=F(V),$=k(V,"DIV",{class:!0});var et=E($);W=k(et,"DIV",{class:!0});var Ne=E(W);ee=k(Ne,"BUTTON",{type:!0,class:!0});var be=E(ee);ne=P(be,"copy pubKey"),be.forEach(v),Y=F(Ne),z=k(Ne,"BUTTON",{type:!0,class:!0});var pt=E(z);G=P(pt,"copy hexKey"),pt.forEach(v),Ne.forEach(v),re=F(et),he=k(et,"DIV",{class:!0});var tt=E(he);J=k(tt,"BUTTON",{type:!0,class:!0});var mt=E(J);_e=P(mt,"Open in external app"),mt.forEach(v),pe=F(tt),Q=k(tt,"BUTTON",{type:!0,class:!0});var bt=E(Q);se=P(bt,te),bt.forEach(v),tt.forEach(v),et.forEach(v),V.forEach(v),this.h()},h(){m(i,"class","w-16 h-16 rounded-lg flex justify-center overflow-hidden bg-surface-500/25"),m(a,"class",""),ve(a.src,u=JSON.parse(n[1][0].value.metadata.content).banner)||m(a,"src",u),m(a,"alt",""),m(r,"class","grid grid-cols-[auto_1fr] gap-2 max-w-md"),m(d,"class","font-bold"),m(b,"class","break-all whitespace-pre-wrap text-sm max-h-32 overflow-auto"),m(f,"class","rounded-sm border-4 border-dotted border-surface-300 p-1"),m(T,"class","font-bold"),m(L,"class","break-all whitespace-pre-wrap text-sm max-h-24 overflow-auto"),m(R,"class","rounded-sm border-4 border-dotted border-surface-300 p-1"),m(t,"class","grid grid-row-[auto_auto_auto] gap-1 max-w-md"),m(ee,"type","button"),m(ee,"class","btn variant-filled-secondary p-1"),m(z,"type","button"),m(z,"class","btn variant-filled-secondary p-1"),m(W,"class","grid grid-row-[auto_auto] gap-2"),m(J,"type","button"),m(J,"class","btn variant-filled-surface p-2"),m(Q,"type","button"),m(Q,"class","btn variant-filled-surface p-2"),m(he,"class","grid grid-row-[auto_auto] gap-2"),m($,"class","grid grid-cols-[auto_auto] gap-2"),m(e,"class","modal-example-form "+_c+" svelte-1wtdwek")},m(Ae,V){I(Ae,e,V),p(e,t),p(t,r),p(r,i),de&&de.m(i,null),p(r,s),p(r,l),p(l,a),p(t,c),p(t,f),p(f,d),p(d,h),p(f,_),p(f,b),p(b,w),p(t,O),p(t,R),p(R,T),p(T,A),p(R,S),p(R,L),p(L,D),p(e,K),p(e,$),p($,W),p(W,ee),p(ee,ne),p(W,Y),p(W,z),p(z,G),p($,re),p($,he),p(he,J),p(J,_e),p(he,pe),p(he,Q),p(Q,se),ae||(qe=[X(ee,"click",n[3]),X(z,"click",n[4]),X(J,"click",n[5]),X(Q,"click",function(){vr(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],ae=!0)},p(Ae,V){n=Ae,V&2&&(o=JSON.parse(n[1][0].value.metadata.content).picture),o?de?de.p(n,V):(de=$i(n),de.c(),de.m(i,null)):de&&(de.d(1),de=null),V&2&&!ve(a.src,u=JSON.parse(n[1][0].value.metadata.content).banner)&&m(a,"src",u),V&2&&y!==(y=JSON.parse(n[1][0].value.metadata.content).about+"")&&N(w,y),V&2&&q!==(q=JSON.stringify(n[1][0].value.metadata,void 0,4)+"")&&N(D,q),V&1&&te!==(te=n[0].buttonTextCancel+"")&&N(se,te)},d(Ae){Ae&&v(e),de&&de.d(),ae=!1,He(qe)}}}function $i(n){let e,t,r={ctx:n,current:null,token:null,hasCatch:!1,pending:dc,then:fc,catch:cc,value:6};return Xe(t=Zi(JSON.parse(n[1][0].value.metadata.content).picture),r),{c(){e=x(),r.block.c()},l(i){e=x(),r.block.l(i)},m(i,o){I(i,e,o),r.block.m(i,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e},p(i,o){n=i,r.ctx=n,o&2&&t!==(t=Zi(JSON.parse(n[1][0].value.metadata.content).picture))&&Xe(t,r)||pr(r,n,o)},d(i){i&&v(e),r.block.d(i),r.token=null,r=null}}}function cc(n){return{c:H,l:H,m:H,p:H,d:H}}function fc(n){let e,t;return{c(){e=g("img"),this.h()},l(r){e=k(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","w-16 object-contain justify-center"),ve(e.src,t=n[6])||m(e,"src",t),m(e,"alt","avatar")},m(r,i){I(r,e,i)},p(r,i){i&2&&!ve(e.src,t=r[6])&&m(e,"src",t)},d(r){r&&v(e)}}}function dc(n){return{c:H,l:H,m:H,p:H,d:H}}function hc(n){let e,t=n[1][0]&&xi(n);return{c(){t&&t.c(),e=x()},l(r){t&&t.l(r),e=x()},m(r,i){t&&t.m(r,i),I(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=xi(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(r){t&&t.d(r),r&&v(e)}}}const _c="card p-4  shadow-xl space-y-4 break-all";function vc(n,e,t){let r;Be(n,Re,u=>t(1,r=u));let{parent:i}=e;function o(u){var f,d;const c=u==="npub"?Z.npubEncode((f=r[0])==null?void 0:f.value.pubkey):(d=r[0])==null?void 0:d.value.pubkey;navigator.clipboard.writeText(c).then(()=>{console.log(`copied: ${c.slice(0,15)}...`);const h={message:`copied: ${c.slice(0,15)}...`,timeout:3e3};lr.trigger(h)},()=>{console.log("");const h={message:"failed to copy",timeout:3e3,background:"bg-orange-500 text-white width-filled "};lr.trigger(h)}),i.onClose()}const s=()=>o("npub"),l=()=>o("hex"),a=()=>{var u;window.open("https://nostr.com/"+Z.npubEncode((u=r[0])==null?void 0:u.value.pubkey),"_blank"),i.onClose()};return n.$$set=u=>{"parent"in u&&t(0,i=u.parent)},[i,r,o,s,l,a]}class sn extends Te{constructor(e){super(),De(this,e,vc,hc,Oe,{parent:0})}}function eo(n){let e,t,r=(n[1][0].title??"(title missing)")+"",i,o,s,l=JSON.stringify(n[1][0].value.note,void 0,4)+"",a,u,c,f,d,h,_,b,y,w,O,R=n[0].buttonTextCancel+"",T,A,S,L;return{c(){e=g("div"),t=g("header"),i=C(r),o=j(),s=g("div"),a=C(l),u=j(),c=g("footer"),f=g("div"),d=g("button"),h=C("copy noteID"),_=j(),b=g("button"),y=C("copy hexID"),w=j(),O=g("button"),T=C(R),this.h()},l(q){e=k(q,"DIV",{class:!0});var D=E(e);t=k(D,"HEADER",{class:!0});var K=E(t);i=P(K,r),K.forEach(v),o=F(D),s=k(D,"DIV",{class:!0});var $=E(s);a=P($,l),$.forEach(v),u=F(D),c=k(D,"FOOTER",{class:!0});var W=E(c);f=k(W,"DIV",{class:!0});var ee=E(f);d=k(ee,"BUTTON",{type:!0,class:!0});var ne=E(d);h=P(ne,"copy noteID"),ne.forEach(v),_=F(ee),b=k(ee,"BUTTON",{type:!0,class:!0});var Y=E(b);y=P(Y,"copy hexID"),Y.forEach(v),w=F(ee),O=k(ee,"BUTTON",{type:!0,class:!0});var z=E(O);T=P(z,R),z.forEach(v),ee.forEach(v),W.forEach(v),D.forEach(v),this.h()},h(){m(t,"class",bc),m(s,"class","bg-surface-50-900-token break-words whitespace-pre-wrap max-h-60 overflow-auto"),m(d,"type","button"),m(d,"class","btn variant-filled-secondary p-1"),m(b,"type","button"),m(b,"class","btn variant-filled-secondary p-1"),m(O,"type","button"),m(O,"class","btn variant-filled-surface p-2"),m(f,"class","flex flex-wrap gap-2"),m(c,"class",A="modal-footer "+n[0].regionFooter),m(e,"class","modal-example-form "+mc+" bg-surface-200-700-token")},m(q,D){I(q,e,D),p(e,t),p(t,i),p(e,o),p(e,s),p(s,a),p(e,u),p(e,c),p(c,f),p(f,d),p(d,h),p(f,_),p(f,b),p(b,y),p(f,w),p(f,O),p(O,T),S||(L=[X(d,"click",n[3]),X(b,"click",n[4]),X(O,"click",function(){vr(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],S=!0)},p(q,D){n=q,D&2&&r!==(r=(n[1][0].title??"(title missing)")+"")&&N(i,r),D&2&&l!==(l=JSON.stringify(n[1][0].value.note,void 0,4)+"")&&N(a,l),D&1&&R!==(R=n[0].buttonTextCancel+"")&&N(T,R),D&1&&A!==(A="modal-footer "+n[0].regionFooter)&&m(c,"class",A)},d(q){q&&v(e),S=!1,He(L)}}}function pc(n){let e,t=n[1][0]&&eo(n);return{c(){t&&t.c(),e=x()},l(r){t&&t.l(r),e=x()},m(r,i){t&&t.m(r,i),I(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=eo(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(r){t&&t.d(r),r&&v(e)}}}const mc="card p-4  shadow-xl space-y-4 break-all",bc="text-2xl font-bold";function yc(n,e,t){let r;Be(n,Re,a=>t(1,r=a));let{parent:i}=e;function o(a){var c,f;const u=a==="note"?Z.noteEncode((c=r[0])==null?void 0:c.value.note.id):(f=r[0])==null?void 0:f.value.note.id;navigator.clipboard.writeText(u).then(()=>{console.log(`copied: ${u.slice(0,15)}...`);const d={message:`copied: ${u.slice(0,15)}...`,timeout:3e3};lr.trigger(d)},()=>{console.log("");const d={message:"failed to copy",timeout:3e3,background:"bg-orange-500 text-white width-filled "};lr.trigger(d)}),i.onClose()}const s=()=>o("note"),l=()=>o("hex");return n.$$set=a=>{"parent"in a&&t(0,i=a.parent)},[i,r,o,s,l]}class ws extends Te{constructor(e){super(),De(this,e,yc,pc,Oe,{parent:0})}}function to(n){let e,t,r=(n[4][0].title??"(title missing)")+"",i,o,s,l=(n[4][0].body??"(body missing)")+"",a,u,c,f,d,h,_,b,y,w,O=n[3].kind+"",R,T,A,S,L,q,D,K,$=n[3].content+"",W,ee,ne,Y,z,G,re,he,J=n[3].tags+"",_e,pe,Q,te,se,ae=n[0].buttonTextCancel+"",qe,de,Ae,V,ge,je,xe,lt,$e,ke=n[3].pubkey!==""&&ro(n),we=n[2]&&no(n);return{c(){e=g("div"),t=g("header"),i=C(r),o=j(),s=g("article"),a=C(l),u=j(),c=g("label"),f=g("textarea"),d=j(),ke&&ke.c(),h=j(),_=g("div"),b=g("b"),y=C("kind:"),w=j(),R=C(O),T=g("br"),A=j(),S=g("b"),L=C("content:"),q=g("br"),D=j(),K=g("span"),W=C($),ee=g("br"),ne=j(),Y=g("b"),z=C("tags:"),G=g("br"),re=j(),we&&we.c(),he=C("["),_e=C(J),pe=C("]"),Q=j(),te=g("footer"),se=g("button"),qe=C(ae),Ae=j(),V=g("button"),ge=C("Post Note"),this.h()},l(Fe){e=k(Fe,"DIV",{class:!0});var me=E(e);t=k(me,"HEADER",{class:!0});var vt=E(t);i=P(vt,r),vt.forEach(v),o=F(me),s=k(me,"ARTICLE",{class:!0});var et=E(s);a=P(et,l),et.forEach(v),u=F(me),c=k(me,"LABEL",{class:!0});var Ne=E(c);f=k(Ne,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),E(f).forEach(v),d=F(Ne),ke&&ke.l(Ne),h=F(Ne),_=k(Ne,"DIV",{class:!0});var be=E(_);b=k(be,"B",{});var pt=E(b);y=P(pt,"kind:"),pt.forEach(v),w=F(be),R=P(be,O),T=k(be,"BR",{}),A=F(be),S=k(be,"B",{});var tt=E(S);L=P(tt,"content:"),tt.forEach(v),q=k(be,"BR",{}),D=F(be),K=k(be,"SPAN",{class:!0});var mt=E(K);W=P(mt,$),mt.forEach(v),ee=k(be,"BR",{}),ne=F(be),Y=k(be,"B",{});var bt=E(Y);z=P(bt,"tags:"),bt.forEach(v),G=k(be,"BR",{}),re=F(be),we&&we.l(be),he=P(be,"["),_e=P(be,J),pe=P(be,"]"),be.forEach(v),Q=F(Ne),te=k(Ne,"FOOTER",{class:!0});var Yt=E(te);se=k(Yt,"BUTTON",{class:!0});var an=E(se);qe=P(an,ae),an.forEach(v),Ae=F(Yt),V=k(Yt,"BUTTON",{class:!0});var ln=E(V);ge=P(ln,"Post Note"),ln.forEach(v),Yt.forEach(v),Ne.forEach(v),me.forEach(v),this.h()},h(){m(t,"class",wc),m(s,"class","body"),m(f,"class","textarea"),m(f,"rows","5"),m(f,"placeholder",""),m(K,"class","whitespace-pre-wrap"),m(_,"class","break-all text-sm"),m(se,"class",de="btn "+n[0].buttonNeutral),m(V,"class",je="btn "+n[0].buttonPositive),m(te,"class",xe="modal-footer "+n[0].regionFooter),m(c,"class","label break-all whitespace-pre-wrap"),m(e,"class","modal-example-form "+kc)},m(Fe,me){I(Fe,e,me),p(e,t),p(t,i),p(e,o),p(e,s),p(s,a),p(e,u),p(e,c),p(c,f),sr(f,n[1].content),p(c,d),ke&&ke.m(c,null),p(c,h),p(c,_),p(_,b),p(b,y),p(_,w),p(_,R),p(_,T),p(_,A),p(_,S),p(S,L),p(_,q),p(_,D),p(_,K),p(K,W),p(_,ee),p(_,ne),p(_,Y),p(Y,z),p(_,G),p(_,re),we&&we.m(_,null),p(_,he),p(_,_e),p(_,pe),p(c,Q),p(c,te),p(te,se),p(se,qe),p(te,Ae),p(te,V),p(V,ge),lt||($e=[X(f,"input",n[6]),X(se,"click",function(){vr(n[0].onClose)&&n[0].onClose.apply(this,arguments)}),X(V,"click",n[5])],lt=!0)},p(Fe,me){n=Fe,me&16&&r!==(r=(n[4][0].title??"(title missing)")+"")&&N(i,r),me&16&&l!==(l=(n[4][0].body??"(body missing)")+"")&&N(a,l),me&2&&sr(f,n[1].content),n[3].pubkey!==""?ke?ke.p(n,me):(ke=ro(n),ke.c(),ke.m(c,h)):ke&&(ke.d(1),ke=null),me&8&&O!==(O=n[3].kind+"")&&N(R,O),me&8&&$!==($=n[3].content+"")&&N(W,$),n[2]?we?we.p(n,me):(we=no(n),we.c(),we.m(_,he)):we&&(we.d(1),we=null),me&8&&J!==(J=n[3].tags+"")&&N(_e,J),me&1&&ae!==(ae=n[0].buttonTextCancel+"")&&N(qe,ae),me&1&&de!==(de="btn "+n[0].buttonNeutral)&&m(se,"class",de),me&1&&je!==(je="btn "+n[0].buttonPositive)&&m(V,"class",je),me&1&&xe!==(xe="modal-footer "+n[0].regionFooter)&&m(te,"class",xe)},d(Fe){Fe&&v(e),ke&&ke.d(),we&&we.d(),lt=!1,He($e)}}}function ro(n){let e,t,r,i,o,s,l;return{c(){e=g("label"),t=g("input"),r=j(),i=g("p"),o=C("p"),this.h()},l(a){e=k(a,"LABEL",{class:!0});var u=E(e);t=k(u,"INPUT",{class:!0,type:!0}),r=F(u),i=k(u,"P",{});var c=E(i);o=P(c,"p"),c.forEach(v),u.forEach(v),this.h()},h(){m(t,"class","checkbox"),m(t,"type","checkbox"),m(e,"class","flex items-center space-x-2")},m(a,u){I(a,e,u),p(e,t),t.checked=n[2],p(e,r),p(e,i),p(i,o),s||(l=X(t,"change",n[7]),s=!0)},p(a,u){u&4&&(t.checked=a[2])},d(a){a&&v(e),s=!1,l()}}}function no(n){let e,t=n[3].pubkey+"",r,i,o,s;return{c(){e=C("[p,"),r=C(t),i=C(",,mention],"),o=g("br"),s=j()},l(l){e=P(l,"[p,"),r=P(l,t),i=P(l,",,mention],"),o=k(l,"BR",{}),s=F(l)},m(l,a){I(l,e,a),I(l,r,a),I(l,i,a),I(l,o,a),I(l,s,a)},p(l,a){a&8&&t!==(t=l[3].pubkey+"")&&N(r,t)},d(l){l&&v(e),l&&v(r),l&&v(i),l&&v(o),l&&v(s)}}}function gc(n){let e,t=n[4][0]&&to(n);return{c(){t&&t.c(),e=x()},l(r){t&&t.l(r),e=x()},m(r,i){t&&t.m(r,i),I(r,e,i)},p(r,[i]){r[4][0]?t?t.p(r,i):(t=to(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(r){t&&t.d(r),r&&v(e)}}}const kc="card p-4 w-modal shadow-xl space-y-4",wc="text-2xl font-bold";function Ec(n,e,t){let r;Be(n,Re,f=>t(4,r=f));let{parent:i}=e,o,s={pubkey:r[0].value.pubkey?r[0].value.pubkey:"",kind:1,tags:r[0].value.tags,content:r[0].value.content},l={content:r[0].value.content,tags:r[0].value.tags};function a(){l.content===void 0&&t(1,l.content="",l),t(1,l.content=l.content.trim(),l),o&&t(1,l.tags=[["p",s.pubkey,"","mention"],...s.tags],l),r[0].response&&r[0].response(l),Re.close()}function u(){l.content=this.value,t(1,l)}function c(){o=this.checked,t(2,o)}return n.$$set=f=>{"parent"in f&&t(0,i=f.parent)},n.$$.update=()=>{n.$$.dirty&2&&t(3,s.content=l.content,s)},[i,l,o,s,r,a,u,c]}class nh extends Te{constructor(e){super(),De(this,e,Ec,gc,Oe,{parent:0})}}const io=/(:[^:\s]+:)/,oo=/(https?:\/\/+[^\s"'<`\]\)]+[^\s"'<`:\].\)]+)/,so=/\.(?:jpg|jpeg|png|gif|webp)$/i,ao=/(\r\n|\n|\r)/,lo=/(nostr:[A-Za-z0-9]+)/,uo=/(#\[\d+\])/i;async function Oc(n,e){var l;const t=e.filter(a=>a[0]==="emoji");let r=[];t.length>0&&r.push(io.source),r.push(lo.source),r.push(oo.source),r.push(so.source),r.push(ao.source),r.push(uo.source);const i=new RegExp(r.join("|"),"g"),o=n.split(i||" "),s=[];for(let a of o)if(a!==void 0)if(a.match(lo)){const u=a.indexOf("nostr:"),c=a.slice(0,u),f=a.slice(u);s.push({content:c,type:"text"}),s.push({content:f,type:"nostr",url:f.slice(6)})}else if(t.length>0&&a.match(io)){const u=(l=t.find(c=>`:${c[1]}:`===a))==null?void 0:l[2];u?s.push({content:a,type:"emoji",url:u}):s.push({content:a,type:"text"})}else Sc(a)?a.match(oo)?a.match(so)?s.push({content:a,type:"image"}):s.push({content:a,type:"url"}):s.push({content:a,type:"url"}):a.match(ao)?s.push({content:"Newline",type:"newline"}):a.match(uo)?s.push({content:a,type:"quote",number:parseInt(a.slice(2,-1))}):s.push({content:a,type:"text"});return console.log(s),s}function Sc(n){const e=/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i;try{return new URL(n),e.test(n)}catch{return!1}}function co(n){let e,t,r,i,o,s,l=n[0].buttonTextCancel+"",a,u,c,f,d;return{c(){e=g("div"),t=g("img"),i=j(),o=g("footer"),s=g("button"),a=C(l),this.h()},l(h){e=k(h,"DIV",{class:!0});var _=E(e);t=k(_,"IMG",{src:!0,alt:!0,class:!0}),i=F(_),o=k(_,"FOOTER",{class:!0});var b=E(o);s=k(b,"BUTTON",{class:!0});var y=E(s);a=P(y,l),y.forEach(v),b.forEach(v),_.forEach(v),this.h()},h(){var h;ve(t.src,r=(h=n[1][0])==null?void 0:h.image)||m(t,"src",r),m(t,"alt",""),m(t,"class","svelte-1scgpoe"),m(s,"class",u="btn "+n[0].buttonNeutral),m(o,"class",c="modal-footer "+n[0].regionFooter),m(e,"class","modal-example-form "+Cc)},m(h,_){I(h,e,_),p(e,t),p(e,i),p(e,o),p(o,s),p(s,a),f||(d=[X(t,"click",n[2]),X(s,"click",function(){vr(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],f=!0)},p(h,_){var b;n=h,_&2&&!ve(t.src,r=(b=n[1][0])==null?void 0:b.image)&&m(t,"src",r),_&1&&l!==(l=n[0].buttonTextCancel+"")&&N(a,l),_&1&&u!==(u="btn "+n[0].buttonNeutral)&&m(s,"class",u),_&1&&c!==(c="modal-footer "+n[0].regionFooter)&&m(o,"class",c)},d(h){h&&v(e),f=!1,He(d)}}}function Ic(n){let e,t=n[1][0]&&co(n);return{c(){t&&t.c(),e=x()},l(r){t&&t.l(r),e=x()},m(r,i){t&&t.m(r,i),I(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=co(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:H,o:H,d(r){t&&t.d(r),r&&v(e)}}}const Cc="card p-4  shadow-xl space-y-4 break-all";function Pc(n,e,t){let r;Be(n,Re,s=>t(1,r=s));let{parent:i}=e;function o(){var s;window.open((s=r[0])==null?void 0:s.image,"_blank")}return n.$$set=s=>{"parent"in s&&t(0,i=s.parent)},[i,r,o]}class qc extends Te{constructor(e){super(),De(this,e,Pc,Ic,Oe,{parent:0})}}function fo(n){let e,t;return{c(){e=g("img"),this.h()},l(r){e=k(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","object-contain object-contain max-h-[6rem]"),ve(e.src,t=n[0].image)||m(e,"src",t),m(e,"alt","")},m(r,i){I(r,e,i)},p(r,i){i&1&&!ve(e.src,t=r[0].image)&&m(e,"src",t)},d(r){r&&v(e)}}}function ho(n){let e,t;return{c(){e=g("img"),this.h()},l(r){e=k(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","object-contain w-5 pl-0.5 pr-0.5"),ve(e.src,t=n[0].favicon)||m(e,"src",t),m(e,"alt","")},m(r,i){I(r,e,i)},p(r,i){i&1&&!ve(e.src,t=r[0].favicon)&&m(e,"src",t)},d(r){r&&v(e)}}}function Rc(n){let e,t,r,i,o,s,l,a,u=n[0].title+"",c,f,d,h=n[0].description+"",_,b,y,w,O,R=new URL(n[1]).hostname+"",T,A=n[0].image&&fo(n),S=n[0].favicon!==""&&ho(n);return{c(){e=g("div"),t=g("a"),r=g("div"),i=g("div"),o=g("div"),A&&A.c(),s=j(),l=g("div"),a=g("div"),c=C(u),f=j(),d=g("div"),_=C(h),b=j(),y=g("div"),S&&S.c(),w=j(),O=g("div"),T=C(R),this.h()},l(L){e=k(L,"DIV",{class:!0});var q=E(e);t=k(q,"A",{class:!0,href:!0,target:!0});var D=E(t);r=k(D,"DIV",{class:!0});var K=E(r);i=k(K,"DIV",{class:!0});var $=E(i);o=k($,"DIV",{class:!0});var W=E(o);A&&A.l(W),W.forEach(v),s=F($),l=k($,"DIV",{class:!0});var ee=E(l);a=k(ee,"DIV",{class:!0});var ne=E(a);c=P(ne,u),ne.forEach(v),f=F(ee),d=k(ee,"DIV",{class:!0});var Y=E(d);_=P(Y,h),Y.forEach(v),ee.forEach(v),$.forEach(v),b=F(K),y=k(K,"DIV",{class:!0});var z=E(y);S&&S.l(z),w=F(z),O=k(z,"DIV",{class:!0});var G=E(O);T=P(G,R),G.forEach(v),z.forEach(v),K.forEach(v),D.forEach(v),q.forEach(v),this.h()},h(){m(o,"class","overflow-hidden relative rounded-xl max-h-[6rem]"),m(a,"class","line-clamp-2 text-sm font-bold text-primary-800 underline decoration-primary-600 dark:text-primary-300"),m(d,"class","line-clamp-4 text-xs text-primary-500 dark:text-primary-400"),m(l,"class","p-0.5 grid grid-rows-[auto_1fr] z-10 min-w-[12em]"),m(i,"class","grid grid-cols-[auto_1fr] gap-0.5"),m(O,"class","text-xs text-purple-900/50 dark:text-purple-50/50"),m(y,"class","flex flex-row-reverse ... -my-1"),m(r,"class","grid grid-rows-[auto_1fr]"),m(t,"class",""),m(t,"href",n[1]),m(t,"target","_blank"),m(e,"class","drop-shadow-md rounded-2xl m-0 p-1 border-2 border-primary-500 hover:drop-shadow-xl z-20 break-all bg-primary-200 dark:bg-primary-700 dark:hover:border-primary-400")},m(L,q){I(L,e,q),p(e,t),p(t,r),p(r,i),p(i,o),A&&A.m(o,null),p(i,s),p(i,l),p(l,a),p(a,c),p(l,f),p(l,d),p(d,_),p(r,b),p(r,y),S&&S.m(y,null),p(y,w),p(y,O),p(O,T)},p(L,[q]){L[0].image?A?A.p(L,q):(A=fo(L),A.c(),A.m(o,null)):A&&(A.d(1),A=null),q&1&&u!==(u=L[0].title+"")&&N(c,u),q&1&&h!==(h=L[0].description+"")&&N(_,h),L[0].favicon!==""?S?S.p(L,q):(S=ho(L),S.c(),S.m(y,w)):S&&(S.d(1),S=null),q&2&&R!==(R=new URL(L[1]).hostname+"")&&N(T,R),q&2&&m(t,"href",L[1])},i:H,o:H,d(L){L&&v(e),A&&A.d(),S&&S.d()}}}function Tc(n,e,t){let{ogp:r}=e,{url:i}=e;return n.$$set=o=>{"ogp"in o&&t(0,r=o.ogp),"url"in o&&t(1,i=o.url)},[r,i]}class Dc extends Te{constructor(e){super(),De(this,e,Tc,Rc,Oe,{ogp:0,url:1})}}function _o(n,e,t){const r=n.slice();return r[23]=e[t],r}function vo(n,e,t){const r=n.slice();return r[23]=e[t],r}function Lc(n){let e,t,r,i,o;t=new Ge({props:{queryKey:["metadata",Z.decode(n[0]).data.pubkey],pubkey:Z.decode(n[0]).data.pubkey,$$slots:{nodata:[Vc,({metadata:l})=>({22:l}),({metadata:l})=>l?4194304:0],error:[Fc,({metadata:l})=>({22:l}),({metadata:l})=>l?4194304:0],loading:[jc,({metadata:l})=>({22:l}),({metadata:l})=>l?4194304:0],default:[Uc,({metadata:l})=>({22:l}),({metadata:l})=>l?4194304:0]},$$scope:{ctx:n}}});let s={ctx:n,current:null,token:null,hasCatch:!1,pending:Wc,then:Hc,catch:Bc,value:21,blocks:[,,,]};return Xe(i=n[5](n[0]),s),{c(){e=g("div"),le(t.$$.fragment),r=j(),s.block.c(),this.h()},l(l){e=k(l,"DIV",{class:!0});var a=E(e);fe(t.$$.fragment,a),r=F(a),s.block.l(a),a.forEach(v),this.h()},h(){m(e,"class","card border border-surface-400 px-3 py-2")},m(l,a){I(l,e,a),ue(t,e,null),p(e,r),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,o=!0},p(l,a){n=l;const u={};a&1&&(u.queryKey=["metadata",Z.decode(n[0]).data.pubkey]),a&1&&(u.pubkey=Z.decode(n[0]).data.pubkey),a&272629761&&(u.$$scope={dirty:a,ctx:n}),t.$set(u),s.ctx=n,a&1&&i!==(i=n[5](n[0]))&&Xe(i,s)||pr(s,n,a)},i(l){o||(M(t.$$.fragment,l),M(s.block),o=!0)},o(l){U(t.$$.fragment,l);for(let a=0;a<3;a+=1){const u=s.blocks[a];U(u)}o=!1},d(l){l&&v(e),ce(t),s.block.d(),s.token=null,s=null}}}function Mc(n){let e,t;return e=new Ge({props:{queryKey:["metadata",Z.decode(n[0]).data.pubkey],pubkey:Z.decode(n[0]).data.pubkey,$$slots:{nodata:[xc,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],error:[Zc,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],loading:[Xc,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],default:[Yc,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&1&&(o.queryKey=["metadata",Z.decode(r[0]).data.pubkey]),i&1&&(o.pubkey=Z.decode(r[0]).data.pubkey),i&272629761&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Ac(n){let e,t;return e=new Ge({props:{queryKey:["metadata",Z.decode(n[0]).data],pubkey:Z.decode(n[0]).data,$$slots:{nodata:[rf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],error:[tf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],loading:[ef,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],default:[$c,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&1&&(o.queryKey=["metadata",Z.decode(r[0]).data]),i&1&&(o.pubkey=Z.decode(r[0]).data),i&272629761&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Nc(n){let e,t,r,i;return r=new Jt({props:{queryKey:[Z.decode(n[0]).type==="note"?Z.decode(n[0]).data:Z.decode(n[0]).data.id],id:Z.decode(n[0]).type==="note"?Z.decode(n[0]).data:Z.decode(n[0]).data.id,$$slots:{nodata:[Of,({text:o})=>({21:o}),({text:o})=>o?2097152:0],error:[Ef,({text:o})=>({21:o}),({text:o})=>o?2097152:0],loading:[wf,({text:o})=>({21:o}),({text:o})=>o?2097152:0],default:[kf,({text:o})=>({21:o}),({text:o})=>o?2097152:0]},$$scope:{ctx:n}}}),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);fe(r.$$.fragment,l),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","w-full grid grid-rows-[auto_auto] gap-0 h-fix"),m(e,"class","card border border-surface-400 px-3 py-2 mt-1")},m(o,s){I(o,e,s),p(e,t),ue(r,t,null),i=!0},p(o,s){const l={};s&1&&(l.queryKey=[Z.decode(o[0]).type==="note"?Z.decode(o[0]).data:Z.decode(o[0]).data.id]),s&1&&(l.id=Z.decode(o[0]).type==="note"?Z.decode(o[0]).data:Z.decode(o[0]).data.id),s&270532615&&(l.$$scope={dirty:s,ctx:o}),r.$set(l)},i(o){i||(M(r.$$.fragment,o),i=!0)},o(o){U(r.$$.fragment,o),i=!1},d(o){o&&v(e),ce(r)}}}function Uc(n){let e,t,r,i=JSON.parse(n[22].content).name+"",o,s,l;function a(){return n[14](n[22])}return{c(){e=g("button"),t=C("@"),r=g("u"),o=C(i),this.h()},l(u){e=k(u,"BUTTON",{class:!0});var c=E(e);t=P(c,"@"),r=k(c,"U",{});var f=E(r);o=P(f,i),f.forEach(v),c.forEach(v),this.h()},h(){m(e,"class","inline-flex text-xs text-black/80 dark:text-white/80")},m(u,c){I(u,e,c),p(e,t),p(e,r),p(r,o),s||(l=X(e,"click",a),s=!0)},p(u,c){n=u,c&4194304&&i!==(i=JSON.parse(n[22].content).name+"")&&N(o,i)},d(u){u&&v(e),s=!1,l()}}}function jc(n){let e,t,r=Z.decode(n[0]).data.pubkey+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data.pubkey+"")&&N(i,r)},d(o){o&&v(e)}}}function Fc(n){let e,t,r=Z.decode(n[0]).data.pubkey+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data.pubkey+"")&&N(i,r)},d(o){o&&v(e)}}}function Vc(n){let e,t,r=Z.decode(n[0]).data.pubkey+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data.pubkey+"")&&N(i,r)},d(o){o&&v(e)}}}function Bc(n){return{c:H,l:H,m:H,p:H,i:H,o:H,d:H}}function Hc(n){let e,t,r=n[21]&&po(n);return{c(){r&&r.c(),e=x()},l(i){r&&r.l(i),e=x()},m(i,o){r&&r.m(i,o),I(i,e,o),t=!0},p(i,o){i[21]?r?(r.p(i,o),o&1&&M(r,1)):(r=po(i),r.c(),M(r,1),r.m(e.parentNode,e)):r&&(ie(),U(r,1,1,()=>{r=null}),oe())},i(i){t||(M(r),t=!0)},o(i){U(r),t=!1},d(i){r&&r.d(i),i&&v(e)}}}function po(n){let e,t=new Date(n[21].created_at*1e3).toLocaleString()+"",r,i,o,s,l,a,u,c,f;function d(){return n[15](n[21])}let h=n[21].tags.length>0&&mo(n);return a=new Je({props:{text:n[21].content,tag:n[21].tags,id:n[21].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("button"),r=C(t),i=j(),o=g("div"),h&&h.c(),s=j(),l=g("div"),le(a.$$.fragment),this.h()},l(_){e=k(_,"BUTTON",{class:!0});var b=E(e);r=P(b,t),b.forEach(v),i=F(_),o=k(_,"DIV",{class:!0});var y=E(o);h&&h.l(y),s=F(y),l=k(y,"DIV",{class:!0});var w=E(l);fe(a.$$.fragment,w),w.forEach(v),y.forEach(v),this.h()},h(){m(e,"class","-mt-0.5 ml-2 text-xs underline decoration-secondary-500"),m(l,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(o,"class","w-full grid grid-rows-[auto_auto] gap-0 h-fix")},m(_,b){I(_,e,b),p(e,r),I(_,i,b),I(_,o,b),h&&h.m(o,null),p(o,s),p(o,l),ue(a,l,null),u=!0,c||(f=X(e,"click",d),c=!0)},p(_,b){n=_,(!u||b&1)&&t!==(t=new Date(n[21].created_at*1e3).toLocaleString()+"")&&N(r,t),n[21].tags.length>0?h?(h.p(n,b),b&1&&M(h,1)):(h=mo(n),h.c(),M(h,1),h.m(o,s)):h&&(ie(),U(h,1,1,()=>{h=null}),oe());const y={};b&1&&(y.text=n[21].content),b&1&&(y.tag=n[21].tags),b&1&&(y.id=n[21].id),b&4&&(y.view=n[2]),b&2&&(y.URLPreview=n[1]),a.$set(y)},i(_){u||(M(h),M(a.$$.fragment,_),u=!0)},o(_){U(h),U(a.$$.fragment,_),u=!1},d(_){_&&v(e),_&&v(i),_&&v(o),h&&h.d(),ce(a),c=!1,f()}}}function mo(n){let e,t,r=n[21].tags,i=[];for(let s=0;s<r.length;s+=1)i[s]=bo(_o(n,r,s));const o=s=>U(i[s],1,1,()=>{i[s]=null});return{c(){e=g("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(v),this.h()},h(){m(e,"class","max-h-[4em] overflow-auto whitespace-nowrap border-s-4 border-s-rose-800/25")},m(s,l){I(s,e,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(s,l){if(l&6291513){r=s[21].tags;let a;for(a=0;a<r.length;a+=1){const u=_o(s,r,a);i[a]?(i[a].p(u,l),M(i[a],1)):(i[a]=bo(u),i[a].c(),M(i[a],1),i[a].m(e,null))}for(ie(),a=r.length;a<i.length;a+=1)o(a);oe()}},i(s){if(!t){for(let l=0;l<r.length;l+=1)M(i[l]);t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)U(i[l]);t=!1},d(s){s&&v(e),_t(i,s)}}}function Qc(n){let e,t,r=n[23][0]+"",i,o,s=n[23][1]+"",l,a;return{c(){e=g("div"),t=C("["),i=C(r),o=C(`]
                    `),l=C(s),a=j(),this.h()},l(u){e=k(u,"DIV",{class:!0});var c=E(e);t=P(c,"["),i=P(c,r),o=P(c,`]
                    `),l=P(c,s),a=F(c),c.forEach(v),this.h()},h(){m(e,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden")},m(u,c){I(u,e,c),p(e,t),p(e,i),p(e,o),p(e,l),p(e,a)},p(u,c){c&1&&r!==(r=u[23][0]+"")&&N(i,r),c&1&&s!==(s=u[23][1]+"")&&N(l,s)},i:H,o:H,d(u){u&&v(e)}}}function Kc(n){let e,t;return e=new Jt({props:{queryKey:[n[23][1]],id:n[23][1],$$slots:{default:[Gc,({text:r})=>({21:r}),({text:r})=>r?2097152:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&1&&(o.queryKey=[r[23][1]]),i&1&&(o.id=r[23][1]),i&270532608&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function zc(n){let e,t;return e=new Ge({props:{queryKey:["metadata",n[23][1]],pubkey:n[23][1],$$slots:{default:[Jc,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&1&&(o.queryKey=["metadata",r[23][1]]),i&1&&(o.pubkey=r[23][1]),i&272629761&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Gc(n){let e,t,r,i=n[21].content+"",o,s,l,a;function u(){return n[17](n[21])}return{c(){e=g("div"),t=C("[e] "),r=g("button"),o=C(i),s=j(),this.h()},l(c){e=k(c,"DIV",{class:!0});var f=E(e);t=P(f,"[e] "),r=k(f,"BUTTON",{class:!0});var d=E(r);o=P(d,i),d.forEach(v),f.forEach(v),s=F(c),this.h()},h(){m(r,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(c,f){I(c,e,f),p(e,t),p(e,r),p(r,o),I(c,s,f),l||(a=X(r,"click",u),l=!0)},p(c,f){n=c,f&2097152&&i!==(i=n[21].content+"")&&N(o,i)},d(c){c&&v(e),c&&v(s),l=!1,a()}}}function Jc(n){let e,t,r,i,o,s=JSON.parse(n[22].content).name+"",l,a,u,c;function f(){return n[16](n[22],n[23])}return{c(){e=g("div"),t=C("to "),r=g("button"),i=C("@"),o=g("u"),l=C(s),a=j(),this.h()},l(d){e=k(d,"DIV",{class:!0});var h=E(e);t=P(h,"to "),r=k(h,"BUTTON",{class:!0});var _=E(r);i=P(_,"@"),o=k(_,"U",{});var b=E(o);l=P(b,s),b.forEach(v),_.forEach(v),h.forEach(v),a=F(d),this.h()},h(){m(r,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(d,h){I(d,e,h),p(e,t),p(e,r),p(r,i),p(r,o),p(o,l),I(d,a,h),u||(c=X(r,"click",f),u=!0)},p(d,h){n=d,h&4194304&&s!==(s=JSON.parse(n[22].content).name+"")&&N(l,s)},d(d){d&&v(e),d&&v(a),u=!1,c()}}}function bo(n){let e,t,r,i;const o=[zc,Kc,Qc],s=[];function l(a,u){return a[23][0]==="p"?0:a[23][0]==="e"||a[23][0]==="q"?1:a[23][0]!=="emoji"&&a[23][0]!=="r"&&a[23][0]!=="t"?2:-1}return~(e=l(n))&&(t=s[e]=o[e](n)),{c(){t&&t.c(),r=x()},l(a){t&&t.l(a),r=x()},m(a,u){~e&&s[e].m(a,u),I(a,r,u),i=!0},p(a,u){let c=e;e=l(a),e===c?~e&&s[e].p(a,u):(t&&(ie(),U(s[c],1,1,()=>{s[c]=null}),oe()),~e?(t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){~e&&s[e].d(a),a&&v(r)}}}function Wc(n){let e,t;return{c(){e=g("div"),t=C(n[0]),this.h()},l(r){e=k(r,"DIV",{class:!0});var i=E(e);t=P(i,n[0]),i.forEach(v),this.h()},h(){m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(r,i){I(r,e,i),p(e,t)},p(r,i){i&1&&N(t,r[0])},i:H,o:H,d(r){r&&v(e)}}}function Yc(n){let e,t,r,i=JSON.parse(n[22].content).name+"",o,s,l;function a(){return n[13](n[22])}return{c(){e=g("button"),t=C("@"),r=g("u"),o=C(i),this.h()},l(u){e=k(u,"BUTTON",{class:!0});var c=E(e);t=P(c,"@"),r=k(c,"U",{});var f=E(r);o=P(f,i),f.forEach(v),c.forEach(v),this.h()},h(){m(e,"class","inline-flex text-xs text-black/80 dark:text-white/80")},m(u,c){I(u,e,c),p(e,t),p(e,r),p(r,o),s||(l=X(e,"click",a),s=!0)},p(u,c){n=u,c&4194304&&i!==(i=JSON.parse(n[22].content).name+"")&&N(o,i)},d(u){u&&v(e),s=!1,l()}}}function Xc(n){let e,t,r=Z.decode(n[0]).data.pubkey+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden"),m(e,"slot","loading")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data.pubkey+"")&&N(i,r)},d(o){o&&v(e)}}}function Zc(n){let e,t,r=Z.decode(n[0]).data.pubkey+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden"),m(e,"slot","error")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data.pubkey+"")&&N(i,r)},d(o){o&&v(e)}}}function xc(n){let e,t,r=Z.decode(n[0]).data.pubkey+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm whitespace-nowrap overflow-hidden"),m(e,"slot","nodata")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data.pubkey+"")&&N(i,r)},d(o){o&&v(e)}}}function $c(n){let e,t,r,i=JSON.parse(n[22].content).name+"",o,s,l;function a(){return n[12](n[22])}return{c(){e=g("button"),t=C("@"),r=g("u"),o=C(i),this.h()},l(u){e=k(u,"BUTTON",{class:!0});var c=E(e);t=P(c,"@"),r=k(c,"U",{});var f=E(r);o=P(f,i),f.forEach(v),c.forEach(v),this.h()},h(){m(e,"class","inline-flex text-sm text-black/80 dark:text-white/80")},m(u,c){I(u,e,c),p(e,t),p(e,r),p(r,o),s||(l=X(e,"click",a),s=!0)},p(u,c){n=u,c&4194304&&i!==(i=JSON.parse(n[22].content).name+"")&&N(o,i)},d(u){u&&v(e),s=!1,l()}}}function ef(n){let e,t,r=Z.decode(n[0]).data+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data+"")&&N(i,r)},d(o){o&&v(e)}}}function tf(n){let e,t,r=Z.decode(n[0]).data+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data+"")&&N(i,r)},d(o){o&&v(e)}}}function rf(n){let e,t,r=Z.decode(n[0]).data+"",i;return{c(){e=g("div"),t=g("div"),i=C(r),this.h()},l(o){e=k(o,"DIV",{slot:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);i=P(l,r),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(o,s){I(o,e,s),p(e,t),p(t,i)},p(o,s){s&1&&r!==(r=Z.decode(o[0]).data+"")&&N(i,r)},d(o){o&&v(e)}}}function yo(n){let e,t;return{c(){e=g("img"),this.h()},l(r){e=k(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","h-5 object-contain justify-center"),ve(e.src,t=JSON.parse(n[22].content).picture)||m(e,"src",t),m(e,"alt","avatar")},m(r,i){I(r,e,i)},p(r,i){i&4194304&&!ve(e.src,t=JSON.parse(r[22].content).picture)&&m(e,"src",t)},d(r){r&&v(e)}}}function go(n){let e,t,r=Ze(n[21].tags),i=[];for(let s=0;s<r.length;s+=1)i[s]=ko(vo(n,r,s));const o=s=>U(i[s],1,1,()=>{i[s]=null});return{c(){e=g("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(v),this.h()},h(){m(e,"class","max-h-[4em] overflow-auto whitespace-nowrap border-s-4 border-s-rose-800/25 dark:border-s-rose-100/25")},m(s,l){I(s,e,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(s,l){if(l&6291484){r=Ze(s[21].tags);let a;for(a=0;a<r.length;a+=1){const u=vo(s,r,a);i[a]?(i[a].p(u,l),M(i[a],1)):(i[a]=ko(u),i[a].c(),M(i[a],1),i[a].m(e,null))}for(ie(),a=r.length;a<i.length;a+=1)o(a);oe()}},i(s){if(!t){for(let l=0;l<r.length;l+=1)M(i[l]);t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)U(i[l]);t=!1},d(s){s&&v(e),_t(i,s)}}}function nf(n){let e,t,r=n[23][0]+"",i,o,s=n[23][1]+"",l,a;return{c(){e=g("div"),t=C("["),i=C(r),o=C(`]
                    `),l=C(s),a=j(),this.h()},l(u){e=k(u,"DIV",{class:!0});var c=E(e);t=P(c,"["),i=P(c,r),o=P(c,`]
                    `),l=P(c,s),a=F(c),c.forEach(v),this.h()},h(){m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(u,c){I(u,e,c),p(e,t),p(e,i),p(e,o),p(e,l),p(e,a)},p(u,c){c&2097152&&r!==(r=u[23][0]+"")&&N(i,r),c&2097152&&s!==(s=u[23][1]+"")&&N(l,s)},i:H,o:H,d(u){u&&v(e)}}}function of(n){let e,t;return e=new Jt({props:{queryKey:[n[23][1]],id:n[23][1],$$slots:{nodata:[df,({text:r})=>({21:r}),({text:r})=>r?2097152:0],error:[ff,({text:r})=>({21:r}),({text:r})=>r?2097152:0],loading:[cf,({text:r})=>({21:r}),({text:r})=>r?2097152:0],default:[uf,({text:r})=>({21:r}),({text:r})=>r?2097152:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&2097152&&(o.queryKey=[r[23][1]]),i&2097152&&(o.id=r[23][1]),i&270532612&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function sf(n){let e,t;return e=new Ge({props:{queryKey:["metadata",n[23][1]],pubkey:n[23][1],$$slots:{nodata:[pf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],error:[vf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],loading:[_f,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],default:[hf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&2097152&&(o.queryKey=["metadata",r[23][1]]),i&2097152&&(o.pubkey=r[23][1]),i&274726912&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function af(n){let e=n[21].content+"",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p(r,i){i&2097152&&e!==(e=r[21].content+"")&&N(t,e)},d(r){r&&v(t)}}}function lf(n){let e="<content-warning>",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p:H,d(r){r&&v(t)}}}function uf(n){let e,t,r=n[23][0]+"",i,o,s,l,a,u,c;function f(b,y){return y&2097156&&(l=null),l==null&&(l=!!(b[21].tags.some(If)&&b[2]==!1)),l?lf:af}let d=f(n,-1),h=d(n);function _(){return n[11](n[21])}return{c(){e=g("div"),t=C("["),i=C(r),o=C(`]
                      `),s=g("button"),h.c(),a=j(),this.h()},l(b){e=k(b,"DIV",{class:!0});var y=E(e);t=P(y,"["),i=P(y,r),o=P(y,`]
                      `),s=k(y,"BUTTON",{class:!0});var w=E(s);h.l(w),w.forEach(v),y.forEach(v),a=F(b),this.h()},h(){m(s,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(b,y){I(b,e,y),p(e,t),p(e,i),p(e,o),p(e,s),h.m(s,null),I(b,a,y),u||(c=X(s,"click",_),u=!0)},p(b,y){n=b,y&2097152&&r!==(r=n[23][0]+"")&&N(i,r),d===(d=f(n,y))&&h?h.p(n,y):(h.d(1),h=d(n),h&&(h.c(),h.m(s,null)))},d(b){b&&v(e),h.d(),b&&v(a),u=!1,c()}}}function cf(n){let e,t,r,i=n[23][0]+"",o,s,l=n[23][1]+"",a,u;return{c(){e=g("div"),t=g("div"),r=C("["),o=C(i),s=C("] "),a=C(l),u=j(),this.h()},l(c){e=k(c,"DIV",{slot:!0});var f=E(e);t=k(f,"DIV",{class:!0});var d=E(t);r=P(d,"["),o=P(d,i),s=P(d,"] "),a=P(d,l),d.forEach(v),u=F(f),f.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(c,f){I(c,e,f),p(e,t),p(t,r),p(t,o),p(t,s),p(t,a),p(e,u)},p(c,f){f&2097152&&i!==(i=c[23][0]+"")&&N(o,i),f&2097152&&l!==(l=c[23][1]+"")&&N(a,l)},d(c){c&&v(e)}}}function ff(n){let e,t,r,i=n[23][0]+"",o,s,l=n[23][1]+"",a,u;return{c(){e=g("div"),t=g("div"),r=C("["),o=C(i),s=C("] "),a=C(l),u=j(),this.h()},l(c){e=k(c,"DIV",{slot:!0});var f=E(e);t=k(f,"DIV",{class:!0});var d=E(t);r=P(d,"["),o=P(d,i),s=P(d,"] "),a=P(d,l),d.forEach(v),u=F(f),f.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(c,f){I(c,e,f),p(e,t),p(t,r),p(t,o),p(t,s),p(t,a),p(e,u)},p(c,f){f&2097152&&i!==(i=c[23][0]+"")&&N(o,i),f&2097152&&l!==(l=c[23][1]+"")&&N(a,l)},d(c){c&&v(e)}}}function df(n){let e,t,r,i=n[23][0]+"",o,s,l=n[23][1]+"",a,u;return{c(){e=g("div"),t=g("div"),r=C("["),o=C(i),s=C("] "),a=C(l),u=j(),this.h()},l(c){e=k(c,"DIV",{slot:!0});var f=E(e);t=k(f,"DIV",{class:!0});var d=E(t);r=P(d,"["),o=P(d,i),s=P(d,"] "),a=P(d,l),d.forEach(v),u=F(f),f.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(c,f){I(c,e,f),p(e,t),p(t,r),p(t,o),p(t,s),p(t,a),p(e,u)},p(c,f){f&2097152&&i!==(i=c[23][0]+"")&&N(o,i),f&2097152&&l!==(l=c[23][1]+"")&&N(a,l)},d(c){c&&v(e)}}}function hf(n){let e,t,r,i,o,s=JSON.parse(n[22].content).name+"",l,a,u,c;function f(){return n[10](n[22],n[23])}return{c(){e=g("div"),t=C("to[p] "),r=g("button"),i=C("@"),o=g("u"),l=C(s),a=j(),this.h()},l(d){e=k(d,"DIV",{class:!0});var h=E(e);t=P(h,"to[p] "),r=k(h,"BUTTON",{class:!0});var _=E(r);i=P(_,"@"),o=k(_,"U",{});var b=E(o);l=P(b,s),b.forEach(v),_.forEach(v),h.forEach(v),a=F(d),this.h()},h(){m(r,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(d,h){I(d,e,h),p(e,t),p(e,r),p(r,i),p(r,o),p(o,l),I(d,a,h),u||(c=X(r,"click",f),u=!0)},p(d,h){n=d,h&4194304&&s!==(s=JSON.parse(n[22].content).name+"")&&N(l,s)},d(d){d&&v(e),d&&v(a),u=!1,c()}}}function _f(n){let e,t,r,i=n[23][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("to[p] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"to[p] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&2097152&&i!==(i=l[23][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function vf(n){let e,t,r,i=n[23][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("to[p] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"to[p] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&2097152&&i!==(i=l[23][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function pf(n){let e,t,r,i=n[23][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("to[p] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"to[p] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&2097152&&i!==(i=l[23][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function ko(n){let e,t,r,i;const o=[sf,of,nf],s=[];function l(a,u){return a[23][0]==="p"?0:a[23][0]==="e"||a[23][0]==="q"?1:2}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),r=x()},l(a){t.l(a),r=x()},m(a,u){s[e].m(a,u),I(a,r,u),i=!0},p(a,u){let c=e;e=l(a),e===c?s[e].p(a,u):(ie(),U(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r))},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){s[e].d(a),a&&v(r)}}}function mf(n){let e,t,r=JSON.parse(n[22].content).picture,i,o,s=JSON.parse(n[22].content).display_name+"",l,a,u,c,f,d,h=JSON.parse(n[22].content).name+"",_,b,y,w,O=new Date(n[21].created_at*1e3).toLocaleString()+"",R,T,A=n[21].tags&&Ze(n[21].tags).length>0,S,L,q,D,K,$,W=r&&yo(n);function ee(){return n[8](n[22],n[21])}function ne(){return n[9](n[21])}let Y=A&&go(n);return q=new Je({props:{text:n[21].content,tag:n[21].tags,id:n[21].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),W&&W.c(),i=j(),o=g("div"),l=C(s),a=j(),u=g("div"),c=g("button"),f=C("@"),d=g("u"),_=C(h),b=j(),y=g("div"),w=g("button"),R=C(O),T=j(),Y&&Y.c(),S=j(),L=g("div"),le(q.$$.fragment),this.h()},l(z){e=k(z,"DIV",{class:!0});var G=E(e);t=k(G,"DIV",{});var re=E(t);W&&W.l(re),re.forEach(v),i=F(G),o=k(G,"DIV",{class:!0});var he=E(o);l=P(he,s),he.forEach(v),a=F(G),u=k(G,"DIV",{class:!0});var J=E(u);c=k(J,"BUTTON",{class:!0});var _e=E(c);f=P(_e,"@"),d=k(_e,"U",{});var pe=E(d);_=P(pe,h),pe.forEach(v),_e.forEach(v),J.forEach(v),b=F(G),y=k(G,"DIV",{class:!0});var Q=E(y);w=k(Q,"BUTTON",{class:!0});var te=E(w);R=P(te,O),te.forEach(v),Q.forEach(v),G.forEach(v),T=F(z),Y&&Y.l(z),S=F(z),L=k(z,"DIV",{class:!0});var se=E(L);fe(q.$$.fragment,se),se.forEach(v),this.h()},h(){m(o,"class","wi truncate justify-items-end"),m(c,"class","text-emerald-800/60 dark:text-blue-500/60 text-xs"),m(u,"class","truncate wid min-w-[2em] justify-items-end"),m(w,"class","text-xs underline decoration-secondary-500"),m(y,"class","min-w-max"),m(e,"class","w-full grid grid-cols-[auto_auto_1fr_auto] gap-1 h-fix"),m(L,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap")},m(z,G){I(z,e,G),p(e,t),W&&W.m(t,null),p(e,i),p(e,o),p(o,l),p(e,a),p(e,u),p(u,c),p(c,f),p(c,d),p(d,_),p(e,b),p(e,y),p(y,w),p(w,R),I(z,T,G),Y&&Y.m(z,G),I(z,S,G),I(z,L,G),ue(q,L,null),D=!0,K||($=[X(c,"click",ee),X(w,"click",ne)],K=!0)},p(z,G){n=z,G&4194304&&(r=JSON.parse(n[22].content).picture),r?W?W.p(n,G):(W=yo(n),W.c(),W.m(t,null)):W&&(W.d(1),W=null),(!D||G&4194304)&&s!==(s=JSON.parse(n[22].content).display_name+"")&&N(l,s),(!D||G&4194304)&&h!==(h=JSON.parse(n[22].content).name+"")&&N(_,h),(!D||G&2097152)&&O!==(O=new Date(n[21].created_at*1e3).toLocaleString()+"")&&N(R,O),G&2097152&&(A=n[21].tags&&Ze(n[21].tags).length>0),A?Y?(Y.p(n,G),G&2097152&&M(Y,1)):(Y=go(n),Y.c(),M(Y,1),Y.m(S.parentNode,S)):Y&&(ie(),U(Y,1,1,()=>{Y=null}),oe());const re={};G&2097152&&(re.text=n[21].content),G&2097152&&(re.tag=n[21].tags),G&2097152&&(re.id=n[21].id),G&4&&(re.view=n[2]),G&2&&(re.URLPreview=n[1]),q.$set(re)},i(z){D||(M(Y),M(q.$$.fragment,z),D=!0)},o(z){U(Y),U(q.$$.fragment,z),D=!1},d(z){z&&v(e),W&&W.d(),z&&v(T),Y&&Y.d(z),z&&v(S),z&&v(L),ce(q),K=!1,He($)}}}function bf(n){let e,t,r=n[21].pubkey+"",i,o,s,l,a=new Date(n[21].created_at*1e3).toLocaleString()+"",u,c,f,d,h,_;function b(){return n[7](n[21])}return f=new Je({props:{text:n[21].content,tag:n[21].tags,id:n[21].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),i=C(r),o=j(),s=g("div"),l=g("button"),u=C(a),c=j(),le(f.$$.fragment),this.h()},l(y){e=k(y,"DIV",{slot:!0});var w=E(e);t=k(w,"DIV",{class:!0});var O=E(t);i=P(O,r),O.forEach(v),o=F(w),s=k(w,"DIV",{class:!0});var R=E(s);l=k(R,"BUTTON",{class:!0});var T=E(l);u=P(T,a),T.forEach(v),c=F(R),fe(f.$$.fragment,R),R.forEach(v),w.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm verflow-hidden"),m(l,"class","text-xs underline decoration-secondary-500"),m(s,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","loading")},m(y,w){I(y,e,w),p(e,t),p(t,i),p(e,o),p(e,s),p(s,l),p(l,u),p(s,c),ue(f,s,null),d=!0,h||(_=X(l,"click",b),h=!0)},p(y,w){n=y,(!d||w&2097152)&&r!==(r=n[21].pubkey+"")&&N(i,r),(!d||w&2097152)&&a!==(a=new Date(n[21].created_at*1e3).toLocaleString()+"")&&N(u,a);const O={};w&2097152&&(O.text=n[21].content),w&2097152&&(O.tag=n[21].tags),w&2097152&&(O.id=n[21].id),w&4&&(O.view=n[2]),w&2&&(O.URLPreview=n[1]),f.$set(O)},i(y){d||(M(f.$$.fragment,y),d=!0)},o(y){U(f.$$.fragment,y),d=!1},d(y){y&&v(e),ce(f),h=!1,_()}}}function yf(n){let e,t,r=n[21].pubkey+"",i,o,s,l=new Date(n[21].created_at*1e3).toLocaleString()+"",a,u,c,f,d,h,_;function b(){return n[6](n[21])}return f=new Je({props:{text:n[21].content,tag:n[21].tags,id:n[21].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),i=C(r),o=j(),s=g("button"),a=C(l),u=j(),c=g("div"),le(f.$$.fragment),this.h()},l(y){e=k(y,"DIV",{slot:!0});var w=E(e);t=k(w,"DIV",{class:!0});var O=E(t);i=P(O,r),o=F(O),s=k(O,"BUTTON",{class:!0});var R=E(s);a=P(R,l),R.forEach(v),O.forEach(v),u=F(w),c=k(w,"DIV",{class:!0});var T=E(c);fe(f.$$.fragment,T),T.forEach(v),w.forEach(v),this.h()},h(){m(s,"class","text-xs underline decoration-secondary-500"),m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(c,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","error")},m(y,w){I(y,e,w),p(e,t),p(t,i),p(t,o),p(t,s),p(s,a),p(e,u),p(e,c),ue(f,c,null),d=!0,h||(_=X(s,"click",b),h=!0)},p(y,w){n=y,(!d||w&2097152)&&r!==(r=n[21].pubkey+"")&&N(i,r),(!d||w&2097152)&&l!==(l=new Date(n[21].created_at*1e3).toLocaleString()+"")&&N(a,l);const O={};w&2097152&&(O.text=n[21].content),w&2097152&&(O.tag=n[21].tags),w&2097152&&(O.id=n[21].id),w&4&&(O.view=n[2]),w&2&&(O.URLPreview=n[1]),f.$set(O)},i(y){d||(M(f.$$.fragment,y),d=!0)},o(y){U(f.$$.fragment,y),d=!1},d(y){y&&v(e),ce(f),h=!1,_()}}}function gf(n){let e,t,r=n[21].pubkey+"",i,o,s,l,a;return l=new Je({props:{text:n[21].content,tag:n[21].tags,id:n[21].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),i=C(r),o=j(),s=g("div"),le(l.$$.fragment),this.h()},l(u){e=k(u,"DIV",{slot:!0});var c=E(e);t=k(c,"DIV",{class:!0});var f=E(t);i=P(f,r),f.forEach(v),o=F(c),s=k(c,"DIV",{class:!0});var d=E(s);fe(l.$$.fragment,d),d.forEach(v),c.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(s,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","nodata")},m(u,c){I(u,e,c),p(e,t),p(t,i),p(e,o),p(e,s),ue(l,s,null),a=!0},p(u,c){(!a||c&2097152)&&r!==(r=u[21].pubkey+"")&&N(i,r);const f={};c&2097152&&(f.text=u[21].content),c&2097152&&(f.tag=u[21].tags),c&2097152&&(f.id=u[21].id),c&4&&(f.view=u[2]),c&2&&(f.URLPreview=u[1]),l.$set(f)},i(u){a||(M(l.$$.fragment,u),a=!0)},o(u){U(l.$$.fragment,u),a=!1},d(u){u&&v(e),ce(l)}}}function kf(n){let e,t;return e=new Ge({props:{queryKey:["metadata",n[21].pubkey],pubkey:n[21].pubkey,$$slots:{nodata:[gf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],error:[yf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],loading:[bf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0],default:[mf,({metadata:r})=>({22:r}),({metadata:r})=>r?4194304:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&2097152&&(o.queryKey=["metadata",r[21].pubkey]),i&2097152&&(o.pubkey=r[21].pubkey),i&274726918&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function wf(n){let e,t,r;return{c(){e=g("div"),t=g("div"),r=C(n[0]),this.h()},l(i){e=k(i,"DIV",{slot:!0});var o=E(e);t=k(o,"DIV",{class:!0});var s=E(t);r=P(s,n[0]),s.forEach(v),o.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(i,o){I(i,e,o),p(e,t),p(t,r)},p(i,o){o&1&&N(r,i[0])},d(i){i&&v(e)}}}function Ef(n){let e,t,r;return{c(){e=g("div"),t=g("div"),r=C(n[0]),this.h()},l(i){e=k(i,"DIV",{slot:!0});var o=E(e);t=k(o,"DIV",{class:!0});var s=E(t);r=P(s,n[0]),s.forEach(v),o.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(i,o){I(i,e,o),p(e,t),p(t,r)},p(i,o){o&1&&N(r,i[0])},d(i){i&&v(e)}}}function Of(n){let e,t,r;return{c(){e=g("div"),t=g("div"),r=C(n[0]),this.h()},l(i){e=k(i,"DIV",{slot:!0});var o=E(e);t=k(o,"DIV",{class:!0});var s=E(t);r=P(s,n[0]),s.forEach(v),o.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(i,o){I(i,e,o),p(e,t),p(t,r)},p(i,o){o&1&&N(r,i[0])},d(i){i&&v(e)}}}function Sf(n){let e,t,r,i,o,s,l,a;const u=[Nc,Ac,Mc,Lc],c=[];function f(d,h){return h&1&&(e=null),h&1&&(t=null),h&1&&(r=null),h&1&&(i=null),e==null&&(e=Z.decode(d[0]).type==="note"||Z.decode(d[0]).type==="nevent"),e?0:(t==null&&(t=Z.decode(d[0]).type==="npub"),t?1:(r==null&&(r=Z.decode(d[0]).type==="nprofile"),r?2:(i==null&&(i=Z.decode(d[0]).type==="naddr"),i?3:-1)))}return~(o=f(n,-1))&&(s=c[o]=u[o](n)),{c(){s&&s.c(),l=x()},l(d){s&&s.l(d),l=x()},m(d,h){~o&&c[o].m(d,h),I(d,l,h),a=!0},p(d,[h]){let _=o;o=f(d,h),o===_?~o&&c[o].p(d,h):(s&&(ie(),U(c[_],1,1,()=>{c[_]=null}),oe()),~o?(s=c[o],s?s.p(d,h):(s=c[o]=u[o](d),s.c()),M(s,1),s.m(l.parentNode,l)):s=null)},i(d){a||(M(s),a=!0)},o(d){U(s),a=!1},d(d){~o&&c[o].d(d),d&&v(l)}}}const If=n=>n[0]==="content-warning";function Cf(n,e,t){let r,i;Be(n,hn,q=>t(18,r=q)),Be(n,Lo,q=>t(2,i=q));let{encodedId:o}=e,{URLPreview:s}=e;const l={ref:sn,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function a(q,D){console.log(q);const K={type:"component",value:{metadata:q,pubkey:D},component:l};Re.trigger(K)}const u={ref:ws,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function c(q){console.log("click");const D={type:"component",title:"Event Json",value:{note:q},component:u};Re.trigger(D)}async function f(q){const D=Z.decode(q).data;if(console.log(r),!(q in r)){const K=D.relays&&D.relays.length>0?D.relays:Us,$=[{authors:[D.pubkey],"#d":[D.identifier],kinds:[D.kind]}],W=await js(K,$);return W.length>0&&(W.sort((ee,ne)=>ne.created_at-ee.created_at),ct(hn,r[q]=W[0],r)),W[0]}return r[q]}const d=q=>{c(q)},h=q=>{c(q)},_=(q,D)=>{a(q,D.pubkey)},b=q=>{c(q)},y=(q,D)=>{a(q,D[1])},w=q=>{c(q)},O=q=>{a(q,Z.decode(o).data)},R=q=>{a(q,Z.decode(o).data.pubkey)},T=q=>{a(q,Z.decode(o).data.pubkey)},A=q=>{c(q)},S=(q,D)=>{a(q,D[1])},L=q=>{c(q)};return n.$$set=q=>{"encodedId"in q&&t(0,o=q.encodedId),"URLPreview"in q&&t(1,s=q.URLPreview)},[o,s,i,a,c,f,d,h,_,b,y,w,O,R,T,A,S,L]}class Pf extends Te{constructor(e){super(),De(this,e,Cf,Sf,Oe,{encodedId:0,URLPreview:1})}}function wo(n,e,t){const r=n.slice();return r[15]=e[t],r}function Eo(n){let e,t;return{c(){e=g("img"),this.h()},l(r){e=k(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){m(e,"class","h-5 object-contain justify-center"),ve(e.src,t=JSON.parse(n[14].content).picture)||m(e,"src",t),m(e,"alt","avatar")},m(r,i){I(r,e,i)},p(r,i){i&16384&&!ve(e.src,t=JSON.parse(r[14].content).picture)&&m(e,"src",t)},d(r){r&&v(e)}}}function Oo(n){let e,t,r=Ze(n[13].tags),i=[];for(let s=0;s<r.length;s+=1)i[s]=So(wo(n,r,s));const o=s=>U(i[s],1,1,()=>{i[s]=null});return{c(){e=g("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(v),this.h()},h(){m(e,"class","max-h-[4em] overflow-auto whitespace-nowrap border-s-4 border-s-rose-800/25 dark:border-s-rose-100/25")},m(s,l){I(s,e,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(s,l){if(l&24604){r=Ze(s[13].tags);let a;for(a=0;a<r.length;a+=1){const u=wo(s,r,a);i[a]?(i[a].p(u,l),M(i[a],1)):(i[a]=So(u),i[a].c(),M(i[a],1),i[a].m(e,null))}for(ie(),a=r.length;a<i.length;a+=1)o(a);oe()}},i(s){if(!t){for(let l=0;l<r.length;l+=1)M(i[l]);t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)U(i[l]);t=!1},d(s){s&&v(e),_t(i,s)}}}function qf(n){let e,t,r=n[15][0]+"",i,o,s=n[15][1]+"",l,a;return{c(){e=g("div"),t=C("["),i=C(r),o=C(`]
                  `),l=C(s),a=j(),this.h()},l(u){e=k(u,"DIV",{class:!0});var c=E(e);t=P(c,"["),i=P(c,r),o=P(c,`]
                  `),l=P(c,s),a=F(c),c.forEach(v),this.h()},h(){m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(u,c){I(u,e,c),p(e,t),p(e,i),p(e,o),p(e,l),p(e,a)},p(u,c){c&8192&&r!==(r=u[15][0]+"")&&N(i,r),c&8192&&s!==(s=u[15][1]+"")&&N(l,s)},i:H,o:H,d(u){u&&v(e)}}}function Rf(n){let e,t;return e=new Jt({props:{queryKey:[n[15][1]],id:n[15][1],$$slots:{nodata:[Uf,({text:r})=>({13:r}),({text:r})=>r?8192:0],error:[Nf,({text:r})=>({13:r}),({text:r})=>r?8192:0],loading:[Af,({text:r})=>({13:r}),({text:r})=>r?8192:0],default:[Mf,({text:r})=>({13:r}),({text:r})=>r?8192:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&8192&&(o.queryKey=[r[15][1]]),i&8192&&(o.id=r[15][1]),i&270340&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Tf(n){let e,t;return e=new Ge({props:{queryKey:["metadata",n[15][1]],pubkey:n[15][1],$$slots:{nodata:[Bf,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0],error:[Vf,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0],loading:[Ff,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0],default:[jf,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&8192&&(o.queryKey=["metadata",r[15][1]]),i&8192&&(o.pubkey=r[15][1]),i&286720&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Df(n){let e=n[13].content+"",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p(r,i){i&8192&&e!==(e=r[13].content+"")&&N(t,e)},d(r){r&&v(t)}}}function Lf(n){let e="<content-warning>",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p:H,d(r){r&&v(t)}}}function Mf(n){let e,t,r,i,o,s,l;function a(d,h){return h&8196&&(i=null),i==null&&(i=!!(d[13].tags.some(Zf)&&d[2]==!1)),i?Lf:Df}let u=a(n,-1),c=u(n);function f(){return n[10](n[13])}return{c(){e=g("div"),t=C("[e] "),r=g("button"),c.c(),o=j(),this.h()},l(d){e=k(d,"DIV",{class:!0});var h=E(e);t=P(h,"[e] "),r=k(h,"BUTTON",{class:!0});var _=E(r);c.l(_),_.forEach(v),h.forEach(v),o=F(d),this.h()},h(){m(r,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(d,h){I(d,e,h),p(e,t),p(e,r),c.m(r,null),I(d,o,h),s||(l=X(r,"click",f),s=!0)},p(d,h){n=d,u===(u=a(n,h))&&c?c.p(n,h):(c.d(1),c=u(n),c&&(c.c(),c.m(r,null)))},d(d){d&&v(e),c.d(),d&&v(o),s=!1,l()}}}function Af(n){let e,t,r,i=n[15][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("[e] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"[e] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&8192&&i!==(i=l[15][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function Nf(n){let e,t,r,i=n[15][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("[e] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"[e] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&8192&&i!==(i=l[15][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function Uf(n){let e,t,r,i=n[15][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("[e] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"[e] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&8192&&i!==(i=l[15][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function jf(n){let e,t,r,i,o,s=JSON.parse(n[14].content).name+"",l,a,u,c;function f(){return n[9](n[14],n[15])}return{c(){e=g("div"),t=C("to[p] "),r=g("button"),i=C("@"),o=g("u"),l=C(s),a=j(),this.h()},l(d){e=k(d,"DIV",{class:!0});var h=E(e);t=P(h,"to[p] "),r=k(h,"BUTTON",{class:!0});var _=E(r);i=P(_,"@"),o=k(_,"U",{});var b=E(o);l=P(b,s),b.forEach(v),_.forEach(v),h.forEach(v),a=F(d),this.h()},h(){m(r,"class","text-emerald-800 dark:text-blue-400 overflow-hidden text-ellipsis"),m(e,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden")},m(d,h){I(d,e,h),p(e,t),p(e,r),p(r,i),p(r,o),p(o,l),I(d,a,h),u||(c=X(r,"click",f),u=!0)},p(d,h){n=d,h&16384&&s!==(s=JSON.parse(n[14].content).name+"")&&N(l,s)},d(d){d&&v(e),d&&v(a),u=!1,c()}}}function Ff(n){let e,t,r,i=n[15][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("to[p] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"to[p] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&8192&&i!==(i=l[15][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function Vf(n){let e,t,r,i=n[15][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("to[p] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"to[p] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&8192&&i!==(i=l[15][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function Bf(n){let e,t,r,i=n[15][1]+"",o,s;return{c(){e=g("div"),t=g("div"),r=C("to[p] "),o=C(i),s=j(),this.h()},l(l){e=k(l,"DIV",{slot:!0});var a=E(e);t=k(a,"DIV",{class:!0});var u=E(t);r=P(u,"to[p] "),o=P(u,i),u.forEach(v),s=F(a),a.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(l,a){I(l,e,a),p(e,t),p(t,r),p(t,o),p(e,s)},p(l,a){a&8192&&i!==(i=l[15][1]+"")&&N(o,i)},d(l){l&&v(e)}}}function So(n){let e,t,r,i;const o=[Tf,Rf,qf],s=[];function l(a,u){return a[15][0]==="p"?0:a[15][0]==="e"||a[15][0]==="q"?1:2}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),r=x()},l(a){t.l(a),r=x()},m(a,u){s[e].m(a,u),I(a,r,u),i=!0},p(a,u){let c=e;e=l(a),e===c?s[e].p(a,u):(ie(),U(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r))},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){s[e].d(a),a&&v(r)}}}function Hf(n){let e,t,r=JSON.parse(n[14].content).picture,i,o,s=JSON.parse(n[14].content).display_name+"",l,a,u,c,f,d,h=JSON.parse(n[14].content).name+"",_,b,y,w,O=new Date(n[13].created_at*1e3).toLocaleString()+"",R,T,A=n[13].tags&&Ze(n[13].tags).length>0,S,L,q,D,K,$,W=r&&Eo(n);function ee(){return n[7](n[14],n[13])}function ne(){return n[8](n[13])}let Y=A&&Oo(n);return q=new Je({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),W&&W.c(),i=j(),o=g("div"),l=C(s),a=j(),u=g("div"),c=g("button"),f=C("@"),d=g("u"),_=C(h),b=j(),y=g("div"),w=g("button"),R=C(O),T=j(),Y&&Y.c(),S=j(),L=g("div"),le(q.$$.fragment),this.h()},l(z){e=k(z,"DIV",{class:!0});var G=E(e);t=k(G,"DIV",{});var re=E(t);W&&W.l(re),re.forEach(v),i=F(G),o=k(G,"DIV",{class:!0});var he=E(o);l=P(he,s),he.forEach(v),a=F(G),u=k(G,"DIV",{class:!0});var J=E(u);c=k(J,"BUTTON",{class:!0});var _e=E(c);f=P(_e,"@"),d=k(_e,"U",{});var pe=E(d);_=P(pe,h),pe.forEach(v),_e.forEach(v),J.forEach(v),b=F(G),y=k(G,"DIV",{class:!0});var Q=E(y);w=k(Q,"BUTTON",{class:!0});var te=E(w);R=P(te,O),te.forEach(v),Q.forEach(v),G.forEach(v),T=F(z),Y&&Y.l(z),S=F(z),L=k(z,"DIV",{class:!0});var se=E(L);fe(q.$$.fragment,se),se.forEach(v),this.h()},h(){m(o,"class","wi truncate justify-items-end"),m(c,"class","text-emerald-800/60 dark:text-blue-500/60 text-xs"),m(u,"class","truncate wid min-w-[2em] justify-items-end"),m(w,"class","text-xs underline decoration-secondary-500"),m(y,"class","min-w-max"),m(e,"class","w-full grid grid-cols-[auto_auto_1fr_auto] gap-1 h-fix"),m(L,"class","max-h-[20em] overflow-auto break-all whitespace-pre-wrap")},m(z,G){I(z,e,G),p(e,t),W&&W.m(t,null),p(e,i),p(e,o),p(o,l),p(e,a),p(e,u),p(u,c),p(c,f),p(c,d),p(d,_),p(e,b),p(e,y),p(y,w),p(w,R),I(z,T,G),Y&&Y.m(z,G),I(z,S,G),I(z,L,G),ue(q,L,null),D=!0,K||($=[X(c,"click",ee),X(w,"click",ne)],K=!0)},p(z,G){n=z,G&16384&&(r=JSON.parse(n[14].content).picture),r?W?W.p(n,G):(W=Eo(n),W.c(),W.m(t,null)):W&&(W.d(1),W=null),(!D||G&16384)&&s!==(s=JSON.parse(n[14].content).display_name+"")&&N(l,s),(!D||G&16384)&&h!==(h=JSON.parse(n[14].content).name+"")&&N(_,h),(!D||G&8192)&&O!==(O=new Date(n[13].created_at*1e3).toLocaleString()+"")&&N(R,O),G&8192&&(A=n[13].tags&&Ze(n[13].tags).length>0),A?Y?(Y.p(n,G),G&8192&&M(Y,1)):(Y=Oo(n),Y.c(),M(Y,1),Y.m(S.parentNode,S)):Y&&(ie(),U(Y,1,1,()=>{Y=null}),oe());const re={};G&8192&&(re.text=n[13].content),G&8192&&(re.tag=n[13].tags),G&8192&&(re.id=n[13].id),G&4&&(re.view=n[2]),G&2&&(re.URLPreview=n[1]),q.$set(re)},i(z){D||(M(Y),M(q.$$.fragment,z),D=!0)},o(z){U(Y),U(q.$$.fragment,z),D=!1},d(z){z&&v(e),W&&W.d(),z&&v(T),Y&&Y.d(z),z&&v(S),z&&v(L),ce(q),K=!1,He($)}}}function Qf(n){let e,t,r=n[13].pubkey+"",i,o,s,l,a=new Date(n[13].created_at*1e3).toLocaleString()+"",u,c,f,d,h,_;function b(){return n[6](n[13])}return f=new Je({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),i=C(r),o=j(),s=g("div"),l=g("button"),u=C(a),c=j(),le(f.$$.fragment),this.h()},l(y){e=k(y,"DIV",{slot:!0});var w=E(e);t=k(w,"DIV",{class:!0});var O=E(t);i=P(O,r),O.forEach(v),o=F(w),s=k(w,"DIV",{class:!0});var R=E(s);l=k(R,"BUTTON",{class:!0});var T=E(l);u=P(T,a),T.forEach(v),c=F(R),fe(f.$$.fragment,R),R.forEach(v),w.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm verflow-hidden"),m(l,"class","text-xs underline decoration-secondary-500"),m(s,"class","max-h-40 overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","loading")},m(y,w){I(y,e,w),p(e,t),p(t,i),p(e,o),p(e,s),p(s,l),p(l,u),p(s,c),ue(f,s,null),d=!0,h||(_=X(l,"click",b),h=!0)},p(y,w){n=y,(!d||w&8192)&&r!==(r=n[13].pubkey+"")&&N(i,r),(!d||w&8192)&&a!==(a=new Date(n[13].created_at*1e3).toLocaleString()+"")&&N(u,a);const O={};w&8192&&(O.text=n[13].content),w&8192&&(O.tag=n[13].tags),w&8192&&(O.id=n[13].id),w&4&&(O.view=n[2]),w&2&&(O.URLPreview=n[1]),f.$set(O)},i(y){d||(M(f.$$.fragment,y),d=!0)},o(y){U(f.$$.fragment,y),d=!1},d(y){y&&v(e),ce(f),h=!1,_()}}}function Kf(n){let e,t,r=n[13].pubkey+"",i,o,s,l=new Date(n[13].created_at*1e3).toLocaleString()+"",a,u,c,f,d,h,_;function b(){return n[5](n[13])}return f=new Je({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),i=C(r),o=j(),s=g("button"),a=C(l),u=j(),c=g("div"),le(f.$$.fragment),this.h()},l(y){e=k(y,"DIV",{slot:!0});var w=E(e);t=k(w,"DIV",{class:!0});var O=E(t);i=P(O,r),o=F(O),s=k(O,"BUTTON",{class:!0});var R=E(s);a=P(R,l),R.forEach(v),O.forEach(v),u=F(w),c=k(w,"DIV",{class:!0});var T=E(c);fe(f.$$.fragment,T),T.forEach(v),w.forEach(v),this.h()},h(){m(s,"class","text-xs underline decoration-secondary-500"),m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(c,"class","max-h-40 overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","error")},m(y,w){I(y,e,w),p(e,t),p(t,i),p(t,o),p(t,s),p(s,a),p(e,u),p(e,c),ue(f,c,null),d=!0,h||(_=X(s,"click",b),h=!0)},p(y,w){n=y,(!d||w&8192)&&r!==(r=n[13].pubkey+"")&&N(i,r),(!d||w&8192)&&l!==(l=new Date(n[13].created_at*1e3).toLocaleString()+"")&&N(a,l);const O={};w&8192&&(O.text=n[13].content),w&8192&&(O.tag=n[13].tags),w&8192&&(O.id=n[13].id),w&4&&(O.view=n[2]),w&2&&(O.URLPreview=n[1]),f.$set(O)},i(y){d||(M(f.$$.fragment,y),d=!0)},o(y){U(f.$$.fragment,y),d=!1},d(y){y&&v(e),ce(f),h=!1,_()}}}function zf(n){let e,t,r=n[13].pubkey+"",i,o,s,l,a;return l=new Je({props:{text:n[13].content,tag:n[13].tags,id:n[13].id,view:n[2],URLPreview:n[1]}}),{c(){e=g("div"),t=g("div"),i=C(r),o=j(),s=g("div"),le(l.$$.fragment),this.h()},l(u){e=k(u,"DIV",{slot:!0});var c=E(e);t=k(c,"DIV",{class:!0});var f=E(t);i=P(f,r),f.forEach(v),o=F(c),s=k(c,"DIV",{class:!0});var d=E(s);fe(l.$$.fragment,d),d.forEach(v),c.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(s,"class","max-h-40 overflow-auto break-all whitespace-pre-wrap"),m(e,"slot","nodata")},m(u,c){I(u,e,c),p(e,t),p(t,i),p(e,o),p(e,s),ue(l,s,null),a=!0},p(u,c){(!a||c&8192)&&r!==(r=u[13].pubkey+"")&&N(i,r);const f={};c&8192&&(f.text=u[13].content),c&8192&&(f.tag=u[13].tags),c&8192&&(f.id=u[13].id),c&4&&(f.view=u[2]),c&2&&(f.URLPreview=u[1]),l.$set(f)},i(u){a||(M(l.$$.fragment,u),a=!0)},o(u){U(l.$$.fragment,u),a=!1},d(u){u&&v(e),ce(l)}}}function Gf(n){let e,t;return e=new Ge({props:{queryKey:["metadata",n[13].pubkey],pubkey:n[13].pubkey,$$slots:{nodata:[zf,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0],error:[Kf,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0],loading:[Qf,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0],default:[Hf,({metadata:r})=>({14:r}),({metadata:r})=>r?16384:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&8192&&(o.queryKey=["metadata",r[13].pubkey]),i&8192&&(o.pubkey=r[13].pubkey),i&286726&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Jf(n){let e,t,r;return{c(){e=g("div"),t=g("div"),r=C(n[0]),this.h()},l(i){e=k(i,"DIV",{slot:!0});var o=E(e);t=k(o,"DIV",{class:!0});var s=E(t);r=P(s,n[0]),s.forEach(v),o.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(i,o){I(i,e,o),p(e,t),p(t,r)},p(i,o){o&1&&N(r,i[0])},d(i){i&&v(e)}}}function Wf(n){let e,t,r;return{c(){e=g("div"),t=g("div"),r=C(n[0]),this.h()},l(i){e=k(i,"DIV",{slot:!0});var o=E(e);t=k(o,"DIV",{class:!0});var s=E(t);r=P(s,n[0]),s.forEach(v),o.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(i,o){I(i,e,o),p(e,t),p(t,r)},p(i,o){o&1&&N(r,i[0])},d(i){i&&v(e)}}}function Yf(n){let e,t,r;return{c(){e=g("div"),t=g("div"),r=C(n[0]),this.h()},l(i){e=k(i,"DIV",{slot:!0});var o=E(e);t=k(o,"DIV",{class:!0});var s=E(t);r=P(s,n[0]),s.forEach(v),o.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(i,o){I(i,e,o),p(e,t),p(t,r)},p(i,o){o&1&&N(r,i[0])},d(i){i&&v(e)}}}function Xf(n){let e,t,r,i;return r=new Jt({props:{queryKey:[n[0]],id:n[0],$$slots:{nodata:[Yf,({text:o})=>({13:o}),({text:o})=>o?8192:0],error:[Wf,({text:o})=>({13:o}),({text:o})=>o?8192:0],loading:[Jf,({text:o})=>({13:o}),({text:o})=>o?8192:0],default:[Gf,({text:o})=>({13:o}),({text:o})=>o?8192:0]},$$scope:{ctx:n}}}),{c(){e=g("div"),t=g("div"),le(r.$$.fragment),this.h()},l(o){e=k(o,"DIV",{class:!0});var s=E(e);t=k(s,"DIV",{class:!0});var l=E(t);fe(r.$$.fragment,l),l.forEach(v),s.forEach(v),this.h()},h(){m(t,"class","w-full grid grid-rows-[auto_auto] gap-0 h-fix"),m(e,"class","card border border-surface-400 px-3 py-2 mt-1")},m(o,s){I(o,e,s),p(e,t),ue(r,t,null),i=!0},p(o,[s]){const l={};s&1&&(l.queryKey=[o[0]]),s&1&&(l.id=o[0]),s&270343&&(l.$$scope={dirty:s,ctx:o}),r.$set(l)},i(o){i||(M(r.$$.fragment,o),i=!0)},o(o){U(r.$$.fragment,o),i=!1},d(o){o&&v(e),ce(r)}}}const Zf=n=>n[0]==="content-warning";function xf(n,e,t){let r;Be(n,Lo,y=>t(2,r=y));let{id:i}=e,{URLPreview:o}=e;const s={ref:sn,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function l(y,w){console.log(y);const O={type:"component",value:{metadata:y,pubkey:w},component:s};Re.trigger(O)}const a={ref:ws,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function u(y){console.log("click");const w={type:"component",title:"Event Json",value:{note:y},component:a};Re.trigger(w)}const c=y=>{u(y)},f=y=>{u(y)},d=(y,w)=>{l(y,w.pubkey)},h=y=>{u(y)},_=(y,w)=>{l(y,w[1])},b=y=>{u(y)};return n.$$set=y=>{"id"in y&&t(0,i=y.id),"URLPreview"in y&&t(1,o=y.URLPreview)},[i,o,r,l,u,c,f,d,h,_,b]}class $f extends Te{constructor(e){super(),De(this,e,xf,Xf,Oe,{id:0,URLPreview:1})}}function Io(n,e,t){const r=n.slice();return r[20]=e[t],r[22]=t,r}function ed(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Hd,then:nd,catch:rd,value:19,blocks:[,,,]};return Xe(t=n[10](n[1],n[2]),i),{c(){e=x(),i.block.c()},l(o){e=x(),i.block.l(o)},m(o,s){I(o,e,s),i.block.m(o,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(o,s){n=o,i.ctx=n,s&6&&t!==(t=n[10](n[1],n[2]))&&Xe(t,i)||pr(i,n,s)},i(o){r||(M(i.block),r=!0)},o(o){for(let s=0;s<3;s+=1){const l=i.blocks[s];U(l)}r=!1},d(o){o&&v(e),i.block.d(o),i.token=null,i=null}}}function td(n){let e,t,r,i,o=n[2][n[2].findIndex(qo)][1]+"",s,l,a;return{c(){e=g("button"),t=C("content-warning"),r=g("br"),i=j(),s=C(o),this.h()},l(u){e=k(u,"BUTTON",{type:!0,class:!0});var c=E(e);t=P(c,"content-warning"),r=k(c,"BR",{}),i=F(c),s=P(c,o),c.forEach(v),this.h()},h(){m(e,"type","button"),m(e,"class","btn variant-filled-warning m-0")},m(u,c){I(u,e,c),p(e,t),p(e,r),p(e,i),p(e,s),l||(a=X(e,"click",n[11]),l=!0)},p(u,c){c&4&&o!==(o=u[2][u[2].findIndex(qo)][1]+"")&&N(s,o)},i:H,o:H,d(u){u&&v(e),l=!1,a()}}}function rd(n){return{c:H,l:H,m:H,p:H,i:H,o:H,d:H}}function nd(n){let e,t,r=n[19],i=[];for(let s=0;s<r.length;s+=1)i[s]=Po(Io(n,r,s));const o=s=>U(i[s],1,1,()=>{i[s]=null});return{c(){e=g("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var l=E(e);for(let a=0;a<i.length;a+=1)i[a].l(l);l.forEach(v),this.h()},h(){m(e,"class","parent-container break-all whitespace-pre-wrap")},m(s,l){I(s,e,l);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(s,l){if(l&16779262){r=s[19];let a;for(a=0;a<r.length;a+=1){const u=Io(s,r,a);i[a]?(i[a].p(u,l),M(i[a],1)):(i[a]=Po(u),i[a].c(),M(i[a],1),i[a].m(e,null))}for(ie(),a=r.length;a<i.length;a+=1)o(a);oe()}},i(s){if(!t){for(let l=0;l<r.length;l+=1)M(i[l]);t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)U(i[l]);t=!1},d(s){s&&v(e),_t(i,s)}}}function Co(n){let e,t,r,i;const o=[cd,ud,ld,ad,sd,od,id],s=[];function l(a,u){return a[20].type==="newline"?0:a[20].type==="emoji"?1:a[20].type==="url"?2:a[20].type==="image"?3:a[20].type==="nostr"&&a[20].url?4:a[20].type==="quote"&&a[20].number!==void 0?5:a[20].content.length>0?6:-1}return~(e=l(n))&&(t=s[e]=o[e](n)),{c(){t&&t.c(),r=x()},l(a){t&&t.l(a),r=x()},m(a,u){~e&&s[e].m(a,u),I(a,r,u),i=!0},p(a,u){let c=e;e=l(a),e===c?~e&&s[e].p(a,u):(t&&(ie(),U(s[c],1,1,()=>{s[c]=null}),oe()),~e?(t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){~e&&s[e].d(a),a&&v(r)}}}function id(n){let e,t=n[20].content+"",r;return{c(){e=g("span"),r=C(t)},l(i){e=k(i,"SPAN",{});var o=E(e);r=P(o,t),o.forEach(v)},m(i,o){I(i,e,o),p(e,r)},p(i,o){o&6&&t!==(t=i[20].content+"")&&N(r,t)},i:H,o:H,d(i){i&&v(e)}}}function od(n){let e,t,r,i;const o=[_d,hd,dd,fd],s=[];function l(a,u){return a[2][a[20].number][0]==="p"?0:a[2][a[20].number][0]==="e"||a[2][a[20].number][0]==="q"?1:a[2][a[20].number][0]==="t"?2:3}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),r=x()},l(a){t.l(a),r=x()},m(a,u){s[e].m(a,u),I(a,r,u),i=!0},p(a,u){let c=e;e=l(a),e===c?s[e].p(a,u):(ie(),U(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r))},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){s[e].d(a),a&&v(r)}}}function sd(n){let e,t,r,i,o;const s=[gd,yd],l=[];function a(u,c){return c&6&&(e=null),e==null&&(e=!!u[6](u[20].url)),e?0:1}return t=a(n,-1),r=l[t]=s[t](n),{c(){r.c(),i=x()},l(u){r.l(u),i=x()},m(u,c){l[t].m(u,c),I(u,i,c),o=!0},p(u,c){let f=t;t=a(u,c),t===f?l[t].p(u,c):(ie(),U(l[f],1,1,()=>{l[f]=null}),oe(),r=l[t],r?r.p(u,c):(r=l[t]=s[t](u),r.c()),M(r,1),r.m(i.parentNode,i))},i(u){o||(M(r),o=!0)},o(u){U(r),o=!1},d(u){l[t].d(u),u&&v(i)}}}function ad(n){let e;function t(o,s){return o[3]?wd:kd}let r=t(n),i=r(n);return{c(){i.c(),e=x()},l(o){i.l(o),e=x()},m(o,s){i.m(o,s),I(o,e,s)},p(o,s){r===(r=t(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},i:H,o:H,d(o){i.d(o),o&&v(e)}}}function ld(n){let e,t,r,i;const o=[Id,Sd],s=[];function l(a,u){return a[3]?0:1}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),r=x()},l(a){t.l(a),r=x()},m(a,u){s[e].m(a,u),I(a,r,u),i=!0},p(a,u){let c=e;e=l(a),e===c?s[e].p(a,u):(ie(),U(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r))},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){s[e].d(a),a&&v(r)}}}function ud(n){let e,t,r,i,o,s;function l(){return n[13](n[20])}return{c(){e=g("span"),t=g("img"),i=j(),this.h()},l(a){e=k(a,"SPAN",{class:!0});var u=E(e);t=k(u,"IMG",{class:!0,src:!0,alt:!0}),i=F(u),u.forEach(v),this.h()},h(){m(t,"class","max-h-[1.5em] object-contain"),ve(t.src,r=n[20].url)||m(t,"src",r),m(t,"alt",""),m(e,"class","w-[fit-content] inline-flex flex align-bottom")},m(a,u){I(a,e,u),p(e,t),p(e,i),o||(s=X(t,"click",l),o=!0)},p(a,u){n=a,u&6&&!ve(t.src,r=n[20].url)&&m(t,"src",r)},i:H,o:H,d(a){a&&v(e),o=!1,s()}}}function cd(n){let e;return{c(){e=g("br")},l(t){e=k(t,"BR",{})},m(t,r){I(t,e,r)},p:H,i:H,o:H,d(t){t&&v(e)}}}function fd(n){let e=n[2][n[20].number][1]+"",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p(r,i){i&6&&e!==(e=r[2][r[20].number][1]+"")&&N(t,e)},i:H,o:H,d(r){r&&v(t)}}}function dd(n){let e,t,r=n[2][n[20].number][1]+"",i;return{c(){e=g("u"),t=C("#"),i=C(r)},l(o){e=k(o,"U",{});var s=E(e);t=P(s,"#"),i=P(s,r),s.forEach(v)},m(o,s){I(o,e,s),p(e,t),p(e,i)},p(o,s){s&6&&r!==(r=o[2][o[20].number][1]+"")&&N(i,r)},i:H,o:H,d(o){o&&v(e)}}}function hd(n){let e,t;return e=new $f({props:{id:n[2][n[20].number][1],URLPreview:n[3]}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&6&&(o.id=r[2][r[20].number][1]),i&8&&(o.URLPreview=r[3]),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function _d(n){let e,t;return e=new Ge({props:{queryKey:["metadata",n[2][n[20].number][1]],pubkey:n[2][n[20].number][1],$$slots:{nodata:[bd,({metadata:r})=>({24:r}),({metadata:r})=>r?16777216:0],error:[md,({metadata:r})=>({24:r}),({metadata:r})=>r?16777216:0],loading:[pd,({metadata:r})=>({24:r}),({metadata:r})=>r?16777216:0],default:[vd,({metadata:r})=>({24:r}),({metadata:r})=>r?16777216:0]},$$scope:{ctx:n}}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&6&&(o.queryKey=["metadata",r[2][r[20].number][1]]),i&6&&(o.pubkey=r[2][r[20].number][1]),i&50331654&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function vd(n){let e,t,r,i=JSON.parse(n[24].content).name+"",o,s,l,a;function u(){return n[15](n[20],n[24])}return{c(){e=g("button"),t=C("@"),r=g("u"),o=C(i),s=j(),this.h()},l(c){e=k(c,"BUTTON",{class:!0});var f=E(e);t=P(f,"@"),r=k(f,"U",{});var d=E(r);o=P(d,i),d.forEach(v),f.forEach(v),s=F(c),this.h()},h(){m(e,"class","flex inline-flex text-sm text-black/80 dark:text-white/80")},m(c,f){I(c,e,f),p(e,t),p(e,r),p(r,o),I(c,s,f),l||(a=X(e,"click",u),l=!0)},p(c,f){n=c,f&16777216&&i!==(i=JSON.parse(n[24].content).name+"")&&N(o,i)},d(c){c&&v(e),c&&v(s),l=!1,a()}}}function pd(n){let e,t,r=n[2][n[20].number][1]+"",i,o;return{c(){e=g("div"),t=g("div"),i=C(r),o=j(),this.h()},l(s){e=k(s,"DIV",{slot:!0});var l=E(e);t=k(l,"DIV",{class:!0});var a=E(t);i=P(a,r),a.forEach(v),o=F(l),l.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","loading")},m(s,l){I(s,e,l),p(e,t),p(t,i),p(e,o)},p(s,l){l&6&&r!==(r=s[2][s[20].number][1]+"")&&N(i,r)},d(s){s&&v(e)}}}function md(n){let e,t,r=n[2][n[20].number][1]+"",i,o;return{c(){e=g("div"),t=g("div"),i=C(r),o=j(),this.h()},l(s){e=k(s,"DIV",{slot:!0});var l=E(e);t=k(l,"DIV",{class:!0});var a=E(t);i=P(a,r),a.forEach(v),o=F(l),l.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","error")},m(s,l){I(s,e,l),p(e,t),p(t,i),p(e,o)},p(s,l){l&6&&r!==(r=s[2][s[20].number][1]+"")&&N(i,r)},d(s){s&&v(e)}}}function bd(n){let e,t,r=n[2][n[20].number][1]+"",i,o;return{c(){e=g("div"),t=g("div"),i=C(r),o=j(),this.h()},l(s){e=k(s,"DIV",{slot:!0});var l=E(e);t=k(l,"DIV",{class:!0});var a=E(t);i=P(a,r),a.forEach(v),o=F(l),l.forEach(v),this.h()},h(){m(t,"class","-mt-0.5 px-2 opacity-60 text-sm overflow-hidden"),m(e,"slot","nodata")},m(s,l){I(s,e,l),p(e,t),p(t,i),p(e,o)},p(s,l){l&6&&r!==(r=s[2][s[20].number][1]+"")&&N(i,r)},d(s){s&&v(e)}}}function yd(n){let e,t=n[20].content+"",r;return{c(){e=g("span"),r=C(t)},l(i){e=k(i,"SPAN",{});var o=E(e);r=P(o,t),o.forEach(v)},m(i,o){I(i,e,o),p(e,r)},p(i,o){o&6&&t!==(t=i[20].content+"")&&N(r,t)},i:H,o:H,d(i){i&&v(e)}}}function gd(n){let e,t;return e=new Pf({props:{encodedId:n[20].url,URLPreview:n[3]}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&6&&(o.encodedId=r[20].url),i&8&&(o.URLPreview=r[3]),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function kd(n){let e,t,r,i;function o(a,u){return a[20].content.length>80?Od:Ed}let s=o(n),l=s(n);return{c(){e=g("span"),t=g("a"),l.c(),i=j(),this.h()},l(a){e=k(a,"SPAN",{class:!0});var u=E(e);t=k(u,"A",{class:!0,href:!0,target:!0});var c=E(t);l.l(c),c.forEach(v),i=F(u),u.forEach(v),this.h()},h(){m(t,"class","anchor example svelte-zj6vf6"),m(t,"href",r=n[20].content),m(t,"target","_blank"),m(e,"class","break-all whitespace-pre-wrap")},m(a,u){I(a,e,u),p(e,t),l.m(t,null),p(e,i)},p(a,u){s===(s=o(a))&&l?l.p(a,u):(l.d(1),l=s(a),l&&(l.c(),l.m(t,null))),u&6&&r!==(r=a[20].content)&&m(t,"href",r)},d(a){a&&v(e),l.d()}}}function wd(n){let e,t,r,i,o,s;function l(){return n[14](n[20])}return{c(){e=g("span"),t=g("img"),i=j(),this.h()},l(a){e=k(a,"SPAN",{class:!0});var u=E(e);t=k(u,"IMG",{class:!0,src:!0,alt:!0}),i=F(u),u.forEach(v),this.h()},h(){m(t,"class","max-h-[10em] object-contain"),ve(t.src,r=n[20].content)||m(t,"src",r),m(t,"alt",""),m(e,"class","w-[fit-content] inline-flex flex align-bottom")},m(a,u){I(a,e,u),p(e,t),p(e,i),o||(s=X(t,"click",l),o=!0)},p(a,u){n=a,u&6&&!ve(t.src,r=n[20].content)&&m(t,"src",r)},d(a){a&&v(e),o=!1,s()}}}function Ed(n){let e=n[20].content+"",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p(r,i){i&6&&e!==(e=r[20].content+"")&&N(t,e)},d(r){r&&v(t)}}}function Od(n){let e=n[20].content.slice(0,75)+"",t,r;return{c(){t=C(e),r=C("...")},l(i){t=P(i,e),r=P(i,"...")},m(i,o){I(i,t,o),I(i,r,o)},p(i,o){o&6&&e!==(e=i[20].content.slice(0,75)+"")&&N(t,e)},d(i){i&&v(t),i&&v(r)}}}function Sd(n){let e,t,r,i;function o(a,u){return a[20].content.length>80?Pd:Cd}let s=o(n),l=s(n);return{c(){e=g("span"),t=g("a"),l.c(),i=j(),this.h()},l(a){e=k(a,"SPAN",{class:!0});var u=E(e);t=k(u,"A",{class:!0,href:!0,target:!0});var c=E(t);l.l(c),c.forEach(v),i=F(u),u.forEach(v),this.h()},h(){m(t,"class","anchor example svelte-zj6vf6"),m(t,"href",r=n[20].content),m(t,"target","_blank"),m(e,"class","break-all whitespace-pre-wrap")},m(a,u){I(a,e,u),p(e,t),l.m(t,null),p(e,i)},p(a,u){s===(s=o(a))&&l?l.p(a,u):(l.d(1),l=s(a),l&&(l.c(),l.m(t,null))),u&6&&r!==(r=a[20].content)&&m(t,"href",r)},i:H,o:H,d(a){a&&v(e),l.d()}}}function Id(n){let e,t,r,i,o,s,l;const a=[Dd,Td,Rd,qd],u=[];function c(f,d){var h;return d&6&&(e=null),d&6&&(t=null),d&6&&(r=null),e==null&&(e=!!new URL(f[20].content).hostname.endsWith("twitter.com")),e?0:(t==null&&(t=new URL(f[20].content).hostname==="www.youtube.com"||new URL(f[20].content).hostname==="m.youtube.com"||new URL(f[20].content).hostname==="youtu.be"),t?1:(r==null&&(r=!!((h=f[20].content)!=null&&h.endsWith(".mp4"))),r?2:3))}return i=c(n,-1),o=u[i]=a[i](n),{c(){o.c(),s=x()},l(f){o.l(f),s=x()},m(f,d){u[i].m(f,d),I(f,s,d),l=!0},p(f,d){let h=i;i=c(f,d),i===h?u[i].p(f,d):(ie(),U(u[h],1,1,()=>{u[h]=null}),oe(),o=u[i],o?o.p(f,d):(o=u[i]=a[i](f),o.c()),M(o,1),o.m(s.parentNode,s))},i(f){l||(M(o),l=!0)},o(f){U(o),l=!1},d(f){u[i].d(f),f&&v(s)}}}function Cd(n){let e=n[20].content+"",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p(r,i){i&6&&e!==(e=r[20].content+"")&&N(t,e)},d(r){r&&v(t)}}}function Pd(n){let e=n[20].content.slice(0,75)+"",t,r;return{c(){t=C(e),r=C("...")},l(i){t=P(i,e),r=P(i,"...")},m(i,o){I(i,t,o),I(i,r,o)},p(i,o){o&6&&e!==(e=i[20].content.slice(0,75)+"")&&N(t,e)},d(i){i&&v(t),i&&v(r)}}}function qd(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Fd,then:Md,catch:Ld,value:23,blocks:[,,,]};return Xe(t=n[7](n[20].content),i),{c(){e=x(),i.block.c()},l(o){e=x(),i.block.l(o)},m(o,s){I(o,e,s),i.block.m(o,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(o,s){n=o,i.ctx=n,s&6&&t!==(t=n[7](n[20].content))&&Xe(t,i)||pr(i,n,s)},i(o){r||(M(i.block),r=!0)},o(o){for(let s=0;s<3;s+=1){const l=i.blocks[s];U(l)}r=!1},d(o){o&&v(e),i.block.d(o),i.token=null,i=null}}}function Rd(n){let e,t,r,i,o,s;return{c(){e=g("video"),t=g("source"),i=g("track"),s=C(`
                  Your browser does not support the video tag.
                `),this.h()},l(l){e=k(l,"VIDEO",{class:!0});var a=E(e);t=k(a,"SOURCE",{src:!0,type:!0}),i=k(a,"TRACK",{kind:!0,src:!0,label:!0}),s=P(a,`
                  Your browser does not support the video tag.
                `),a.forEach(v),this.h()},h(){ve(t.src,r=n[20].content)||m(t,"src",r),m(t,"type","video/mp4"),m(i,"kind","captions"),ve(i.src,o="")||m(i,"src",o),m(i,"label","English"),i.default=!0,e.controls=!0,m(e,"class","max-h-[20em]")},m(l,a){I(l,e,a),p(e,t),p(e,i),p(e,s)},p(l,a){a&6&&!ve(t.src,r=l[20].content)&&m(t,"src",r)},i:H,o:H,d(l){l&&v(e)}}}function Td(n){let e,t;return{c(){e=g("iframe"),this.h()},l(r){e=k(r,"IFRAME",{class:!0,width:!0,height:!0,src:!0,title:!0,frameborder:!0,allow:!0}),E(e).forEach(v),this.h()},h(){m(e,"class","rounded"),m(e,"width","320"),m(e,"height","180"),ve(e.src,t=`https://www.youtube.com/embed/${n[8](n[20].content)}`)||m(e,"src",t),m(e,"title","YouTube video player"),m(e,"frameborder","0"),m(e,"allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.allowFullscreen=!0},m(r,i){I(r,e,i)},p(r,i){i&6&&!ve(e.src,t=`https://www.youtube.com/embed/${r[8](r[20].content)}`)&&m(e,"src",t)},i:H,o:H,d(r){r&&v(e)}}}function Dd(n){let e,t,r,i,o=n[20].content+"",s,l,a,u,c,f;return{c(){e=g("div"),t=g("blockquote"),r=g("p"),i=g("a"),s=C(o),a=j(),u=g("script"),f=j(),this.h()},l(d){e=k(d,"DIV",{class:!0});var h=E(e);t=k(h,"BLOCKQUOTE",{class:!0});var _=E(t);r=k(_,"P",{lang:!0,dir:!0});var b=E(r);i=k(b,"A",{class:!0,href:!0});var y=E(i);s=P(y,o),y.forEach(v),b.forEach(v),_.forEach(v),a=F(h),u=k(h,"SCRIPT",{src:!0,charset:!0});var w=E(u);w.forEach(v),f=F(h),h.forEach(v),this.h()},h(){m(i,"class","anchor example svelte-zj6vf6"),m(i,"href",l=n[20].content),m(r,"lang","ja"),m(r,"dir","ltr"),m(t,"class","twitter-tweet"),u.async=!0,ve(u.src,c="https://platform.twitter.com/widgets.js")||m(u,"src",c),m(u,"charset","utf-8"),m(e,"class","max-h-[24rem] max-w-[36rem] overflow-auto")},m(d,h){I(d,e,h),p(e,t),p(t,r),p(r,i),p(i,s),p(e,a),p(e,u),p(e,f)},p(d,h){h&6&&o!==(o=d[20].content+"")&&N(s,o),h&6&&l!==(l=d[20].content)&&m(i,"href",l)},i:H,o:H,d(d){d&&v(e)}}}function Ld(n){return{c:H,l:H,m:H,p:H,i:H,o:H,d:H}}function Md(n){let e,t,r,i;const o=[Nd,Ad],s=[];function l(a,u){return a[4][a[20].content].title!==""?0:1}return e=l(n),t=s[e]=o[e](n),{c(){t.c(),r=j()},l(a){t.l(a),r=F(a)},m(a,u){s[e].m(a,u),I(a,r,u),i=!0},p(a,u){let c=e;e=l(a),e===c?s[e].p(a,u):(ie(),U(s[c],1,1,()=>{s[c]=null}),oe(),t=s[e],t?t.p(a,u):(t=s[e]=o[e](a),t.c()),M(t,1),t.m(r.parentNode,r))},i(a){i||(M(t),i=!0)},o(a){U(t),i=!1},d(a){s[e].d(a),a&&v(r)}}}function Ad(n){let e,t,r;function i(l,a){return l[20].content.length>80?jd:Ud}let o=i(n),s=o(n);return{c(){e=g("span"),t=g("a"),s.c(),this.h()},l(l){e=k(l,"SPAN",{class:!0});var a=E(e);t=k(a,"A",{class:!0,href:!0,target:!0});var u=E(t);s.l(u),u.forEach(v),a.forEach(v),this.h()},h(){m(t,"class","anchor example svelte-zj6vf6"),m(t,"href",r=n[20].content),m(t,"target","_blank"),m(e,"class","break-all whitespace-pre-wrap")},m(l,a){I(l,e,a),p(e,t),s.m(t,null)},p(l,a){o===(o=i(l))&&s?s.p(l,a):(s.d(1),s=o(l),s&&(s.c(),s.m(t,null))),a&6&&r!==(r=l[20].content)&&m(t,"href",r)},i:H,o:H,d(l){l&&v(e),s.d()}}}function Nd(n){let e,t;return e=new Dc({props:{ogp:n[4][n[20].content],url:n[20].content}}),{c(){le(e.$$.fragment)},l(r){fe(e.$$.fragment,r)},m(r,i){ue(e,r,i),t=!0},p(r,i){const o={};i&22&&(o.ogp=r[4][r[20].content]),i&6&&(o.url=r[20].content),e.$set(o)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ce(e,r)}}}function Ud(n){let e=n[20].content+"",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p(r,i){i&6&&e!==(e=r[20].content+"")&&N(t,e)},d(r){r&&v(t)}}}function jd(n){let e=n[20].content.slice(0,75)+"",t,r;return{c(){t=C(e),r=C("...")},l(i){t=P(i,e),r=P(i,"...")},m(i,o){I(i,t,o),I(i,r,o)},p(i,o){o&6&&e!==(e=i[20].content.slice(0,75)+"")&&N(t,e)},d(i){i&&v(t),i&&v(r)}}}function Fd(n){let e,t,r,i;function o(a,u){return a[20].content.length>80?Bd:Vd}let s=o(n),l=s(n);return{c(){e=g("span"),t=g("a"),l.c(),i=j(),this.h()},l(a){e=k(a,"SPAN",{class:!0});var u=E(e);t=k(u,"A",{class:!0,href:!0,target:!0});var c=E(t);l.l(c),c.forEach(v),u.forEach(v),i=F(a),this.h()},h(){m(t,"class","anchor example svelte-zj6vf6"),m(t,"href",r=n[20].content),m(t,"target","_blank"),m(e,"class","break-all whitespace-pre-wrap")},m(a,u){I(a,e,u),p(e,t),l.m(t,null),I(a,i,u)},p(a,u){s===(s=o(a))&&l?l.p(a,u):(l.d(1),l=s(a),l&&(l.c(),l.m(t,null))),u&6&&r!==(r=a[20].content)&&m(t,"href",r)},i:H,o:H,d(a){a&&v(e),l.d(),a&&v(i)}}}function Vd(n){let e=n[20].content+"",t;return{c(){t=C(e)},l(r){t=P(r,e)},m(r,i){I(r,t,i)},p(r,i){i&6&&e!==(e=r[20].content+"")&&N(t,e)},d(r){r&&v(t)}}}function Bd(n){let e=n[20].content.slice(0,75)+"",t,r;return{c(){t=C(e),r=C("...")},l(i){t=P(i,e),r=P(i,"...")},m(i,o){I(i,t,o),I(i,r,o)},p(i,o){o&6&&e!==(e=i[20].content.slice(0,75)+"")&&N(t,e)},d(i){i&&v(t),i&&v(r)}}}function Po(n){let e,t,r=n[20].content.length>0&&Co(n);return{c(){r&&r.c(),e=x()},l(i){r&&r.l(i),e=x()},m(i,o){r&&r.m(i,o),I(i,e,o),t=!0},p(i,o){i[20].content.length>0?r?(r.p(i,o),o&6&&M(r,1)):(r=Co(i),r.c(),M(r,1),r.m(e.parentNode,e)):r&&(ie(),U(r,1,1,()=>{r=null}),oe())},i(i){t||(M(r),t=!0)},o(i){U(r),t=!1},d(i){r&&r.d(i),i&&v(e)}}}function Hd(n){let e;return{c(){e=C(n[1])},l(t){e=P(t,n[1])},m(t,r){I(t,e,r)},p(t,r){r&2&&N(e,t[1])},i:H,o:H,d(t){t&&v(e)}}}function Qd(n){let e,t,r,i,o;const s=[td,ed],l=[];function a(u,c){return c&5&&(e=null),e==null&&(e=!!(u[2].some(zd)&&u[0]==!1)),e?0:1}return t=a(n,-1),r=l[t]=s[t](n),{c(){r.c(),i=x()},l(u){r.l(u),i=x()},m(u,c){l[t].m(u,c),I(u,i,c),o=!0},p(u,[c]){let f=t;t=a(u,c),t===f?l[t].p(u,c):(ie(),U(l[f],1,1,()=>{l[f]=null}),oe(),r=l[t],r?r.p(u,c):(r=l[t]=s[t](u),r.c()),M(r,1),r.m(i.parentNode,i))},i(u){o||(M(r),o=!0)},o(u){U(r),o=!1},d(u){l[t].d(u),u&&v(i)}}}function Kd(n,e){e||(e=window.location.href),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}const zd=n=>n[0]==="content-warning",qo=n=>n[0]==="content-warning";function Gd(n,e,t){let r,i;Be(n,_n,S=>t(16,r=S)),Be(n,ut,S=>t(4,i=S));let{id:o}=e,{text:s}=e,{tag:l}=e,{URLPreview:a}=e;const u={ref:qc,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function c(S){if(typeof S=="string"){const L={type:"component",image:S,component:u};Re.trigger(L)}}function f(S){try{return Z.decode(S),!0}catch{return!1}}async function d(S){if(!i[S]||i[S].title==="")try{const L=await Fs(S);ut.update(q=>({...q,[S]:L}))}catch(L){console.log(L),ct(ut,i[S].title="",i),ct(ut,i[S].image="",i),ct(ut,i[S].description="",i),ct(ut,i[S].favicon="",i)}}const h=S=>{const L=new URL(S);if(L.hostname==="youtu.be")return L.pathname.substring(1);if(L.hostname==="www.youtube.com"||L.hostname==="m.youtube.com")return L.pathname.startsWith("/shorts/")?L.pathname.replace("/shorts/",""):Kd("v",S)},_={ref:sn,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function b(S,L){console.log(S);const q={type:"component",value:{metadata:S,pubkey:L},component:_};Re.trigger(q)}async function y(S,L){if(o in r)return r[o];{const q=await Oc(S,L);return ct(_n,r[o]=q,r),q}}let{view:w=!1}=e;function O(){t(0,w=!0)}const R=S=>c(S.url),T=S=>c(S.content),A=(S,L)=>{const q=S.number===void 0?0:S.number;b(L,l[q][1])};return n.$$set=S=>{"id"in S&&t(12,o=S.id),"text"in S&&t(1,s=S.text),"tag"in S&&t(2,l=S.tag),"URLPreview"in S&&t(3,a=S.URLPreview),"view"in S&&t(0,w=S.view)},[w,s,l,a,i,c,f,d,h,b,y,O,o,R,T,A]}class Je extends Te{constructor(e){super(),De(this,e,Gd,Qd,Oe,{id:12,text:1,tag:2,URLPreview:3,view:0})}}export{Zd as A,Je as C,eh as M,th as N,nh as P,xd as T,rh as a,$d as b,sn as c,ws as d,Jt as e,Ge as f,Zi as g,Re as m};
