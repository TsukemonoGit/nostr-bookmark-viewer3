import{S as Ie,i as Pe,s as we,C as ce,k as w,a as B,l as C,m as R,c as Q,h as g,n as y,b as j,F as m,g as D,v as Oe,d as U,f as Ee,G as fe,I as he,J as de,Z as Mr,X as Me,Y as Qe,N as G,O as Ne,W as Xe,$ as Ae,a0 as Uo,a1 as Yt,a3 as jr,a4 as Xr,_ as Ze,w as Bo,e as Y,L as et,a5 as Qo,K,R as Ko,a9 as wr,aj as rt,x as Zr,y as De,z as Ke,A as Fe,ak as Go,B as Le,V as pe,q as N,r as H,M as Xt,u as V,H as Vo,E as zo,o as Jo,al as Ji,am as $e,a6 as ir,an as xr,ao as Wo,P as Yo,p as Wi}from"./index.e81ade4b.js";import{m as Zt,o as $r,q as Xo,G as Zo,r as Yi,s as xo,u as $o,x as es,v as ts,w as T,n as x,t as xt}from"./navigation.6cf19591.js";import{w as it,r as Dt,d as Jt}from"./index.52a5fe5b.js";import"./ProgressBar.svelte_svelte_type_style_lang.0751fc73.js";function rs(){const{subscribe:n,set:e,update:t}=it([]);return{subscribe:n,set:e,update:t,trigger:r=>t(i=>(i.push(r),i)),close:()=>t(r=>(r.length>0&&r.shift(),r)),clear:()=>e([])}}const qe=rs();function ns(n,e){const t='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';let r,i;function s(c){c.shiftKey&&c.code==="Tab"&&(c.preventDefault(),i.focus())}function o(c){!c.shiftKey&&c.code==="Tab"&&(c.preventDefault(),r.focus())}const u=c=>{if(e===!1)return;const f=Array.from(n.querySelectorAll(t));f.length&&(r=f[0],i=f[f.length-1],c||r.focus(),r.addEventListener("keydown",s),i.addEventListener("keydown",o))};u(!1);function a(){r&&r.removeEventListener("keydown",s),i&&i.removeEventListener("keydown",o)}const l=(c,f)=>(c.length&&(a(),u(!0)),f),h=new MutationObserver(l);return h.observe(n,{childList:!0,subtree:!0}),{update(c){e=c,c?u(!1):a()},destroy(){a(),h.disconnect()}}}const is=n=>({}),en=n=>({}),os=n=>({}),tn=n=>({}),ss=n=>({}),rn=n=>({});function nn(n){let e,t,r;const i=n[22].lead,s=ce(i,n,n[21],rn);return{c(){e=w("div"),s&&s.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=R(e);s&&s.l(u),u.forEach(g),this.h()},h(){y(e,"class",t="app-bar-slot-lead "+n[4])},m(o,u){j(o,e,u),s&&s.m(e,null),r=!0},p(o,u){s&&s.p&&(!r||u&2097152)&&fe(s,i,o,o[21],r?de(i,o[21],u,ss):he(o[21]),rn),(!r||u&16&&t!==(t="app-bar-slot-lead "+o[4]))&&y(e,"class",t)},i(o){r||(D(s,o),r=!0)},o(o){U(s,o),r=!1},d(o){o&&g(e),s&&s.d(o)}}}function on(n){let e,t,r;const i=n[22].trail,s=ce(i,n,n[21],tn);return{c(){e=w("div"),s&&s.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=R(e);s&&s.l(u),u.forEach(g),this.h()},h(){y(e,"class",t="app-bar-slot-trail "+n[2])},m(o,u){j(o,e,u),s&&s.m(e,null),r=!0},p(o,u){s&&s.p&&(!r||u&2097152)&&fe(s,i,o,o[21],r?de(i,o[21],u,os):he(o[21]),tn),(!r||u&4&&t!==(t="app-bar-slot-trail "+o[2]))&&y(e,"class",t)},i(o){r||(D(s,o),r=!0)},o(o){U(s,o),r=!1},d(o){o&&g(e),s&&s.d(o)}}}function sn(n){let e,t,r;const i=n[22].headline,s=ce(i,n,n[21],en);return{c(){e=w("div"),s&&s.c(),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=R(e);s&&s.l(u),u.forEach(g),this.h()},h(){y(e,"class",t="app-bar-row-headline "+n[5])},m(o,u){j(o,e,u),s&&s.m(e,null),r=!0},p(o,u){s&&s.p&&(!r||u&2097152)&&fe(s,i,o,o[21],r?de(i,o[21],u,is):he(o[21]),en),(!r||u&32&&t!==(t="app-bar-row-headline "+o[5]))&&y(e,"class",t)},i(o){r||(D(s,o),r=!0)},o(o){U(s,o),r=!1},d(o){o&&g(e),s&&s.d(o)}}}function as(n){let e,t,r,i,s,o,u,a,l,h,c=n[8].lead&&nn(n);const f=n[22].default,d=ce(f,n,n[21],null);let _=n[8].trail&&on(n),p=n[8].headline&&sn(n);return{c(){e=w("div"),t=w("div"),c&&c.c(),r=B(),i=w("div"),d&&d.c(),o=B(),_&&_.c(),a=B(),p&&p.c(),this.h()},l(v){e=C(v,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-labelledby":!0});var b=R(e);t=C(b,"DIV",{class:!0});var E=R(t);c&&c.l(E),r=Q(E),i=C(E,"DIV",{class:!0});var O=R(i);d&&d.l(O),O.forEach(g),o=Q(E),_&&_.l(E),E.forEach(g),a=Q(b),p&&p.l(b),b.forEach(g),this.h()},h(){y(i,"class",s="app-bar-slot-default "+n[3]),y(t,"class",u="app-bar-row-main "+n[6]),y(e,"class",l="app-bar "+n[7]),y(e,"data-testid","app-bar"),y(e,"role","toolbar"),y(e,"aria-label",n[0]),y(e,"aria-labelledby",n[1])},m(v,b){j(v,e,b),m(e,t),c&&c.m(t,null),m(t,r),m(t,i),d&&d.m(i,null),m(t,o),_&&_.m(t,null),m(e,a),p&&p.m(e,null),h=!0},p(v,[b]){v[8].lead?c?(c.p(v,b),b&256&&D(c,1)):(c=nn(v),c.c(),D(c,1),c.m(t,r)):c&&(Oe(),U(c,1,1,()=>{c=null}),Ee()),d&&d.p&&(!h||b&2097152)&&fe(d,f,v,v[21],h?de(f,v[21],b,null):he(v[21]),null),(!h||b&8&&s!==(s="app-bar-slot-default "+v[3]))&&y(i,"class",s),v[8].trail?_?(_.p(v,b),b&256&&D(_,1)):(_=on(v),_.c(),D(_,1),_.m(t,null)):_&&(Oe(),U(_,1,1,()=>{_=null}),Ee()),(!h||b&64&&u!==(u="app-bar-row-main "+v[6]))&&y(t,"class",u),v[8].headline?p?(p.p(v,b),b&256&&D(p,1)):(p=sn(v),p.c(),D(p,1),p.m(e,null)):p&&(Oe(),U(p,1,1,()=>{p=null}),Ee()),(!h||b&128&&l!==(l="app-bar "+v[7]))&&y(e,"class",l),(!h||b&1)&&y(e,"aria-label",v[0]),(!h||b&2)&&y(e,"aria-labelledby",v[1])},i(v){h||(D(c),D(d,v),D(_),D(p),h=!0)},o(v){U(c),U(d,v),U(_),U(p),h=!1},d(v){v&&g(e),c&&c.d(),d&&d.d(v),_&&_.d(),p&&p.d()}}}const us="flex flex-col",ls="grid items-center",cs="",fs="flex-none flex justify-between items-center",hs="flex-auto",ds="flex-none flex items-center space-x-4";function _s(n,e,t){let r,i,s,o,u,a,{$$slots:l={},$$scope:h}=e;const c=Mr(l);let{background:f="bg-surface-100-800-token"}=e,{border:d=""}=e,{padding:_="p-4"}=e,{shadow:p=""}=e,{spacing:v="space-y-4"}=e,{gridColumns:b="grid-cols-[auto_1fr_auto]"}=e,{gap:E="gap-4"}=e,{regionRowMain:O=""}=e,{regionRowHeadline:k=""}=e,{slotLead:q=""}=e,{slotDefault:S=""}=e,{slotTrail:M=""}=e,{label:A=""}=e,{labelledby:I=""}=e;return n.$$set=L=>{t(23,e=Me(Me({},e),Qe(L))),"background"in L&&t(9,f=L.background),"border"in L&&t(10,d=L.border),"padding"in L&&t(11,_=L.padding),"shadow"in L&&t(12,p=L.shadow),"spacing"in L&&t(13,v=L.spacing),"gridColumns"in L&&t(14,b=L.gridColumns),"gap"in L&&t(15,E=L.gap),"regionRowMain"in L&&t(16,O=L.regionRowMain),"regionRowHeadline"in L&&t(17,k=L.regionRowHeadline),"slotLead"in L&&t(18,q=L.slotLead),"slotDefault"in L&&t(19,S=L.slotDefault),"slotTrail"in L&&t(20,M=L.slotTrail),"label"in L&&t(0,A=L.label),"labelledby"in L&&t(1,I=L.labelledby),"$$scope"in L&&t(21,h=L.$$scope)},n.$$.update=()=>{t(7,r=`${us} ${f} ${d} ${v} ${_} ${p} ${e.class??""}`),n.$$.dirty&114688&&t(6,i=`${ls} ${b} ${E} ${O}`),n.$$.dirty&131072&&t(5,s=`${cs} ${k}`),n.$$.dirty&262144&&t(4,o=`${fs} ${q}`),n.$$.dirty&524288&&t(3,u=`${hs} ${S}`),n.$$.dirty&1048576&&t(2,a=`${ds} ${M}`)},e=Qe(e),[A,I,a,u,o,s,i,r,c,f,d,_,p,v,b,E,O,k,q,S,M,h,l]}class lc extends Ie{constructor(e){super(),Pe(this,e,_s,as,we,{background:9,border:10,padding:11,shadow:12,spacing:13,gridColumns:14,gap:15,regionRowMain:16,regionRowHeadline:17,slotLead:18,slotDefault:19,slotTrail:20,label:0,labelledby:1})}}const ps=n=>({}),an=n=>({});function un(n){let e,t,r;const i=n[17].panel,s=ce(i,n,n[16],an);return{c(){e=w("div"),s&&s.c(),this.h()},l(o){e=C(o,"DIV",{class:!0,role:!0,"aria-labelledby":!0,tabindex:!0});var u=R(e);s&&s.l(u),u.forEach(g),this.h()},h(){y(e,"class",t="tab-panel "+n[2]),y(e,"role","tabpanel"),y(e,"aria-labelledby",n[1]),y(e,"tabindex","0")},m(o,u){j(o,e,u),s&&s.m(e,null),r=!0},p(o,u){s&&s.p&&(!r||u&65536)&&fe(s,i,o,o[16],r?de(i,o[16],u,ps):he(o[16]),an),(!r||u&4&&t!==(t="tab-panel "+o[2]))&&y(e,"class",t),(!r||u&2)&&y(e,"aria-labelledby",o[1])},i(o){r||(D(s,o),r=!0)},o(o){U(s,o),r=!1},d(o){o&&g(e),s&&s.d(o)}}}function vs(n){let e,t,r,i,s,o,u,a;const l=n[17].default,h=ce(l,n,n[16],null);let c=n[5].panel&&un(n);return{c(){e=w("div"),t=w("div"),h&&h.c(),i=B(),c&&c.c(),this.h()},l(f){e=C(f,"DIV",{class:!0,"data-testid":!0});var d=R(e);t=C(d,"DIV",{class:!0,role:!0,"aria-labelledby":!0});var _=R(t);h&&h.l(_),_.forEach(g),i=Q(d),c&&c.l(d),d.forEach(g),this.h()},h(){y(t,"class",r="tab-list "+n[3]),y(t,"role","tablist"),y(t,"aria-labelledby",n[0]),y(e,"class",s="tab-group "+n[4]),y(e,"data-testid","tab-group")},m(f,d){j(f,e,d),m(e,t),h&&h.m(t,null),m(e,i),c&&c.m(e,null),o=!0,u||(a=[G(e,"click",n[18]),G(e,"keypress",n[19]),G(e,"keydown",n[20]),G(e,"keyup",n[21])],u=!0)},p(f,[d]){h&&h.p&&(!o||d&65536)&&fe(h,l,f,f[16],o?de(l,f[16],d,null):he(f[16]),null),(!o||d&8&&r!==(r="tab-list "+f[3]))&&y(t,"class",r),(!o||d&1)&&y(t,"aria-labelledby",f[0]),f[5].panel?c?(c.p(f,d),d&32&&D(c,1)):(c=un(f),c.c(),D(c,1),c.m(e,null)):c&&(Oe(),U(c,1,1,()=>{c=null}),Ee()),(!o||d&16&&s!==(s="tab-group "+f[4]))&&y(e,"class",s)},i(f){o||(D(h,f),D(c),o=!0)},o(f){U(h,f),U(c),o=!1},d(f){f&&g(e),h&&h.d(f),c&&c.d(),u=!1,Ne(a)}}}const ys="space-y-4",bs="flex overflow-x-auto hide-scrollbar",ms="";function gs(n,e,t){let r,i,s,{$$slots:o={},$$scope:u}=e;const a=Mr(o);let{justify:l="justify-start"}=e,{border:h="border-b border-surface-400-500-token"}=e,{active:c="border-b-2 border-surface-900-50-token"}=e,{hover:f="hover:variant-soft"}=e,{flex:d="flex-none"}=e,{padding:_="px-4 py-2"}=e,{rounded:p="rounded-tl-container-token rounded-tr-container-token"}=e,{spacing:v="space-y-1"}=e,{regionList:b=""}=e,{regionPanel:E=""}=e,{labelledby:O=""}=e,{panel:k=""}=e;Xe("active",c),Xe("hover",f),Xe("flex",d),Xe("padding",_),Xe("rounded",p),Xe("spacing",v);function q(I){Ae.call(this,n,I)}function S(I){Ae.call(this,n,I)}function M(I){Ae.call(this,n,I)}function A(I){Ae.call(this,n,I)}return n.$$set=I=>{t(22,e=Me(Me({},e),Qe(I))),"justify"in I&&t(6,l=I.justify),"border"in I&&t(7,h=I.border),"active"in I&&t(8,c=I.active),"hover"in I&&t(9,f=I.hover),"flex"in I&&t(10,d=I.flex),"padding"in I&&t(11,_=I.padding),"rounded"in I&&t(12,p=I.rounded),"spacing"in I&&t(13,v=I.spacing),"regionList"in I&&t(14,b=I.regionList),"regionPanel"in I&&t(15,E=I.regionPanel),"labelledby"in I&&t(0,O=I.labelledby),"panel"in I&&t(1,k=I.panel),"$$scope"in I&&t(16,u=I.$$scope)},n.$$.update=()=>{t(4,r=`${ys} ${e.class??""}`),n.$$.dirty&16576&&t(3,i=`${bs} ${l} ${h} ${b}`),n.$$.dirty&32768&&t(2,s=`${ms} ${E}`)},e=Qe(e),[O,k,s,i,r,a,l,h,c,f,d,_,p,v,b,E,u,o,q,S,M,A]}class cc extends Ie{constructor(e){super(),Pe(this,e,gs,vs,we,{justify:6,border:7,active:8,hover:9,flex:10,padding:11,rounded:12,spacing:13,regionList:14,regionPanel:15,labelledby:0,panel:1})}}const ks=n=>({}),ln=n=>({});function cn(n){let e,t;const r=n[22].lead,i=ce(r,n,n[21],ln);return{c(){e=w("div"),i&&i.c(),this.h()},l(s){e=C(s,"DIV",{class:!0});var o=R(e);i&&i.l(o),o.forEach(g),this.h()},h(){y(e,"class","tab-lead")},m(s,o){j(s,e,o),i&&i.m(e,null),t=!0},p(s,o){i&&i.p&&(!t||o[0]&2097152)&&fe(i,r,s,s[21],t?de(r,s[21],o,ks):he(s[21]),ln)},i(s){t||(D(i,s),t=!0)},o(s){U(i,s),t=!1},d(s){s&&g(e),i&&i.d(s)}}}function Os(n){let e,t,r,i,s,o,u,a,l,h,c,f,d,_,p,v=[{type:"radio"},{name:n[1]},{__value:n[2]},n[11](),{tabindex:"-1"}],b={};for(let q=0;q<v.length;q+=1)b=Me(b,v[q]);let E=n[12].lead&&cn(n);const O=n[22].default,k=ce(O,n,n[21],null);return d=Uo(n[30][0]),{c(){e=w("label"),t=w("div"),r=w("div"),i=w("input"),s=B(),o=w("div"),E&&E.c(),u=B(),a=w("div"),k&&k.c(),this.h()},l(q){e=C(q,"LABEL",{class:!0,title:!0});var S=R(e);t=C(S,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0});var M=R(t);r=C(M,"DIV",{class:!0});var A=R(r);i=C(A,"INPUT",{type:!0,name:!0,tabindex:!0}),A.forEach(g),s=Q(M),o=C(M,"DIV",{class:!0});var I=R(o);E&&E.l(I),u=Q(I),a=C(I,"DIV",{class:!0});var L=R(a);k&&k.l(L),L.forEach(g),I.forEach(g),M.forEach(g),S.forEach(g),this.h()},h(){Yt(i,b),y(r,"class","h-0 w-0 overflow-hidden"),y(a,"class","tab-label"),y(o,"class",l="tab-interface "+n[8]),y(t,"class",h="tab "+n[7]),y(t,"data-testid","tab"),y(t,"role","tab"),y(t,"aria-controls",n[4]),y(t,"aria-selected",n[5]),y(t,"tabindex",c=n[5]?0:-1),y(e,"class",n[9]),y(e,"title",n[3]),d.p(i)},m(q,S){j(q,e,S),m(e,t),m(t,r),m(r,i),i.autofocus&&i.focus(),n[28](i),i.checked=i.__value===n[0],m(t,s),m(t,o),E&&E.m(o,null),m(o,u),m(o,a),k&&k.m(a,null),f=!0,_||(p=[G(i,"change",n[29]),G(i,"click",n[26]),G(i,"change",n[27]),G(t,"keydown",n[10]),G(t,"keydown",n[23]),G(t,"keyup",n[24]),G(t,"keypress",n[25])],_=!0)},p(q,S){Yt(i,b=jr(v,[{type:"radio"},(!f||S[0]&2)&&{name:q[1]},(!f||S[0]&4)&&{__value:q[2]},q[11](),{tabindex:"-1"}])),S[0]&1&&(i.checked=i.__value===q[0]),q[12].lead?E?(E.p(q,S),S[0]&4096&&D(E,1)):(E=cn(q),E.c(),D(E,1),E.m(o,u)):E&&(Oe(),U(E,1,1,()=>{E=null}),Ee()),k&&k.p&&(!f||S[0]&2097152)&&fe(k,O,q,q[21],f?de(O,q[21],S,null):he(q[21]),null),(!f||S[0]&256&&l!==(l="tab-interface "+q[8]))&&y(o,"class",l),(!f||S[0]&128&&h!==(h="tab "+q[7]))&&y(t,"class",h),(!f||S[0]&16)&&y(t,"aria-controls",q[4]),(!f||S[0]&32)&&y(t,"aria-selected",q[5]),(!f||S[0]&32&&c!==(c=q[5]?0:-1))&&y(t,"tabindex",c),(!f||S[0]&512)&&y(e,"class",q[9]),(!f||S[0]&8)&&y(e,"title",q[3])},i(q){f||(D(E),D(k,q),f=!0)},o(q){U(E),U(k,q),f=!1},d(q){q&&g(e),n[28](null),E&&E.d(),k&&k.d(q),d.r(),_=!1,Ne(p)}}}const Es="text-center cursor-pointer transition-colors duration-100",Ss="";function ws(n,e,t){let r,i,s,o,u;const a=["group","name","value","title","controls","regionTab","active","hover","flex","padding","rounded","spacing"];let l=Xr(e,a),{$$slots:h={},$$scope:c}=e;const f=Mr(h);let{group:d}=e,{name:_}=e,{value:p}=e,{title:v=""}=e,{controls:b=""}=e,{regionTab:E=""}=e,{active:O=Ze("active")}=e,{hover:k=Ze("hover")}=e,{flex:q=Ze("flex")}=e,{padding:S=Ze("padding")}=e,{rounded:M=Ze("rounded")}=e,{spacing:A=Ze("spacing")}=e,I;function L(F){if(["Enter","Space"].includes(F.code))F.preventDefault(),I.click();else if(F.code==="ArrowRight"){const be=I.closest(".tab-list");if(!be)return;const ee=Array.from(be.querySelectorAll(".tab")),X=I.closest(".tab");if(!X)return;const se=ee.indexOf(X),me=se+1>=ee.length?0:se+1,te=ee[me],Se=te==null?void 0:te.querySelector("input");te&&Se&&(Se.click(),te.focus())}else if(F.code==="ArrowLeft"){const be=I.closest(".tab-list");if(!be)return;const ee=Array.from(be.querySelectorAll(".tab")),X=I.closest(".tab");if(!X)return;const se=ee.indexOf(X),me=se-1<0?ee.length-1:se-1,te=ee[me],Se=te==null?void 0:te.querySelector("input");te&&Se&&(Se.click(),te.focus())}}function z(){return delete l.class,l}const $=[[]];function J(F){Ae.call(this,n,F)}function ue(F){Ae.call(this,n,F)}function _e(F){Ae.call(this,n,F)}function re(F){Ae.call(this,n,F)}function ve(F){Ae.call(this,n,F)}function ye(F){Bo[F?"unshift":"push"](()=>{I=F,t(6,I)})}function le(){d=this.__value,t(0,d)}return n.$$set=F=>{t(32,e=Me(Me({},e),Qe(F))),t(31,l=Xr(e,a)),"group"in F&&t(0,d=F.group),"name"in F&&t(1,_=F.name),"value"in F&&t(2,p=F.value),"title"in F&&t(3,v=F.title),"controls"in F&&t(4,b=F.controls),"regionTab"in F&&t(13,E=F.regionTab),"active"in F&&t(14,O=F.active),"hover"in F&&t(15,k=F.hover),"flex"in F&&t(16,q=F.flex),"padding"in F&&t(17,S=F.padding),"rounded"in F&&t(18,M=F.rounded),"spacing"in F&&t(19,A=F.spacing),"$$scope"in F&&t(21,c=F.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&5&&t(5,r=p===d),n.$$.dirty[0]&49184&&t(20,i=r?O:k),t(9,s=`${Es} ${q} ${S} ${M} ${i} ${e.class??""}`),n.$$.dirty[0]&524288&&t(8,o=`${Ss} ${A}`),n.$$.dirty[0]&8192&&t(7,u=`${E}`)},e=Qe(e),[d,_,p,v,b,r,I,u,o,s,L,z,f,E,O,k,q,S,M,A,i,c,h,J,ue,_e,re,ve,ye,le,$]}class fc extends Ie{constructor(e){super(),Pe(this,e,ws,Os,we,{group:0,name:1,value:2,title:3,controls:4,regionTab:13,active:14,hover:15,flex:16,padding:17,rounded:18,spacing:19},null,[-1,-1])}}function fn(n){let e=n[12],t,r,i=vn(n);return{c(){i.c(),t=Y()},l(s){i.l(s),t=Y()},m(s,o){i.m(s,o),j(s,t,o),r=!0},p(s,o){o[0]&4096&&we(e,e=s[12])?(Oe(),U(i,1,1,K),Ee(),i=vn(s),i.c(),D(i,1),i.m(t.parentNode,t)):i.p(s,o)},i(s){r||(D(i),r=!0)},o(s){U(i),r=!1},d(s){s&&g(t),i.d(s)}}}function Cs(n){var l,h;let e,t,r,i,s;const o=[(l=n[14])==null?void 0:l.props,{parent:n[15]}];var u=(h=n[14])==null?void 0:h.ref;function a(c){let f={$$slots:{default:[Is]},$$scope:{ctx:c}};for(let d=0;d<o.length;d+=1)f=Me(f,o[d]);return{props:f}}return u&&(t=Zr(u,a(n))),{c(){e=w("div"),t&&De(t.$$.fragment),this.h()},l(c){e=C(c,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var f=R(e);t&&Ke(t.$$.fragment,f),f.forEach(g),this.h()},h(){var c;y(e,"class",r="modal contents "+(((c=n[12][0])==null?void 0:c.modalClasses)??"")),y(e,"data-testid","modal-component"),y(e,"role","dialog"),y(e,"aria-modal","true"),y(e,"aria-label",i=n[12][0].title??"")},m(c,f){j(c,e,f),t&&Fe(t,e,null),s=!0},p(c,f){var _,p,v;const d=f[0]&49152?jr(o,[f[0]&16384&&Go((_=c[14])==null?void 0:_.props),f[0]&32768&&{parent:c[15]}]):{};if(f[0]&16384|f[1]&8192&&(d.$$scope={dirty:f,ctx:c}),f[0]&16384&&u!==(u=(p=c[14])==null?void 0:p.ref)){if(t){Oe();const b=t;U(b.$$.fragment,1,0,()=>{Le(b,1)}),Ee()}u?(t=Zr(u,a(c)),De(t.$$.fragment),D(t.$$.fragment,1),Fe(t,e,null)):t=null}else u&&t.$set(d);(!s||f[0]&4096&&r!==(r="modal contents "+(((v=c[12][0])==null?void 0:v.modalClasses)??"")))&&y(e,"class",r),(!s||f[0]&4096&&i!==(i=c[12][0].title??""))&&y(e,"aria-label",i)},i(c){s||(t&&D(t.$$.fragment,c),s=!0)},o(c){t&&U(t.$$.fragment,c),s=!1},d(c){c&&g(e),t&&Le(t)}}}function qs(n){var p,v,b,E;let e,t,r,i,s,o,u,a,l=((p=n[12][0])==null?void 0:p.title)&&dn(n),h=((v=n[12][0])==null?void 0:v.body)&&_n(n),c=((b=n[12][0])==null?void 0:b.image)&&typeof((E=n[12][0])==null?void 0:E.image)=="string"&&pn(n);function f(O,k){if(O[12][0].type==="alert")return Ts;if(O[12][0].type==="confirm")return Rs;if(O[12][0].type==="prompt")return Ps}let d=f(n),_=d&&d(n);return{c(){e=w("div"),l&&l.c(),t=B(),h&&h.c(),r=B(),c&&c.c(),i=B(),_&&_.c(),this.h()},l(O){e=C(O,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-label":!0});var k=R(e);l&&l.l(k),t=Q(k),h&&h.l(k),r=Q(k),c&&c.l(k),i=Q(k),_&&_.l(k),k.forEach(g),this.h()},h(){y(e,"class",s="modal "+n[16]),y(e,"data-testid","modal"),y(e,"role","dialog"),y(e,"aria-modal","true"),y(e,"aria-label",o=n[12][0].title??"")},m(O,k){j(O,e,k),l&&l.m(e,null),m(e,t),h&&h.m(e,null),m(e,r),c&&c.m(e,null),m(e,i),_&&_.m(e,null),a=!0},p(O,k){var q,S,M,A;n=O,(q=n[12][0])!=null&&q.title?l?l.p(n,k):(l=dn(n),l.c(),l.m(e,t)):l&&(l.d(1),l=null),(S=n[12][0])!=null&&S.body?h?h.p(n,k):(h=_n(n),h.c(),h.m(e,r)):h&&(h.d(1),h=null),(M=n[12][0])!=null&&M.image&&typeof((A=n[12][0])==null?void 0:A.image)=="string"?c?c.p(n,k):(c=pn(n),c.c(),c.m(e,i)):c&&(c.d(1),c=null),d===(d=f(n))&&_?_.p(n,k):(_&&_.d(1),_=d&&d(n),_&&(_.c(),_.m(e,null))),(!a||k[0]&65536&&s!==(s="modal "+n[16]))&&y(e,"class",s),(!a||k[0]&4096&&o!==(o=n[12][0].title??""))&&y(e,"aria-label",o)},i(O){a||(wr(()=>{a&&(u||(u=rt(e,Zt,{duration:n[3],opacity:0,y:100},!0)),u.run(1))}),a=!0)},o(O){u||(u=rt(e,Zt,{duration:n[3],opacity:0,y:100},!1)),u.run(0),a=!1},d(O){O&&g(e),l&&l.d(),h&&h.d(),c&&c.d(),_&&_.d(),O&&u&&u.end()}}}function hn(n){var i;let e,t=((i=n[14])==null?void 0:i.slot)+"",r;return{c(){e=new Vo(!1),r=Y(),this.h()},l(s){e=zo(s,!1),r=Y(),this.h()},h(){e.a=r},m(s,o){e.m(t,s,o),j(s,r,o)},p(s,o){var u;o[0]&16384&&t!==(t=((u=s[14])==null?void 0:u.slot)+"")&&e.p(t)},d(s){s&&g(r),s&&e.d()}}}function Is(n){var r;let e,t=((r=n[14])==null?void 0:r.slot)&&hn(n);return{c(){t&&t.c(),e=Y()},l(i){t&&t.l(i),e=Y()},m(i,s){t&&t.m(i,s),j(i,e,s)},p(i,s){var o;(o=i[14])!=null&&o.slot?t?t.p(i,s):(t=hn(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&g(e)}}}function dn(n){let e,t=n[12][0].title+"",r;return{c(){e=w("header"),this.h()},l(i){e=C(i,"HEADER",{class:!0});var s=R(e);s.forEach(g),this.h()},h(){y(e,"class",r="modal-header "+n[9])},m(i,s){j(i,e,s),e.innerHTML=t},p(i,s){s[0]&4096&&t!==(t=i[12][0].title+"")&&(e.innerHTML=t),s[0]&512&&r!==(r="modal-header "+i[9])&&y(e,"class",r)},d(i){i&&g(e)}}}function _n(n){let e,t=n[12][0].body+"",r;return{c(){e=w("article"),this.h()},l(i){e=C(i,"ARTICLE",{class:!0});var s=R(e);s.forEach(g),this.h()},h(){y(e,"class",r="modal-body "+n[10])},m(i,s){j(i,e,s),e.innerHTML=t},p(i,s){s[0]&4096&&t!==(t=i[12][0].body+"")&&(e.innerHTML=t),s[0]&1024&&r!==(r="modal-body "+i[10])&&y(e,"class",r)},d(i){i&&g(e)}}}function pn(n){let e,t;return{c(){e=w("img"),this.h()},l(r){e=C(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){var r;y(e,"class","modal-image "+Fs),pe(e.src,t=(r=n[12][0])==null?void 0:r.image)||y(e,"src",t),y(e,"alt","Modal")},m(r,i){j(r,e,i)},p(r,i){var s;i[0]&4096&&!pe(e.src,t=(s=r[12][0])==null?void 0:s.image)&&y(e,"src",t)},d(r){r&&g(e)}}}function Ps(n){let e,t,r,i,s,o,u,a,l,h,c,f,d,_,p=[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},n[12][0].valueAttr],v={};for(let b=0;b<p.length;b+=1)v=Me(v,p[b]);return{c(){e=w("form"),t=w("input"),r=B(),i=w("footer"),s=w("button"),o=N(n[0]),a=B(),l=w("button"),h=N(n[2]),this.h()},l(b){e=C(b,"FORM",{class:!0});var E=R(e);t=C(E,"INPUT",{class:!0,name:!0,type:!0}),r=Q(E),i=C(E,"FOOTER",{class:!0});var O=R(i);s=C(O,"BUTTON",{type:!0,class:!0});var k=R(s);o=H(k,n[0]),k.forEach(g),a=Q(O),l=C(O,"BUTTON",{type:!0,class:!0});var q=R(l);h=H(q,n[2]),q.forEach(g),O.forEach(g),E.forEach(g),this.h()},h(){Yt(t,v),y(s,"type","button"),y(s,"class",u="btn "+n[7]),y(l,"type","submit"),y(l,"class",c="btn "+n[8]),y(i,"class",f="modal-footer "+n[11]),y(e,"class","space-y-4")},m(b,E){j(b,e,E),m(e,t),t.autofocus&&t.focus(),Xt(t,n[13]),m(e,r),m(e,i),m(i,s),m(s,o),m(i,a),m(i,l),m(l,h),d||(_=[G(t,"input",n[39]),G(s,"click",n[21]),G(e,"submit",n[23])],d=!0)},p(b,E){Yt(t,v=jr(p,[{class:"modal-prompt-input input"},{name:"prompt"},{type:"text"},E[0]&4096&&b[12][0].valueAttr])),E[0]&8192&&t.value!==b[13]&&Xt(t,b[13]),E[0]&1&&V(o,b[0]),E[0]&128&&u!==(u="btn "+b[7])&&y(s,"class",u),E[0]&4&&V(h,b[2]),E[0]&256&&c!==(c="btn "+b[8])&&y(l,"class",c),E[0]&2048&&f!==(f="modal-footer "+b[11])&&y(i,"class",f)},d(b){b&&g(e),d=!1,Ne(_)}}}function Rs(n){let e,t,r,i,s,o,u,a,l,h,c;return{c(){e=w("footer"),t=w("button"),r=N(n[0]),s=B(),o=w("button"),u=N(n[1]),this.h()},l(f){e=C(f,"FOOTER",{class:!0});var d=R(e);t=C(d,"BUTTON",{type:!0,class:!0});var _=R(t);r=H(_,n[0]),_.forEach(g),s=Q(d),o=C(d,"BUTTON",{type:!0,class:!0});var p=R(o);u=H(p,n[1]),p.forEach(g),d.forEach(g),this.h()},h(){y(t,"type","button"),y(t,"class",i="btn "+n[7]),y(o,"type","button"),y(o,"class",a="btn "+n[8]),y(e,"class",l="modal-footer "+n[11])},m(f,d){j(f,e,d),m(e,t),m(t,r),m(e,s),m(e,o),m(o,u),h||(c=[G(t,"click",n[21]),G(o,"click",n[22])],h=!0)},p(f,d){d[0]&1&&V(r,f[0]),d[0]&128&&i!==(i="btn "+f[7])&&y(t,"class",i),d[0]&2&&V(u,f[1]),d[0]&256&&a!==(a="btn "+f[8])&&y(o,"class",a),d[0]&2048&&l!==(l="modal-footer "+f[11])&&y(e,"class",l)},d(f){f&&g(e),h=!1,Ne(c)}}}function Ts(n){let e,t,r,i,s,o,u;return{c(){e=w("footer"),t=w("button"),r=N(n[0]),this.h()},l(a){e=C(a,"FOOTER",{class:!0});var l=R(e);t=C(l,"BUTTON",{type:!0,class:!0});var h=R(t);r=H(h,n[0]),h.forEach(g),l.forEach(g),this.h()},h(){y(t,"type","button"),y(t,"class",i="btn "+n[7]),y(e,"class",s="modal-footer "+n[11])},m(a,l){j(a,e,l),m(e,t),m(t,r),o||(u=G(t,"click",n[21]),o=!0)},p(a,l){l[0]&1&&V(r,a[0]),l[0]&128&&i!==(i="btn "+a[7])&&y(t,"class",i),l[0]&2048&&s!==(s="modal-footer "+a[11])&&y(e,"class",s)},d(a){a&&g(e),o=!1,u()}}}function vn(n){let e,t,r,i,s,o,u,a,l,h,c;const f=[qs,Cs],d=[];function _(p,v){return p[12][0].type!=="component"?0:1}return r=_(n),i=d[r]=f[r](n),{c(){e=w("div"),t=w("div"),i.c(),this.h()},l(p){e=C(p,"DIV",{class:!0,"data-testid":!0});var v=R(e);t=C(v,"DIV",{class:!0});var b=R(t);i.l(b),b.forEach(g),v.forEach(g),this.h()},h(){y(t,"class",s="modal-transition "+n[17]),y(e,"class",u="modal-backdrop "+n[18]),y(e,"data-testid","modal-backdrop")},m(p,v){j(p,e,v),m(e,t),d[r].m(t,null),l=!0,h||(c=[G(e,"mousedown",n[19]),G(e,"mouseup",n[20]),G(e,"touchstart",n[37]),G(e,"touchend",n[38]),Ko(ns.call(null,e,!0))],h=!0)},p(p,v){n=p;let b=r;r=_(n),r===b?d[r].p(n,v):(Oe(),U(d[b],1,1,()=>{d[b]=null}),Ee(),i=d[r],i?i.p(n,v):(i=d[r]=f[r](n),i.c()),D(i,1),i.m(t,null)),(!l||v[0]&131072&&s!==(s="modal-transition "+n[17]))&&y(t,"class",s),(!l||v[0]&262144&&u!==(u="modal-backdrop "+n[18]))&&y(e,"class",u)},i(p){l||(D(i),wr(()=>{l&&(o||(o=rt(t,Zt,{duration:n[3],opacity:n[4],x:n[5],y:n[6]},!0)),o.run(1))}),wr(()=>{l&&(a||(a=rt(e,$r,{duration:n[3]},!0)),a.run(1))}),l=!0)},o(p){U(i),o||(o=rt(t,Zt,{duration:n[3],opacity:n[4],x:n[5],y:n[6]},!1)),o.run(0),a||(a=rt(e,$r,{duration:n[3]},!1)),a.run(0),l=!1},d(p){p&&g(e),d[r].d(),p&&o&&o.end(),p&&a&&a.end(),h=!1,Ne(c)}}}function As(n){let e,t,r,i,s=n[12].length>0&&fn(n);return{c(){s&&s.c(),e=Y()},l(o){s&&s.l(o),e=Y()},m(o,u){s&&s.m(o,u),j(o,e,u),t=!0,r||(i=G(window,"keydown",n[24]),r=!0)},p(o,u){o[12].length>0?s?(s.p(o,u),u[0]&4096&&D(s,1)):(s=fn(o),s.c(),D(s,1),s.m(e.parentNode,e)):s&&(Oe(),U(s,1,1,()=>{s=null}),Ee())},i(o){t||(D(s),t=!0)},o(o){U(s),t=!1},d(o){s&&s.d(o),o&&g(e),r=!1,i()}}}const Ms="fixed top-0 left-0 right-0 bottom-0",js="w-full h-full p-4 overflow-y-auto flex justify-center",Ds="block",Fs="w-full h-auto";function Ls(n,e,t){let r,i,s,o,u,a;et(n,qe,P=>t(12,a=P));const l=Qo();let{position:h="items-center"}=e,{components:c={}}=e,{duration:f=150}=e,{flyOpacity:d=0}=e,{flyX:_=0}=e,{flyY:p=100}=e,{background:v="bg-surface-100-800-token"}=e,{width:b="w-modal"}=e,{height:E="h-auto"}=e,{padding:O="p-4"}=e,{spacing:k="space-y-4"}=e,{rounded:q="rounded-container-token"}=e,{shadow:S="shadow-xl"}=e,{zIndex:M="z-[999]"}=e,{buttonNeutral:A="variant-ghost-surface"}=e,{buttonPositive:I="variant-filled"}=e,{buttonTextCancel:L="Cancel"}=e,{buttonTextConfirm:z="Confirm"}=e,{buttonTextSubmit:$="Submit"}=e,{regionBackdrop:J="bg-surface-backdrop-token"}=e,{regionHeader:ue="text-2xl font-bold"}=e,{regionBody:_e="max-h-[200px] overflow-hidden"}=e,{regionFooter:re="flex justify-end space-x-2"}=e,ve;const ye={buttonTextCancel:L,buttonTextConfirm:z,buttonTextSubmit:$};let le,F=!1;qe.subscribe(P=>{P.length&&(P[0].type==="prompt"&&t(13,ve=P[0].value),t(0,L=P[0].buttonTextCancel||ye.buttonTextCancel),t(1,z=P[0].buttonTextConfirm||ye.buttonTextConfirm),t(2,$=P[0].buttonTextSubmit||ye.buttonTextSubmit),t(14,le=typeof P[0].component=="string"?c[P[0].component]:P[0].component))});function be(P){if(!(P.target instanceof Element))return;const ne=P.target.classList;(ne.contains("modal-backdrop")||ne.contains("modal-transition"))&&(F=!0)}function ee(P){if(!(P.target instanceof Element))return;const ne=P.target.classList;(ne.contains("modal-backdrop")||ne.contains("modal-transition"))&&F&&(a[0].response&&a[0].response(void 0),qe.close(),l("backdrop",P)),F=!1}function X(){a[0].response&&a[0].response(!1),qe.close()}function se(){a[0].response&&a[0].response(!0),qe.close()}function me(P){P.preventDefault(),a[0].response&&a[0].response(ve),qe.close()}function te(P){a.length&&P.code==="Escape"&&X()}function Se(P){Ae.call(this,n,P)}function Z(P){Ae.call(this,n,P)}function Ce(){ve=this.value,t(13,ve)}return n.$$set=P=>{t(43,e=Me(Me({},e),Qe(P))),"position"in P&&t(25,h=P.position),"components"in P&&t(26,c=P.components),"duration"in P&&t(3,f=P.duration),"flyOpacity"in P&&t(4,d=P.flyOpacity),"flyX"in P&&t(5,_=P.flyX),"flyY"in P&&t(6,p=P.flyY),"background"in P&&t(27,v=P.background),"width"in P&&t(28,b=P.width),"height"in P&&t(29,E=P.height),"padding"in P&&t(30,O=P.padding),"spacing"in P&&t(31,k=P.spacing),"rounded"in P&&t(32,q=P.rounded),"shadow"in P&&t(33,S=P.shadow),"zIndex"in P&&t(34,M=P.zIndex),"buttonNeutral"in P&&t(7,A=P.buttonNeutral),"buttonPositive"in P&&t(8,I=P.buttonPositive),"buttonTextCancel"in P&&t(0,L=P.buttonTextCancel),"buttonTextConfirm"in P&&t(1,z=P.buttonTextConfirm),"buttonTextSubmit"in P&&t(2,$=P.buttonTextSubmit),"regionBackdrop"in P&&t(35,J=P.regionBackdrop),"regionHeader"in P&&t(9,ue=P.regionHeader),"regionBody"in P&&t(10,_e=P.regionBody),"regionFooter"in P&&t(11,re=P.regionFooter)},n.$$.update=()=>{var P,ne,Te;n.$$.dirty[0]&33558528&&t(36,r=((P=a[0])==null?void 0:P.position)??h),t(18,i=`${Ms} ${J} ${M} ${e.class??""} ${((ne=a[0])==null?void 0:ne.backdropClasses)??""}`),n.$$.dirty[1]&32&&t(17,s=`${js} ${r??""}`),n.$$.dirty[0]&2013270016|n.$$.dirty[1]&7&&t(16,o=`${Ds} ${v} ${b} ${E} ${O} ${k} ${q} ${S} ${((Te=a[0])==null?void 0:Te.modalClasses)??""}`),n.$$.dirty[0]&2046824447|n.$$.dirty[1]&23&&t(15,u={position:h,duration:f,flyOpacity:d,flyX:_,flyY:p,background:v,width:b,height:E,padding:O,spacing:k,rounded:q,shadow:S,buttonNeutral:A,buttonPositive:I,buttonTextCancel:L,buttonTextConfirm:z,buttonTextSubmit:$,regionBackdrop:J,regionHeader:ue,regionBody:_e,regionFooter:re,onClose:X})},e=Qe(e),[L,z,$,f,d,_,p,A,I,ue,_e,re,a,ve,le,u,o,s,i,be,ee,X,se,me,te,h,c,v,b,E,O,k,q,S,M,J,r,Se,Z,Ce]}class hc extends Ie{constructor(e){super(),Pe(this,e,Ls,As,we,{position:25,components:26,duration:3,flyOpacity:4,flyX:5,flyY:6,background:27,width:28,height:29,padding:30,spacing:31,rounded:32,shadow:33,zIndex:34,buttonNeutral:7,buttonPositive:8,buttonTextCancel:0,buttonTextConfirm:1,buttonTextSubmit:2,regionBackdrop:35,regionHeader:9,regionBody:10,regionFooter:11},null,[-1,-1])}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */const Dr=it();var Cr=function(n,e){return Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Cr(n,e)};function Fr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cr(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Ns(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function u(h){try{l(r.next(h))}catch(c){o(c)}}function a(h){try{l(r.throw(h))}catch(c){o(c)}}function l(h){h.done?s(h.value):i(h.value).then(u,a)}l((r=r.apply(n,e||[])).next())})}function Xi(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(l){return function(h){return a([l,h])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(t=0)),t;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(n,t)}catch(h){l=[6,h],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ft(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $t(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function er(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}function nt(n){return this instanceof nt?(this.v=n,this):new nt(n)}function Hs(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(d){return new Promise(function(_,p){s.push([f,d,_,p])>1||u(f,d)})})}function u(f,d){try{a(r[f](d))}catch(_){c(s[0][3],_)}}function a(f){f.value instanceof nt?Promise.resolve(f.value.v).then(l,h):c(s[0][2],f)}function l(f){u("next",f)}function h(f){u("throw",f)}function c(f,d){f(d),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Us(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ft=="function"?Ft(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(u,a){o=n[s](o),i(u,a,o.done,o.value)})}}function i(s,o,u,a){Promise.resolve(a).then(function(l){s({value:l,done:u})},o)}}function ae(n){return typeof n=="function"}function Bs(n){var e=function(r){Error.call(r),r.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var fr=Bs(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function yn(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Lr=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var u=Ft(o),a=u.next();!a.done;a=u.next()){var l=a.value;l.remove(this)}}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else o.remove(this);var h=this.initialTeardown;if(ae(h))try{h()}catch(p){s=p instanceof fr?p.errors:[p]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var f=Ft(c),d=f.next();!d.done;d=f.next()){var _=d.value;try{bn(_)}catch(p){s=s??[],p instanceof fr?s=er(er([],$t(s)),$t(p.errors)):s.push(p)}}}catch(p){r={error:p}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(s)throw new fr(s)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)bn(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&yn(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&yn(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}();Lr.EMPTY;function Zi(n){return n instanceof Lr||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function bn(n){ae(n)?n():n.unsubscribe()}var xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qr={setTimeout:function(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];var i=qr.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,er([n,e],$t(t))):setTimeout.apply(void 0,er([n,e],$t(t)))},clearTimeout:function(n){var e=qr.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function $i(n){qr.setTimeout(function(){throw n})}function mn(){}function Qs(n){n()}var Nr=function(n){Fr(e,n);function e(t){var r=n.call(this)||this;return r.isStopped=!1,t?(r.destination=t,Zi(t)&&t.add(r)):r.destination=zs,r}return e.create=function(t,r,i){return new Ir(t,r,i)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Lr),Ks=Function.prototype.bind;function hr(n,e){return Ks.call(n,e)}var Gs=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){Bt(r)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){Bt(r)}else Bt(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Bt(t)}},n}(),Ir=function(n){Fr(e,n);function e(t,r,i){var s=n.call(this)||this,o;if(ae(t)||!t)o={next:t??void 0,error:r??void 0,complete:i??void 0};else{var u;s&&xi.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&hr(t.next,u),error:t.error&&hr(t.error,u),complete:t.complete&&hr(t.complete,u)}):o=t}return s.destination=new Gs(o),s}return e}(Nr);function Bt(n){$i(n)}function Vs(n){throw n}var zs={closed:!0,next:mn,error:Vs,complete:mn},Hr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function eo(n){return n}function or(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return to(n)}function to(n){return n.length===0?eo:n.length===1?n[0]:function(t){return n.reduce(function(r,i){return i(r)},t)}}var He=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,r){var i=this,s=Ws(e)?e:new Ir(e,t,r);return Qs(function(){var o=i,u=o.operator,a=o.source;s.add(u?u.call(s,a):a?i._subscribe(s):i._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var r=this;return t=gn(t),new t(function(i,s){var o=new Ir({next:function(u){try{e(u)}catch(a){s(a),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[Hr]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return to(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=gn(e),new e(function(r,i){var s;t.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},n.create=function(e){return new n(e)},n}();function gn(n){var e;return(e=n??xi.Promise)!==null&&e!==void 0?e:Promise}function Js(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function Ws(n){return n&&n instanceof Nr||Js(n)&&Zi(n)}function Ys(n){return ae(n==null?void 0:n.lift)}function tt(n){return function(e){if(Ys(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ot(n,e,t,r,i){return new Xs(n,e,t,r,i)}var Xs=function(n){Fr(e,n);function e(t,r,i,s,o,u){var a=n.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=u,a._next=r?function(l){try{r(l)}catch(h){t.error(h)}}:n.prototype._next,a._error=s?function(l){try{s(l)}catch(h){t.error(h)}finally{this.unsubscribe()}}:n.prototype._error,a._complete=i?function(){try{i()}catch(l){t.error(l)}finally{this.unsubscribe()}}:n.prototype._complete,a}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;n.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(Nr);function Zs(n){return n&&ae(n.schedule)}function xs(n){return n[n.length-1]}function ro(n){return Zs(xs(n))?n.pop():void 0}var no=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function io(n){return ae(n==null?void 0:n.then)}function oo(n){return ae(n[Hr])}function so(n){return Symbol.asyncIterator&&ae(n==null?void 0:n[Symbol.asyncIterator])}function ao(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function $s(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uo=$s();function lo(n){return ae(n==null?void 0:n[uo])}function co(n){return Hs(this,arguments,function(){var t,r,i,s;return Xi(this,function(o){switch(o.label){case 0:t=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,nt(t.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,nt(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,nt(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function fo(n){return ae(n==null?void 0:n.getReader)}function Nt(n){if(n instanceof He)return n;if(n!=null){if(oo(n))return ea(n);if(no(n))return ta(n);if(io(n))return ra(n);if(so(n))return ho(n);if(lo(n))return na(n);if(fo(n))return ia(n)}throw ao(n)}function ea(n){return new He(function(e){var t=n[Hr]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ta(n){return new He(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ra(n){return new He(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,$i)})}function na(n){return new He(function(e){var t,r;try{for(var i=Ft(n),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(u){t={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}e.complete()})}function ho(n){return new He(function(e){oa(n,e).catch(function(t){return e.error(t)})})}function ia(n){return ho(co(n))}function oa(n,e){var t,r,i,s;return Ns(this,void 0,void 0,function(){var o,u;return Xi(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),t=Us(n),a.label=1;case 1:return[4,t.next()];case 2:if(r=a.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=a.sent(),i={error:u},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Be(n,e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function _o(n,e){return e===void 0&&(e=0),tt(function(t,r){t.subscribe(ot(r,function(i){return Be(r,n,function(){return r.next(i)},e)},function(){return Be(r,n,function(){return r.complete()},e)},function(i){return Be(r,n,function(){return r.error(i)},e)}))})}function po(n,e){return e===void 0&&(e=0),tt(function(t,r){r.add(n.schedule(function(){return t.subscribe(r)},e))})}function sa(n,e){return Nt(n).pipe(po(e),_o(e))}function aa(n,e){return Nt(n).pipe(po(e),_o(e))}function ua(n,e){return new He(function(t){var r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function la(n,e){return new He(function(t){var r;return Be(t,e,function(){r=n[uo](),Be(t,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(u){t.error(u);return}o?t.complete():t.next(s)},0,!0)}),function(){return ae(r==null?void 0:r.return)&&r.return()}})}function vo(n,e){if(!n)throw new Error("Iterable cannot be null");return new He(function(t){Be(t,e,function(){var r=n[Symbol.asyncIterator]();Be(t,e,function(){r.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function ca(n,e){return vo(co(n),e)}function fa(n,e){if(n!=null){if(oo(n))return sa(n,e);if(no(n))return ua(n,e);if(io(n))return aa(n,e);if(so(n))return vo(n,e);if(lo(n))return la(n,e);if(fo(n))return ca(n,e)}throw ao(n)}function yo(n,e){return e?fa(n,e):Nt(n)}function Ur(n,e){return tt(function(t,r){var i=0;t.subscribe(ot(r,function(s){r.next(n.call(e,s,i++))}))})}function ha(n,e,t,r,i,s,o,u){var a=[],l=0,h=0,c=!1,f=function(){c&&!a.length&&!l&&e.complete()},d=function(p){return l<r?_(p):a.push(p)},_=function(p){s&&e.next(p),l++;var v=!1;Nt(t(p,h++)).subscribe(ot(e,function(b){i==null||i(b),s?d(b):e.next(b)},function(){v=!0},void 0,function(){if(v)try{l--;for(var b=function(){var E=a.shift();o?Be(e,o,function(){return _(E)}):_(E)};a.length&&l<r;)b();f()}catch(E){e.error(E)}}))};return n.subscribe(ot(e,d,function(){c=!0,f()})),function(){u==null||u()}}function bo(n,e,t){return t===void 0&&(t=1/0),ae(e)?bo(function(r,i){return Ur(function(s,o){return e(r,s,i,o)})(Nt(n(r,i)))},t):(typeof e=="number"&&(t=e),tt(function(r,i){return ha(r,i,n,t)}))}function da(n){return n===void 0&&(n=1/0),bo(eo,n)}function _a(){return da(1)}function kn(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return _a()(yo(n,ro(n)))}function mo(n,e){return tt(function(t,r){var i=0;t.subscribe(ot(r,function(s){return n.call(e,s,i++)&&r.next(s)}))})}function pa(n,e,t,r,i){return function(s,o){var u=t,a=e,l=0;s.subscribe(ot(o,function(h){var c=l++;a=u?n(a,h,c):(u=!0,h),r&&o.next(a)},i&&function(){u&&o.next(a),o.complete()}))}}function va(n,e){return tt(pa(n,e,arguments.length>=2,!0))}function ya(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=ro(n);return tt(function(r,i){(t?kn(n,r,t):kn(n,r)).subscribe(i)})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function ba(n){return mo(e=>e.event.id===n)}function ma(n){return mo(e=>e.event.pubkey===n)}function ga(){return va((n,e)=>[...n,e],[])}function ka(n){return or(ga(),Ur(e=>{const t=new Map;return e.forEach(r=>{const i=n(r),s=t.get(i);s?t.set(i,[...s,r]):t.set(i,[r])}),t}))}function Oa(n){return or(ka(n),Ur(e=>Array.from(e.entries()).map(([,t])=>t.slice(-1)[0])))}class Ht{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Lt=typeof window>"u"||"Deno"in window;function Re(){}function Ea(n,e){return typeof n=="function"?n(e):n}function Pr(n){return typeof n=="number"&&n>=0&&n!==1/0}function go(n,e){return Math.max(n+(e||0)-Date.now(),0)}function jt(n,e,t){return sr(n)?typeof e=="function"?{...t,queryKey:n,queryFn:e}:{...e,queryKey:n}:n}function Ue(n,e,t){return sr(n)?[{...e,queryKey:n},t]:[n||{},e]}function On(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:u}=n;if(sr(o)){if(r){if(e.queryHash!==Br(o,e.options))return!1}else if(!tr(e.queryKey,o))return!1}if(t!=="all"){const a=e.isActive();if(t==="active"&&!a||t==="inactive"&&a)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function En(n,e){const{exact:t,fetching:r,predicate:i,mutationKey:s}=n;if(sr(s)){if(!e.options.mutationKey)return!1;if(t){if(xe(e.options.mutationKey)!==xe(s))return!1}else if(!tr(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Br(n,e){return((e==null?void 0:e.queryKeyHashFn)||xe)(n)}function xe(n){return JSON.stringify(n,(e,t)=>Rr(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function tr(n,e){return ko(n,e)}function ko(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!ko(n[t],e[t])):!1}function Oo(n,e){if(n===e)return n;const t=wn(n)&&wn(e);if(t||Rr(n)&&Rr(e)){const r=t?n.length:Object.keys(n).length,i=t?e:Object.keys(e),s=i.length,o=t?[]:{};let u=0;for(let a=0;a<s;a++){const l=t?a:i[a];o[l]=Oo(n[l],e[l]),o[l]===n[l]&&u++}return r===s&&u===r?n:o}return e}function Sn(n,e){if(n&&!e||e&&!n)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function wn(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Rr(n){if(!Cn(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!Cn(t)||!t.hasOwnProperty("isPrototypeOf"))}function Cn(n){return Object.prototype.toString.call(n)==="[object Object]"}function sr(n){return Array.isArray(n)}function Eo(n){return new Promise(e=>{setTimeout(e,n)})}function qn(n){Eo(0).then(n)}function Sa(){if(typeof AbortController=="function")return new AbortController}function Tr(n,e,t){return t.isDataEqual!=null&&t.isDataEqual(n,e)?n:typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Oo(n,e):e}class wa extends Ht{constructor(){super(),this.setup=e=>{if(!Lt&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const rr=new wa,In=["online","offline"];class Ca extends Ht{constructor(){super(),this.setup=e=>{if(!Lt&&window.addEventListener){const t=()=>e();return In.forEach(r=>{window.addEventListener(r,t,!1)}),()=>{In.forEach(r=>{window.removeEventListener(r,t)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,(t=this.cleanup)==null||t.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const nr=new Ca;function qa(n){return Math.min(1e3*2**n,3e4)}function ar(n){return(n??"online")==="online"?nr.isOnline():!0}class So{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Wt(n){return n instanceof So}function wo(n){let e=!1,t=0,r=!1,i,s,o;const u=new Promise((v,b)=>{s=v,o=b}),a=v=>{r||(d(new So(v)),n.abort==null||n.abort())},l=()=>{e=!0},h=()=>{e=!1},c=()=>!rr.isFocused()||n.networkMode!=="always"&&!nr.isOnline(),f=v=>{r||(r=!0,n.onSuccess==null||n.onSuccess(v),i==null||i(),s(v))},d=v=>{r||(r=!0,n.onError==null||n.onError(v),i==null||i(),o(v))},_=()=>new Promise(v=>{i=b=>{const E=r||!c();return E&&v(b),E},n.onPause==null||n.onPause()}).then(()=>{i=void 0,r||n.onContinue==null||n.onContinue()}),p=()=>{if(r)return;let v;try{v=n.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var E,O;if(r)return;const k=(E=n.retry)!=null?E:3,q=(O=n.retryDelay)!=null?O:qa,S=typeof q=="function"?q(t,b):q,M=k===!0||typeof k=="number"&&t<k||typeof k=="function"&&k(t,b);if(e||!M){d(b);return}t++,n.onFail==null||n.onFail(t,b),Eo(S).then(()=>{if(c())return _()}).then(()=>{e?d(b):p()})})};return ar(n.networkMode)?p():_().then(p),{promise:u,cancel:a,continue:()=>(i==null?void 0:i())?u:Promise.resolve(),cancelRetry:l,continueRetry:h}}const Qr=console;function Ia(){let n=[],e=0,t=h=>{h()},r=h=>{h()};const i=h=>{let c;e++;try{c=h()}finally{e--,e||u()}return c},s=h=>{e?n.push(h):qn(()=>{t(h)})},o=h=>(...c)=>{s(()=>{h(...c)})},u=()=>{const h=n;n=[],h.length&&qn(()=>{r(()=>{h.forEach(c=>{t(c)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{r=h}}}const oe=Ia();class Co{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pr(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Lt?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Pa extends Co{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Qr,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Ra(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,t){const r=Tr(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=this.promise;return(t=this.retryer)==null||t.cancel(e),r?r.then(Re).catch(Re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!go(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var s;return(s=this.retryer)==null||s.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(_=>_.options.queryFn);d&&this.setOptions(d.options)}Array.isArray(this.options.queryKey);const o=Sa(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},a=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};a(u);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(a(h),(r=this.options.behavior)==null||r.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=h.fetchOptions)==null?void 0:i.meta)){var c;this.dispatch({type:"fetch",meta:(c=h.fetchOptions)==null?void 0:c.meta})}const f=d=>{if(Wt(d)&&d.silent||this.dispatch({type:"error",error:d}),!Wt(d)){var _,p,v,b;(_=(p=this.cache.config).onError)==null||_.call(p,d,this),(v=(b=this.cache.config).onSettled)==null||v.call(b,this.state.data,d,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=wo({fn:h.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:d=>{var _,p,v,b;if(typeof d>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(d),(_=(p=this.cache.config).onSuccess)==null||_.call(p,d,this),(v=(b=this.cache.config).onSettled)==null||v.call(b,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(d,_)=>{this.dispatch({type:"failed",failureCount:d,error:_})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const t=r=>{var i,s;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:ar(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Wt(o)&&o.revert&&this.revertState?{...this.revertState}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),oe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Ra(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=typeof e<"u",r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"loading",fetchStatus:"idle"}}class Ta extends Ht{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var i;const s=t.queryKey,o=(i=t.queryHash)!=null?i:Br(s,t);let u=this.get(o);return u||(u=new Pa({cache:this,logger:e.getLogger(),queryKey:s,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(u)),u}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){oe.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[r]=Ue(e,t);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>On(r,i))}findAll(e,t){const[r]=Ue(e,t);return Object.keys(r).length>0?this.queries.filter(i=>On(r,i)):this.queries}notify(e){oe.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}onFocus(){oe.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){oe.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Aa extends Co{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Qr,this.observers=[],this.state=e.state||Ma(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(t=>t!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return(e=(t=this.retryer)==null?void 0:t.continue())!=null?e:this.execute()}async execute(){const e=()=>{var M;return this.retryer=wo({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(A,I)=>{this.dispatch({type:"failed",failureCount:A,error:I})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(M=this.options.retry)!=null?M:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t=this.state.status==="loading";try{var r,i,s,o,u,a,l,h;if(!t){var c,f,d,_;this.dispatch({type:"loading",variables:this.options.variables}),await((c=(f=this.mutationCache.config).onMutate)==null?void 0:c.call(f,this.state.variables,this));const A=await((d=(_=this.options).onMutate)==null?void 0:d.call(_,this.state.variables));A!==this.state.context&&this.dispatch({type:"loading",context:A,variables:this.state.variables})}const M=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,M,this.state.variables,this.state.context,this)),await((s=(o=this.options).onSuccess)==null?void 0:s.call(o,M,this.state.variables,this.state.context)),await((u=(a=this.mutationCache.config).onSettled)==null?void 0:u.call(a,M,null,this.state.variables,this.state.context,this)),await((l=(h=this.options).onSettled)==null?void 0:l.call(h,M,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:M}),M}catch(M){try{var p,v,b,E,O,k,q,S;throw await((p=(v=this.mutationCache.config).onError)==null?void 0:p.call(v,M,this.state.variables,this.state.context,this)),await((b=(E=this.options).onError)==null?void 0:b.call(E,M,this.state.variables,this.state.context)),await((O=(k=this.mutationCache.config).onSettled)==null?void 0:O.call(k,void 0,M,this.state.variables,this.state.context,this)),await((q=(S=this.options).onSettled)==null?void 0:q.call(S,void 0,M,this.state.variables,this.state.context)),M}finally{this.dispatch({type:"error",error:M})}}}dispatch(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ar(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=t(this.state),oe.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Ma(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class ja extends Ht{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){const i=new Aa({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){oe.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(t=>En(e,t))}findAll(e){return this.mutations.filter(t=>En(e,t))}notify(e){oe.batch(()=>{this.listeners.forEach(({listener:t})=>{t(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const t=this.mutations.filter(r=>r.state.isPaused);return oe.batch(()=>t.reduce((r,i)=>r.then(()=>i.continue().catch(Re)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Da(){return{onFetch:n=>{n.fetchFn=()=>{var e,t,r,i,s,o;const u=(e=n.fetchOptions)==null||(t=e.meta)==null?void 0:t.refetchPage,a=(r=n.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,l=a==null?void 0:a.pageParam,h=(a==null?void 0:a.direction)==="forward",c=(a==null?void 0:a.direction)==="backward",f=((s=n.state.data)==null?void 0:s.pages)||[],d=((o=n.state.data)==null?void 0:o.pageParams)||[];let _=d,p=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>{var M;if((M=n.signal)!=null&&M.aborted)p=!0;else{var A;(A=n.signal)==null||A.addEventListener("abort",()=>{p=!0})}return n.signal}})},b=n.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+n.options.queryHash+"'")),E=(S,M,A,I)=>(_=I?[M,..._]:[..._,M],I?[A,...S]:[...S,A]),O=(S,M,A,I)=>{if(p)return Promise.reject("Cancelled");if(typeof A>"u"&&!M&&S.length)return Promise.resolve(S);const L={queryKey:n.queryKey,pageParam:A,meta:n.options.meta};v(L);const z=b(L);return Promise.resolve(z).then(J=>E(S,A,J,I))};let k;if(!f.length)k=O([]);else if(h){const S=typeof l<"u",M=S?l:Pn(n.options,f);k=O(f,S,M)}else if(c){const S=typeof l<"u",M=S?l:Fa(n.options,f);k=O(f,S,M,!0)}else{_=[];const S=typeof n.options.getNextPageParam>"u";k=(u&&f[0]?u(f[0],0,f):!0)?O([],S,d[0]):Promise.resolve(E([],d[0],f[0]));for(let A=1;A<f.length;A++)k=k.then(I=>{if(u&&f[A]?u(f[A],A,f):!0){const z=S?d[A]:Pn(n.options,I);return O(I,S,z)}return Promise.resolve(E(I,d[A],f[A]))})}return k.then(S=>({pages:S,pageParams:_}))}}}}function Pn(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function Fa(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}class qo{constructor(e={}){this.queryCache=e.queryCache||new Ta,this.mutationCache=e.mutationCache||new ja,this.logger=e.logger||Qr,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=rr.subscribe(()=>{rr.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=nr.subscribe(()=>{nr.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(t=this.unsubscribeOnline)==null||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[r]=Ue(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state.data}ensureQueryData(e,t,r){const i=jt(e,t,r),s=this.getQueryData(i.queryKey);return s?Promise.resolve(s):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.queryCache.find(e),s=i==null?void 0:i.state.data,o=Ea(t,s);if(typeof o>"u")return;const u=jt(e),a=this.defaultQueryOptions(u);return this.queryCache.build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return oe.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e,t){var r;return(r=this.queryCache.find(e,t))==null?void 0:r.state}removeQueries(e,t){const[r]=Ue(e,t),i=this.queryCache;oe.batch(()=>{i.findAll(r).forEach(s=>{i.remove(s)})})}resetQueries(e,t,r){const[i,s]=Ue(e,t,r),o=this.queryCache,u={type:"active",...i};return oe.batch(()=>(o.findAll(i).forEach(a=>{a.reset()}),this.refetchQueries(u,s)))}cancelQueries(e,t,r){const[i,s={}]=Ue(e,t,r);typeof s.revert>"u"&&(s.revert=!0);const o=oe.batch(()=>this.queryCache.findAll(i).map(u=>u.cancel(s)));return Promise.all(o).then(Re).catch(Re)}invalidateQueries(e,t,r){const[i,s]=Ue(e,t,r);return oe.batch(()=>{var o,u;if(this.queryCache.findAll(i).forEach(l=>{l.invalidate()}),i.refetchType==="none")return Promise.resolve();const a={...i,type:(o=(u=i.refetchType)!=null?u:i.type)!=null?o:"active"};return this.refetchQueries(a,s)})}refetchQueries(e,t,r){const[i,s]=Ue(e,t,r),o=oe.batch(()=>this.queryCache.findAll(i).filter(a=>!a.isDisabled()).map(a=>{var l;return a.fetch(void 0,{...s,cancelRefetch:(l=s==null?void 0:s.cancelRefetch)!=null?l:!0,meta:{refetchPage:i.refetchPage}})}));let u=Promise.all(o).then(Re);return s!=null&&s.throwOnError||(u=u.catch(Re)),u}fetchQuery(e,t,r){const i=jt(e,t,r),s=this.defaultQueryOptions(i);typeof s.retry>"u"&&(s.retry=!1);const o=this.queryCache.build(this,s);return o.isStaleByTime(s.staleTime)?o.fetch(s):Promise.resolve(o.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(Re).catch(Re)}fetchInfiniteQuery(e,t,r){const i=jt(e,t,r);return i.behavior=Da(),this.fetchQuery(i)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(Re).catch(Re)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const r=this.queryDefaults.find(i=>xe(e)===xe(i.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find(r=>tr(e,r.queryKey));return t==null?void 0:t.defaultOptions}setMutationDefaults(e,t){const r=this.mutationDefaults.find(i=>xe(e)===xe(i.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find(r=>tr(e,r.mutationKey));return t==null?void 0:t.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=Br(t.queryKey,t)),typeof t.refetchOnReconnect>"u"&&(t.refetchOnReconnect=t.networkMode!=="always"),typeof t.useErrorBoundary>"u"&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class La extends Ht{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Rn(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ar(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ar(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Sn(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const s=this.hasListeners();s&&Tn(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(t),s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();s&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:(t=e.cancelRefetch)!=null?t:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Re)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),Lt||this.currentResult.isStale||!Pr(this.options.staleTime))return;const t=go(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Lt||this.options.enabled===!1||!Pr(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||rr.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const r=this.currentQuery,i=this.options,s=this.currentResult,o=this.currentResultState,u=this.currentResultOptions,a=e!==r,l=a?e.state:this.currentQueryInitialState,h=a?this.currentResult:this.previousQueryResult,{state:c}=e;let{dataUpdatedAt:f,error:d,errorUpdatedAt:_,fetchStatus:p,status:v}=c,b=!1,E=!1,O;if(t._optimisticResults){const A=this.hasListeners(),I=!A&&Rn(e,t),L=A&&Tn(e,r,t,i);(I||L)&&(p=ar(e.options.networkMode)?"fetching":"paused",f||(v="loading")),t._optimisticResults==="isRestoring"&&(p="idle")}if(t.keepPreviousData&&!c.dataUpdatedAt&&h!=null&&h.isSuccess&&v!=="error")O=h.data,f=h.dataUpdatedAt,v=h.status,b=!0;else if(t.select&&typeof c.data<"u")if(s&&c.data===(o==null?void 0:o.data)&&t.select===this.selectFn)O=this.selectResult;else try{this.selectFn=t.select,O=t.select(c.data),O=Tr(s==null?void 0:s.data,O,t),this.selectResult=O,this.selectError=null}catch(A){this.selectError=A}else O=c.data;if(typeof t.placeholderData<"u"&&typeof O>"u"&&v==="loading"){let A;if(s!=null&&s.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))A=s.data;else if(A=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof A<"u")try{A=t.select(A),this.selectError=null}catch(I){this.selectError=I}typeof A<"u"&&(v="success",O=Tr(s==null?void 0:s.data,A,t),E=!0)}this.selectError&&(d=this.selectError,O=this.selectResult,_=Date.now(),v="error");const k=p==="fetching",q=v==="loading",S=v==="error";return{status:v,fetchStatus:p,isLoading:q,isSuccess:v==="success",isError:S,isInitialLoading:q&&k,data:O,dataUpdatedAt:f,error:d,errorUpdatedAt:_,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:k,isRefetching:k&&!q,isLoadingError:S&&c.dataUpdatedAt===0,isPaused:p==="paused",isPlaceholderData:E,isPreviousData:b,isRefetchError:S&&c.dataUpdatedAt!==0,isStale:Kr(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Sn(r,t))return;this.currentResult=r;const i={cache:!0},s=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options;if(o==="all"||!o&&!this.trackedProps.size)return!0;const u=new Set(o??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(a=>{const l=a;return this.currentResult[l]!==t[l]&&u.has(l)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};e.type==="success"?t.onSuccess=!e.manual:e.type==="error"&&!Wt(e.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){oe.batch(()=>{if(e.onSuccess){var t,r,i,s;(t=(r=this.options).onSuccess)==null||t.call(r,this.currentResult.data),(i=(s=this.options).onSettled)==null||i.call(s,this.currentResult.data,null)}else if(e.onError){var o,u,a,l;(o=(u=this.options).onError)==null||o.call(u,this.currentResult.error),(a=(l=this.options).onSettled)==null||a.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Na(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Rn(n,e){return Na(n,e)||n.state.dataUpdatedAt>0&&Ar(n,e,e.refetchOnMount)}function Ar(n,e,t){if(e.enabled!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&Kr(n,e)}return!1}function Tn(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&Kr(n,t)}function Kr(n,e){return n.isStaleByTime(e.staleTime)}const Io="$$_queryClient",Ha=()=>{const n=Ze(Io);if(!n)throw new Error("No QueryClient was found in Svelte context. Did you forget to wrap your component with QueryClientProvider?");return n},Ua=n=>{Xe(Io,n)};function Po(){return Ha()}function Ba(n,e){const t=Po(),r=t.defaultQueryOptions(n);r._optimisticResults="optimistic";let i=new e(t,r);r.onError&&(r.onError=oe.batchCalls(r.onError)),r.onSuccess&&(r.onSuccess=oe.batchCalls(r.onSuccess)),r.onSettled&&(r.onSettled=oe.batchCalls(r.onSettled)),Dt(i).subscribe(u=>{i=u,i.setOptions(r,{listeners:!1})});const s=Dt(i.getCurrentResult(),u=>i.subscribe(oe.batchCalls(u))),{subscribe:o}=Jt(s,u=>(u=i.getOptimisticResult(r),r.notifyOnChangeProps?u:i.trackResult(u)));return{subscribe:o}}function Qa(n,e,t){const r=jt(n,e,t);return Ba(r,La)}function Ka(n){let e;const t=n[2].default,r=ce(t,n,n[1],null);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,[s]){r&&r.p&&(!e||s&2)&&fe(r,t,i,i[1],e?de(t,i[1],s,null):he(i[1]),null)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function Ga(n,e,t){let{$$slots:r={},$$scope:i}=e,{client:s=new qo}=e;return Jo(()=>{s.mount()}),Ua(s),Ji(()=>{s.unmount()}),n.$$set=o=>{"client"in o&&t(0,s=o.client),"$$scope"in o&&t(1,i=o.$$scope)},[s,i,r]}class Va extends Ie{constructor(e){super(),Pe(this,e,Ga,Ka,we,{client:0})}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Ro({rxNostr:n,queryKey:e,filters:t,operator:r,req:i,initData:s}){const o=Po();if(n.getRelays().length===0)return o.setQueryData(e,s),{data:Dt(s),status:Dt("success"),error:Dt()};let u;i?(i.emit(t),u=i):u=Xo({filters:t});const a=it("loading"),l=it(void 0),h=n.use(u).pipe(r),c=Qa(e,()=>new Promise((f,d)=>{let _=!1;h.subscribe({next:p=>{_?o.setQueryData(e,p):(f(p),_=!0)},complete:()=>a.set("success"),error:p=>{console.error(p),a.set("error"),l.set(p),_||(d(p),_=!0)}})}));return{data:Jt(c,f=>f.data,s),status:Jt([c,a],([f,d])=>f.isSuccess?"success":f.isError?"error":d),error:Jt([c,l],([f,d])=>f.isError?f.error:d)}}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function za({rxNostr:n,relays:e}){if(e.length===0)return yo([[]]);const t=e.map(r=>{const i=typeof r=="string"?r:r.url,s=n.hasRelay(i)?n.getRelayState(i):"not-started";return{from:i,state:s}});return n.createConnectionStateObservable().pipe(ya(...t),Oa(({from:r})=>r))}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Ja(n,e,t,r,i){const s=[{kinds:[r],authors:[t],limit:1}],o=or(xo(r),ma(t),Yi(),Zo());return Ro({rxNostr:n,queryKey:e,filters:s,operator:o,req:i})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Wa(n,e,t,r){const i=[{ids:[t],limit:1}],s=or(ba(t),$o(),Yi());return Ro({rxNostr:n,queryKey:e,filters:i,operator:s,req:r})}/**
 * @license Apache-2.0
 * @copyright 2023 Akiomi Kamakura
 */function Ya(n,e,t,r){return Ja(n,e,t,es.Kind.Metadata,r)}const Xa=n=>({metadata:n&16,status:n&32}),An=n=>{var e;return{metadata:(e=n[4])==null?void 0:e.event,status:n[5]}},Za=n=>({metadata:n&16,status:n&32}),Mn=n=>{var e;return{metadata:(e=n[4])==null?void 0:e.event,status:n[5]}},xa=n=>({metadata:n&16,status:n&32}),jn=n=>{var e;return{metadata:(e=n[4])==null?void 0:e.event,status:n[5]}},$a=n=>({error:n&8,metadata:n&16,status:n&32}),Dn=n=>{var e;return{error:n[3],metadata:(e=n[4])==null?void 0:e.event,status:n[5]}};function eu(n){let e;const t=n[12].nodata,r=ce(t,n,n[11],An);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2096)&&fe(r,t,i,i[11],e?de(t,i[11],s,Xa):he(i[11]),An)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function tu(n){let e;const t=n[12].loading,r=ce(t,n,n[11],Mn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2096)&&fe(r,t,i,i[11],e?de(t,i[11],s,Za):he(i[11]),Mn)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function ru(n){let e;const t=n[12].default,r=ce(t,n,n[11],jn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2096)&&fe(r,t,i,i[11],e?de(t,i[11],s,xa):he(i[11]),jn)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function nu(n){let e;const t=n[12].error,r=ce(t,n,n[11],Dn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2104)&&fe(r,t,i,i[11],e?de(t,i[11],s,$a):he(i[11]),Dn)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function iu(n){let e,t,r,i;const s=[nu,ru,tu,eu],o=[];function u(a,l){return a[3]?0:a[4]?1:a[5]==="loading"?2:3}return e=u(n),t=o[e]=s[e](n),{c(){t.c(),r=Y()},l(a){t.l(a),r=Y()},m(a,l){o[e].m(a,l),j(a,r,l),i=!0},p(a,[l]){let h=e;e=u(a),e===h?o[e].p(a,l):(Oe(),U(o[h],1,1,()=>{o[h]=null}),Ee(),t=o[e],t?t.p(a,l):(t=o[e]=s[e](a),t.c()),D(t,1),t.m(r.parentNode,r))},i(a){i||(D(t),i=!0)},o(a){U(t),i=!1},d(a){o[e].d(a),a&&g(r)}}}function ou(n,e,t){let r,i,s,o,u,a,l=K,h=()=>(l(),l=$e(o,S=>t(3,a=S)),o),c,f=K,d=()=>(f(),f=$e(i,S=>t(4,c=S)),i),_,p=K,v=()=>(p(),p=$e(s,S=>t(5,_=S)),s);et(n,Dr,S=>t(10,u=S)),n.$$.on_destroy.push(()=>l()),n.$$.on_destroy.push(()=>f()),n.$$.on_destroy.push(()=>p());let{$$slots:b={},$$scope:E}=e,{queryKey:O}=e,{pubkey:k}=e,{req:q=void 0}=e;return n.$$set=S=>{"queryKey"in S&&t(6,O=S.queryKey),"pubkey"in S&&t(7,k=S.pubkey),"req"in S&&t(8,q=S.req),"$$scope"in S&&t(11,E=S.$$scope)},n.$$.update=()=>{n.$$.dirty&1472&&t(9,r=Ya(u.rxNostr,O,k,q)),n.$$.dirty&512&&d(t(2,i=r.data)),n.$$.dirty&512&&v(t(1,s=r.status)),n.$$.dirty&512&&h(t(0,o=r.error))},[o,s,i,a,c,_,O,k,q,r,u,E,b]}class ur extends Ie{constructor(e){super(),Pe(this,e,ou,iu,we,{queryKey:6,pubkey:7,req:8})}}const su=n=>({connections:n&4}),Fn=n=>({connections:n[2]});function au(n){let e;const t=n[6].default,r=ce(t,n,n[7],Fn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&132)&&fe(r,t,i,i[7],e?de(t,i[7],s,su):he(i[7]),Fn)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function uu(n){let e,t;return e=new Va({props:{client:n[0],$$slots:{default:[au]},$$scope:{ctx:n}}}),{c(){De(e.$$.fragment)},l(r){Ke(e.$$.fragment,r)},m(r,i){Fe(e,r,i),t=!0},p(r,[i]){const s={};i&1&&(s.client=r[0]),i&132&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){Le(e,r)}}}function lu(n,e,t){let r,i,s,o,u=K,a=()=>(u(),u=$e(r,p=>t(2,o=p)),r);n.$$.on_destroy.push(()=>u());let{$$slots:l={},$$scope:h}=e,{queryClientConfig:c={}}=e,{relays:f=[]}=e;const d=ts(),_={defaultOptions:{queries:{staleTime:1e3*60,refetchInterval:1/0}}};return Ji(()=>{d.dispose()}),n.$$set=p=>{"queryClientConfig"in p&&t(3,c=p.queryClientConfig),"relays"in p&&t(4,f=p.relays),"$$scope"in p&&t(7,h=p.$$scope)},n.$$.update=()=>{n.$$.dirty&16&&a(t(1,r=za({rxNostr:d,relays:f}))),n.$$.dirty&8&&t(5,i={..._,...c}),n.$$.dirty&32&&t(0,s=new qo(i)),n.$$.dirty&16&&(d.setRelays(f),Dr.set({rxNostr:d}))},[s,r,o,c,f,i,l,h]}class dc extends Ie{constructor(e){super(),Pe(this,e,lu,uu,we,{queryClientConfig:3,relays:4})}}const cu=n=>({text:n&16,status:n&32}),Ln=n=>{var e;return{text:(e=n[4])==null?void 0:e.event,status:n[5]}},fu=n=>({text:n&16,status:n&32}),Nn=n=>{var e;return{text:(e=n[4])==null?void 0:e.event,status:n[5]}},hu=n=>({text:n&16,status:n&32}),Hn=n=>{var e;return{text:(e=n[4])==null?void 0:e.event,status:n[5]}},du=n=>({error:n&8,text:n&16,status:n&32}),Un=n=>{var e;return{error:n[3],text:(e=n[4])==null?void 0:e.event,status:n[5]}};function _u(n){let e;const t=n[12].nodata,r=ce(t,n,n[11],Ln);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2096)&&fe(r,t,i,i[11],e?de(t,i[11],s,cu):he(i[11]),Ln)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function pu(n){let e;const t=n[12].loading,r=ce(t,n,n[11],Nn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2096)&&fe(r,t,i,i[11],e?de(t,i[11],s,fu):he(i[11]),Nn)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function vu(n){let e;const t=n[12].default,r=ce(t,n,n[11],Hn);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2096)&&fe(r,t,i,i[11],e?de(t,i[11],s,hu):he(i[11]),Hn)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function yu(n){let e;const t=n[12].error,r=ce(t,n,n[11],Un);return{c(){r&&r.c()},l(i){r&&r.l(i)},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&2104)&&fe(r,t,i,i[11],e?de(t,i[11],s,du):he(i[11]),Un)},i(i){e||(D(r,i),e=!0)},o(i){U(r,i),e=!1},d(i){r&&r.d(i)}}}function bu(n){let e,t,r,i;const s=[yu,vu,pu,_u],o=[];function u(a,l){return a[3]?0:a[4]?1:a[5]==="loading"?2:3}return e=u(n),t=o[e]=s[e](n),{c(){t.c(),r=Y()},l(a){t.l(a),r=Y()},m(a,l){o[e].m(a,l),j(a,r,l),i=!0},p(a,[l]){let h=e;e=u(a),e===h?o[e].p(a,l):(Oe(),U(o[h],1,1,()=>{o[h]=null}),Ee(),t=o[e],t?t.p(a,l):(t=o[e]=s[e](a),t.c()),D(t,1),t.m(r.parentNode,r))},i(a){i||(D(t),i=!0)},o(a){U(t),i=!1},d(a){o[e].d(a),a&&g(r)}}}function mu(n,e,t){let r,i,s,o,u,a,l=K,h=()=>(l(),l=$e(o,S=>t(3,a=S)),o),c,f=K,d=()=>(f(),f=$e(i,S=>t(4,c=S)),i),_,p=K,v=()=>(p(),p=$e(s,S=>t(5,_=S)),s);et(n,Dr,S=>t(10,u=S)),n.$$.on_destroy.push(()=>l()),n.$$.on_destroy.push(()=>f()),n.$$.on_destroy.push(()=>p());let{$$slots:b={},$$scope:E}=e,{queryKey:O}=e,{id:k}=e,{req:q=void 0}=e;return n.$$set=S=>{"queryKey"in S&&t(6,O=S.queryKey),"id"in S&&t(7,k=S.id),"req"in S&&t(8,q=S.req),"$$scope"in S&&t(11,E=S.$$scope)},n.$$.update=()=>{n.$$.dirty&1472&&t(9,r=Wa(u.rxNostr,O,k,q)),n.$$.dirty&512&&d(t(2,i=r.data)),n.$$.dirty&512&&v(t(1,s=r.status)),n.$$.dirty&512&&h(t(0,o=r.error))},[o,s,i,a,c,_,O,k,q,r,u,E,b]}class To extends Ie{constructor(e){super(),Pe(this,e,mu,bu,we,{queryKey:6,id:7,req:8})}}var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.is_node=void 0;var dr=null;function gu(){return dr===null&&(dr=typeof T=="object"&&typeof T.process=="object"&&typeof T.process.versions=="object"&&typeof T.process.versions.node<"u"),dr}Ut.is_node=gu;var _r={},pr,Bn;function ku(){if(Bn)return pr;Bn=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return pr=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),pr}const Ou="websocket",Eu="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Su=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],wu="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Cu=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],qu="1.0.34",Iu={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Pu="https://github.com/theturtle32/WebSocket-Node",Ru={node:">=4.0.0"},Tu={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Au={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Mu={verbose:!1},ju={test:"tape test/unit/*.js",gulp:"gulp"},Du="index",Fu={lib:"./lib"},Lu="lib/browser.js",Nu="Apache-2.0",Hu={name:Ou,description:Eu,keywords:Su,author:wu,contributors:Cu,version:qu,repository:Iu,homepage:Pu,engines:Ru,dependencies:Tu,devDependencies:Au,config:Mu,scripts:ju,main:Du,directories:Fu,browser:Lu,license:Nu};var vr,Qn;function Uu(){return Qn||(Qn=1,vr=Hu.version),vr}var yr,Kn;function Bu(){if(Kn)return yr;Kn=1;var n;if(typeof globalThis=="object")n=globalThis;else try{n=ku()}catch{}finally{if(!n&&typeof window<"u"&&(n=window),!n)throw new Error("Could not determine global this")}var e=n.WebSocket||n.MozWebSocket,t=Uu();function r(i,s){var o;return s?o=new e(i,s):o=new e(i),o}return e&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(r,i,{get:function(){return e[i]}})}),yr={w3cwebsocket:e?r:null,version:t},yr}var Qt={},br={},ht={},dt={},_t={},pt={},Gn;function Qu(){if(Gn)return pt;Gn=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.ForOfAdaptor=void 0;var n=function(){function e(t,r){this.it_=t,this.last_=r}return e.prototype.next=function(){if(this.it_.equals(this.last_))return{done:!0,value:void 0};var t=this.it_;return this.it_=this.it_.next(),{done:!1,value:t.value}},e.prototype[Symbol.iterator]=function(){return this},e}();return pt.ForOfAdaptor=n,pt}var Vn;function Gr(){if(Vn)return _t;Vn=1;var n=T&&T.__values||function(r){var i=typeof Symbol=="function"&&Symbol.iterator,s=i&&r[i],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(_t,"__esModule",{value:!0}),_t.Container=void 0;var e=Qu(),t=function(){function r(){}return r.prototype.empty=function(){return this.size()===0},r.prototype.rbegin=function(){return this.end().reverse()},r.prototype.rend=function(){return this.begin().reverse()},r.prototype[Symbol.iterator]=function(){return new e.ForOfAdaptor(this.begin(),this.end())},r.prototype.toJSON=function(){var i,s,o=[];try{for(var u=n(this),a=u.next();!a.done;a=u.next()){var l=a.value;o.push(l)}}catch(h){i={error:h}}finally{try{a&&!a.done&&(s=u.return)&&s.call(u)}finally{if(i)throw i.error}}return o},r}();return _t.Container=t,_t}var vt={},zn;function Vr(){if(zn)return vt;zn=1;var n=T&&T.__read||function(t,r){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var s=i.call(t),o,u=[],a;try{for(;(r===void 0||r-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}return u};Object.defineProperty(vt,"__esModule",{value:!0}),vt.NativeArrayIterator=void 0;var e=function(){function t(r,i){this.data_=r,this.index_=i}return t.prototype.index=function(){return this.index_},Object.defineProperty(t.prototype,"value",{get:function(){return this.data_[this.index_]},enumerable:!1,configurable:!0}),t.prototype.prev=function(){return--this.index_,this},t.prototype.next=function(){return++this.index_,this},t.prototype.advance=function(r){return this.index_+=r,this},t.prototype.equals=function(r){return this.data_===r.data_&&this.index_===r.index_},t.prototype.swap=function(r){var i,s;i=n([r.data_,this.data_],2),this.data_=i[0],r.data_=i[1],s=n([r.index_,this.index_],2),this.index_=s[0],r.index_=s[1]},t}();return vt.NativeArrayIterator=e,vt}var Jn;function Ku(){if(Jn)return dt;Jn=1;var n=T&&T.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(u[l]=a[l])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}();Object.defineProperty(dt,"__esModule",{value:!0}),dt.SetContainer=void 0;var e=Gr(),t=Vr(),r=function(i){n(s,i);function s(o){var u=i.call(this)||this;return u.data_=o(u),u}return s.prototype.assign=function(o,u){this.clear(),this.insert(o,u)},s.prototype.clear=function(){this.data_.clear()},s.prototype.begin=function(){return this.data_.begin()},s.prototype.end=function(){return this.data_.end()},s.prototype.has=function(o){return!this.find(o).equals(this.end())},s.prototype.size=function(){return this.data_.size()},s.prototype.push=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];if(o.length===0)return this.size();var a=new t.NativeArrayIterator(o,0),l=new t.NativeArrayIterator(o,o.length);return this._Insert_by_range(a,l),this.size()},s.prototype.insert=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return o.length===1?this._Insert_by_key(o[0]):o[0].next instanceof Function&&o[1].next instanceof Function?this._Insert_by_range(o[0],o[1]):this._Insert_by_hint(o[0],o[1])},s.prototype.erase=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return o.length===1&&!(o[0]instanceof this.end().constructor&&o[0].source()===this)?this._Erase_by_val(o[0]):o.length===1?this._Erase_by_range(o[0]):this._Erase_by_range(o[0],o[1])},s.prototype._Erase_by_range=function(o,u){u===void 0&&(u=o.next());var a=this.data_.erase(o,u);return this._Handle_erase(o,u),a},s}(e.Container);return dt.SetContainer=r,dt}var mr={},yt={},bt={},mt={},Wn;function Gu(){if(Wn)return mt;Wn=1;var n=T&&T.__extends||function(){var t=function(r,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u])},t(r,i)};return function(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(mt,"__esModule",{value:!0}),mt.Exception=void 0;var e=function(t){n(r,t);function r(i){var s=this.constructor,o=t.call(this,i)||this,u=s.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u,o}return Object.defineProperty(r.prototype,"name",{get:function(){return this.constructor.name},enumerable:!1,configurable:!0}),r.prototype.what=function(){return this.message},r.prototype.toJSON=function(){return{name:this.name,message:this.message,stack:this.stack}},r}(Error);return mt.Exception=e,mt}var Yn;function Ao(){if(Yn)return bt;Yn=1;var n=T&&T.__extends||function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(o[a]=u[a])},r(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(bt,"__esModule",{value:!0}),bt.LogicError=void 0;var e=Gu(),t=function(r){n(i,r);function i(s){return r.call(this,s)||this}return i}(e.Exception);return bt.LogicError=t,bt}var Xn;function Mo(){if(Xn)return yt;Xn=1;var n=T&&T.__extends||function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(o[a]=u[a])},r(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(yt,"__esModule",{value:!0}),yt.InvalidArgument=void 0;var e=Ao(),t=function(r){n(i,r);function i(s){return r.call(this,s)||this}return i}(e.LogicError);return yt.InvalidArgument=t,yt}var gt={},Zn;function Vu(){if(Zn)return gt;Zn=1;var n=T&&T.__extends||function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(o[a]=u[a])},r(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(gt,"__esModule",{value:!0}),gt.OutOfRange=void 0;var e=Ao(),t=function(r){n(i,r);function i(s){return r.call(this,s)||this}return i}(e.LogicError);return gt.OutOfRange=t,gt}var xn;function lr(){return xn||(xn=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorGenerator=void 0;var e=Mo(),t=Vu();(function(r){function i(d){if(typeof d=="string")return d;var _=d.constructor.name;return d.constructor.__MODULE&&(_="".concat(d.constructor.__MODULE,".").concat(_)),"std.".concat(_)}r.get_class_name=i;function s(d,_){return new t.OutOfRange("Error on ".concat(i(d),".").concat(_,"(): it's empty container."))}r.empty=s;function o(d,_,p){return new t.OutOfRange("Error on ".concat(i(d),".").concat(_,"(): parametric index is negative -> (index = ").concat(p,")."))}r.negative_index=o;function u(d,_,p,v){return new t.OutOfRange("Error on ".concat(i(d),".").concat(_,"(): parametric index is equal or greater than size -> (index = ").concat(p,", size: ").concat(v,")."))}r.excessive_index=u;function a(d,_){return new e.InvalidArgument("Error on ".concat(i(d),".").concat(_,"(): parametric iterator is not this container's own."))}r.not_my_iterator=a;function l(d,_){return new e.InvalidArgument("Error on ".concat(i(d),".").concat(_,"(): parametric iterator, it already has been erased."))}r.erased_iterator=l;function h(d,_,p){return new t.OutOfRange("Error on ".concat(i(d),".").concat(_,"(): parametric iterator is directing negative position -> (index = ").concat(p,")."))}r.negative_iterator=h;function c(d,_){_===void 0&&(_="end");var p=i(d);return new t.OutOfRange("Error on ".concat(p,".Iterator.value: cannot access to the ").concat(p,".").concat(_,"().value."))}r.iterator_end_value=c;function f(d,_,p){throw new t.OutOfRange("Error on ".concat(i(d),".").concat(_,"(): unable to find the matched key -> ").concat(p))}r.key_nout_found=f})(n.ErrorGenerator||(n.ErrorGenerator={}))}(mr)),mr}var $n;function zu(){if($n)return ht;$n=1;var n=T&&T.__extends||function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])},o(u,a)};return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),e=T&&T.__read||function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),h,c=[],f;try{for(;(u===void 0||u-- >0)&&!(h=l.next()).done;)c.push(h.value)}catch(d){f={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(f)throw f.error}}return c},t=T&&T.__spreadArray||function(o,u,a){if(a||arguments.length===2)for(var l=0,h=u.length,c;l<h;l++)(c||!(l in u))&&(c||(c=Array.prototype.slice.call(u,0,l)),c[l]=u[l]);return o.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(ht,"__esModule",{value:!0}),ht.UniqueSet=void 0;var r=Ku(),i=lr(),s=function(o){n(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.count=function(a){return this.find(a).equals(this.end())?0:1},u.prototype.insert=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o.prototype.insert.apply(this,t([],e(a),!1))},u.prototype._Insert_by_range=function(a,l){for(;!a.equals(l);a=a.next())this._Insert_by_key(a.value)},u.prototype.extract=function(a){return a instanceof this.end().constructor?this._Extract_by_iterator(a):this._Extract_by_val(a)},u.prototype._Extract_by_val=function(a){var l=this.find(a);if(l.equals(this.end())===!0)throw i.ErrorGenerator.key_nout_found(this,"extract",a);return this._Erase_by_range(l),a},u.prototype._Extract_by_iterator=function(a){return a.equals(this.end())===!0||this.has(a.value)===!1?this.end():(this._Erase_by_range(a),a)},u.prototype._Erase_by_val=function(a){var l=this.find(a);return l.equals(this.end())===!0?0:(this._Erase_by_range(l),1)},u.prototype.merge=function(a){for(var l=a.begin();!l.equals(a.end());)this.has(l.value)===!1?(this.insert(l.value),l=a.erase(l)):l=l.next()},u}(r.SetContainer);return ht.UniqueSet=s,ht}var gr={},kr={},ei;function Ju(){return ei||(ei=1,function(n){var e=T&&T.__read||function(r,i){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),u,a=[],l;try{for(;(i===void 0||i-- >0)&&!(u=o.next()).done;)a.push(u.value)}catch(h){l={error:h}}finally{try{u&&!u.done&&(s=o.return)&&s.call(o)}finally{if(l)throw l.error}}return a},t=T&&T.__spreadArray||function(r,i,s){if(s||arguments.length===2)for(var o=0,u=i.length,a;o<u;o++)(a||!(o in i))&&(a||(a=Array.prototype.slice.call(i,0,o)),a[o]=i[o]);return r.concat(a||Array.prototype.slice.call(i))};Object.defineProperty(n,"__esModule",{value:!0}),n.IAssociativeContainer=void 0,function(r){function i(s){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];var a,l;return o.length>=1&&o[0]instanceof Array?(a=function(){var h=o[0];s.push.apply(s,t([],e(h),!1))},l=o.slice(1)):o.length>=2&&o[0].next instanceof Function&&o[1].next instanceof Function?(a=function(){var h=o[0],c=o[1];s.assign(h,c)},l=o.slice(2)):(a=null,l=o),{ramda:a,tail:l}}r.construct=i}(n.IAssociativeContainer||(n.IAssociativeContainer={}))}(kr)),kr}var kt={},Ot={},Et={},ti;function Wu(){if(ti)return Et;ti=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et._Get_root=void 0;var n=Ut;function e(){return t===null&&(t=(0,n.is_node)()?T:self,t.__s_iUID===void 0&&(t.__s_iUID=0)),t}Et._Get_root=e;var t=null;return Et}var ri;function jo(){if(ri)return Ot;ri=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.get_uid=void 0;var n=Wu();function e(t){if(t instanceof Object){if(t.hasOwnProperty("__get_m_iUID")===!1){var r=++(0,n._Get_root)().__s_iUID;Object.defineProperty(t,"__get_m_iUID",{value:function(){return r}})}return t.__get_m_iUID()}else return t===void 0?-1:0}return Ot.get_uid=e,Ot}var ni;function zr(){if(ni)return kt;ni=1;var n=T&&T.__values||function(a){var l=typeof Symbol=="function"&&Symbol.iterator,h=l&&a[l],c=0;if(h)return h.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&c>=a.length&&(a=void 0),{value:a&&a[c++],done:!a}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(kt,"__esModule",{value:!0}),kt.hash=void 0;var e=jo();function t(){for(var a,l,h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];var f=o;try{for(var d=n(h),_=d.next();!_.done;_=d.next()){var p=_.value;p=p&&p.valueOf();var v=typeof p;if(v==="boolean")f=r(p,f);else if(v==="number"||v==="bigint")f=i(p,f);else if(v==="string")f=s(p,f);else if(p instanceof Object&&p.hashCode instanceof Function){var b=p.hashCode();if(h.length===1)return b;f=f^b,f*=u}else f=i((0,e.get_uid)(p),f)}}catch(E){a={error:E}}finally{try{_&&!_.done&&(l=d.return)&&l.call(d)}finally{if(a)throw a.error}}return Math.abs(f)}kt.hash=t;function r(a,l){return l^=a?1:0,l*=u,l}function i(a,l){return s(a.toString(),l)}function s(a,l){for(var h=0;h<a.length;++h)l^=a.charCodeAt(h),l*=u;return Math.abs(l)}var o=2166136261,u=16777619;return kt}var ge={},ii;function Jr(){if(ii)return ge;ii=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.greater_equal=ge.greater=ge.less_equal=ge.less=ge.not_equal_to=ge.equal_to=void 0;var n=jo();function e(u,a){return u=u&&u.valueOf(),a=a&&a.valueOf(),u instanceof Object&&u.equals instanceof Function?u.equals(a):u===a}ge.equal_to=e;function t(u,a){return!e(u,a)}ge.not_equal_to=t;function r(u,a){return u=u.valueOf(),a=a.valueOf(),u instanceof Object?u.less instanceof Function?u.less(a):(0,n.get_uid)(u)<(0,n.get_uid)(a):u<a}ge.less=r;function i(u,a){return r(u,a)||e(u,a)}ge.less_equal=i;function s(u,a){return!i(u,a)}ge.greater=s;function o(u,a){return!r(u,a)}return ge.greater_equal=o,ge}var oi;function Do(){return oi||(oi=1,function(n){var e=T&&T.__read||function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),h,c=[],f;try{for(;(u===void 0||u-- >0)&&!(h=l.next()).done;)c.push(h.value)}catch(d){f={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(f)throw f.error}}return c},t=T&&T.__spreadArray||function(o,u,a){if(a||arguments.length===2)for(var l=0,h=u.length,c;l<h;l++)(c||!(l in u))&&(c||(c=Array.prototype.slice.call(u,0,l)),c[l]=u[l]);return o.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(n,"__esModule",{value:!0}),n.IHashContainer=void 0;var r=Ju(),i=zr(),s=Jr();(function(o){function u(a,l,h){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var d=null,_=i.hash,p=s.equal_to;if(c.length===1&&c[0]instanceof l){var v=c[0];_=v.hash_function(),p=v.key_eq(),d=function(){var E=v.begin(),O=v.end();a.assign(E,O)}}else{var b=r.IAssociativeContainer.construct.apply(r.IAssociativeContainer,t([a],e(c),!1));d=b.ramda,b.tail.length>=1&&(_=b.tail[0]),b.tail.length>=2&&(p=b.tail[1])}h(_,p),d!==null&&d()}o.construct=u})(n.IHashContainer||(n.IHashContainer={}))}(gr)),gr}var Or={},St={},wt={},si;function Wr(){if(si)return wt;si=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.ListIterator=void 0;var n=lr(),e=function(){function t(r,i,s){this.prev_=r,this.next_=i,this.value_=s}return t._Set_prev=function(r,i){r.prev_=i},t._Set_next=function(r,i){r.next_=i},t.prototype.prev=function(){return this.prev_},t.prototype.next=function(){return this.next_},Object.defineProperty(t.prototype,"value",{get:function(){return this._Try_value(),this.value_},enumerable:!1,configurable:!0}),t.prototype._Try_value=function(){if(this.value_===void 0&&this.equals(this.source().end())===!0)throw n.ErrorGenerator.iterator_end_value(this.source())},t.prototype.equals=function(r){return this===r},t}();return wt.ListIterator=e,wt}var Ct={},ai;function Yu(){if(ai)return Ct;ai=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Repeater=void 0;var n=function(){function e(t,r){this.index_=t,this.value_=r}return e.prototype.index=function(){return this.index_},Object.defineProperty(e.prototype,"value",{get:function(){return this.value_},enumerable:!1,configurable:!0}),e.prototype.next=function(){return++this.index_,this},e.prototype.equals=function(t){return this.index_===t.index_},e}();return Ct.Repeater=n,Ct}var ke={},ui;function Xu(){if(ui)return ke;ui=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.next=ke.prev=ke.advance=ke.distance=ke.size=ke.empty=void 0;var n=Mo();function e(a){return a instanceof Array?a.length!==0:a.empty()}ke.empty=e;function t(a){return a instanceof Array?a.length:a.size()}ke.size=t;function r(a,l){if(a.index instanceof Function)return i(a,l);for(var h=0;!a.equals(l);a=a.next())++h;return h}ke.distance=r;function i(a,l){var h=a.index(),c=l.index();return a.base instanceof Function?h-c:c-h}function s(a,l){if(l===0)return a;if(a.advance instanceof Function)return a.advance(l);var h;if(l<0){if(!(a.prev instanceof Function))throw new n.InvalidArgument("Error on std.advance(): parametric iterator is not a bi-directional iterator, thus advancing to negative direction is not possible.");h=function(c){return c.prev()},l=-l}else h=function(c){return c.next()};for(;l-- >0;)a=h(a);return a}ke.advance=s;function o(a,l){return l===void 0&&(l=1),l===1?a.prev():s(a,-l)}ke.prev=o;function u(a,l){return l===void 0&&(l=1),l===1?a.next():s(a,l)}return ke.next=u,ke}var li;function Fo(){if(li)return St;li=1;var n=T&&T.__extends||function(){var l=function(h,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(f[_]=d[_])},l(h,c)};return function(h,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),e=T&&T.__read||function(l,h){var c=typeof Symbol=="function"&&l[Symbol.iterator];if(!c)return l;var f=c.call(l),d,_=[],p;try{for(;(h===void 0||h-- >0)&&!(d=f.next()).done;)_.push(d.value)}catch(v){p={error:v}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(p)throw p.error}}return _};Object.defineProperty(St,"__esModule",{value:!0}),St.ListContainer=void 0;var t=Gr(),r=Wr(),i=Yu(),s=Vr(),o=Xu(),u=lr(),a=function(l){n(h,l);function h(){var c=l.call(this)||this;return c.end_=c._Create_iterator(null,null),c.clear(),c}return h.prototype.assign=function(c,f){this.clear(),this.insert(this.end(),c,f)},h.prototype.clear=function(){r.ListIterator._Set_prev(this.end_,this.end_),r.ListIterator._Set_next(this.end_,this.end_),this.begin_=this.end_,this.size_=0},h.prototype.resize=function(c){var f=c-this.size();f>0?this.insert(this.end(),f,void 0):f<0&&this.erase((0,o.advance)(this.end(),-f),this.end())},h.prototype.begin=function(){return this.begin_},h.prototype.end=function(){return this.end_},h.prototype.size=function(){return this.size_},h.prototype.push_front=function(c){this.insert(this.begin_,c)},h.prototype.push_back=function(c){this.insert(this.end_,c)},h.prototype.pop_front=function(){if(this.empty()===!0)throw u.ErrorGenerator.empty(this.end_.source().constructor.name,"pop_front");this.erase(this.begin_)},h.prototype.pop_back=function(){if(this.empty()===!0)throw u.ErrorGenerator.empty(this.end_.source().constructor.name,"pop_back");this.erase(this.end_.prev())},h.prototype.push=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];if(c.length===0)return this.size();var d=new s.NativeArrayIterator(c,0),_=new s.NativeArrayIterator(c,c.length);return this._Insert_by_range(this.end(),d,_),this.size()},h.prototype.insert=function(c){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];if(c.source()!==this.end_.source())throw u.ErrorGenerator.not_my_iterator(this.end_.source(),"insert");if(c.erased_===!0)throw u.ErrorGenerator.erased_iterator(this.end_.source(),"insert");return f.length===1?this._Insert_by_repeating_val(c,1,f[0]):f.length===2&&typeof f[0]=="number"?this._Insert_by_repeating_val(c,f[0],f[1]):this._Insert_by_range(c,f[0],f[1])},h.prototype._Insert_by_repeating_val=function(c,f,d){var _=new i.Repeater(0,d),p=new i.Repeater(f);return this._Insert_by_range(c,_,p)},h.prototype._Insert_by_range=function(c,f,d){for(var _=c.prev(),p=null,v=0,b=f;b.equals(d)===!1;b=b.next()){var E=this._Create_iterator(_,null,b.value);v===0&&(p=E),r.ListIterator._Set_next(_,E),_=E,++v}return c.equals(this.begin())===!0&&(this.begin_=p),r.ListIterator._Set_next(_,c),r.ListIterator._Set_prev(c,_),this.size_+=v,p},h.prototype.erase=function(c,f){return f===void 0&&(f=c.next()),this._Erase_by_range(c,f)},h.prototype._Erase_by_range=function(c,f){if(c.source()!==this.end_.source())throw u.ErrorGenerator.not_my_iterator(this.end_.source(),"insert");if(c.erased_===!0)throw u.ErrorGenerator.erased_iterator(this.end_.source(),"insert");if(c.equals(this.end_))return this.end_;var d=c.prev();r.ListIterator._Set_next(d,f),r.ListIterator._Set_prev(f,d);for(var _=c;!_.equals(f);_=_.next())_.erased_=!0,--this.size_;return c.equals(this.begin_)&&(this.begin_=f),f},h.prototype.swap=function(c){var f,d,_;f=e([c.begin_,this.begin_],2),this.begin_=f[0],c.begin_=f[1],d=e([c.end_,this.end_],2),this.end_=d[0],c.end_=d[1],_=e([c.size_,this.size_],2),this.size_=_[0],c.size_=_[1]},h}(t.Container);return St.ListContainer=a,St}var qt={},ci;function Lo(){if(ci)return qt;ci=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.ReverseIterator=void 0;var n=function(){function e(t){this.base_=t.prev()}return e.prototype.source=function(){return this.base_.source()},e.prototype.base=function(){return this.base_.next()},Object.defineProperty(e.prototype,"value",{get:function(){return this.base_.value},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return this._Create_neighbor(this.base().next())},e.prototype.next=function(){return this._Create_neighbor(this.base_)},e.prototype.equals=function(t){return this.base_.equals(t.base_)},e}();return qt.ReverseIterator=n,qt}var fi;function Zu(){return fi||(fi=1,function(n){var e=T&&T.__extends||function(){var u=function(a,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(h[f]=c[f])},u(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(a,l);function h(){this.constructor=a}a.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}(),t=T&&T.__read||function(u,a){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var h=l.call(u),c,f=[],d;try{for(;(a===void 0||a-- >0)&&!(c=h.next()).done;)f.push(c.value)}catch(_){d={error:_}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(d)throw d.error}}return f};Object.defineProperty(n,"__esModule",{value:!0}),n.SetElementList=void 0;var r=Fo(),i=Wr(),s=Lo(),o=function(u){e(a,u);function a(l){var h=u.call(this)||this;return h.associative_=l,h}return a.prototype._Create_iterator=function(l,h,c){return a.Iterator.create(this,l,h,c)},a._Swap_associative=function(l,h){var c;c=t([h.associative_,l.associative_],2),l.associative_=c[0],h.associative_=c[1]},a.prototype.associative=function(){return this.associative_},a}(r.ListContainer);n.SetElementList=o,function(u){var a=function(h){e(c,h);function c(f,d,_,p){var v=h.call(this,d,_,p)||this;return v.source_=f,v}return c.create=function(f,d,_,p){return new c(f,d,_,p)},c.prototype.reverse=function(){return new l(this)},c.prototype.source=function(){return this.source_.associative()},c}(i.ListIterator);u.Iterator=a;var l=function(h){e(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.prototype._Create_neighbor=function(f){return new c(f)},c}(s.ReverseIterator);u.ReverseIterator=l}(o=n.SetElementList||(n.SetElementList={})),n.SetElementList=o}(Or)),Or}var It={},Pt={},hi;function No(){if(hi)return Pt;hi=1;var n=T&&T.__values||function(i){var s=typeof Symbol=="function"&&Symbol.iterator,o=s&&i[s],u=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&u>=i.length&&(i=void 0),{value:i&&i[u++],done:!i}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.HashBuckets=void 0;var e=function(){function i(s,o){this.fetcher_=s,this.hasher_=o,this.max_load_factor_=r,this.data_=[],this.size_=0,this.initialize()}return i.prototype.clear=function(){this.data_=[],this.size_=0,this.initialize()},i.prototype.rehash=function(s){var o,u,a,l;s=Math.max(s,t);for(var h=[],c=0;c<s;++c)h.push([]);try{for(var f=n(this.data_),d=f.next();!d.done;d=f.next()){var _=d.value;try{for(var p=(a=void 0,n(_)),v=p.next();!v.done;v=p.next()){var b=v.value,E=this.hasher_(this.fetcher_(b))%h.length;h[E].push(b)}}catch(O){a={error:O}}finally{try{v&&!v.done&&(l=p.return)&&l.call(p)}finally{if(a)throw a.error}}}}catch(O){o={error:O}}finally{try{d&&!d.done&&(u=f.return)&&u.call(f)}finally{if(o)throw o.error}}this.data_=h},i.prototype.reserve=function(s){s>this.capacity()&&(s=Math.floor(s/this.max_load_factor_),this.rehash(s))},i.prototype.initialize=function(){for(var s=0;s<t;++s)this.data_.push([])},i.prototype.length=function(){return this.data_.length},i.prototype.capacity=function(){return this.data_.length*this.max_load_factor_},i.prototype.at=function(s){return this.data_[s]},i.prototype.load_factor=function(){return this.size_/this.length()},i.prototype.max_load_factor=function(s){if(s===void 0&&(s=null),s===null)return this.max_load_factor_;this.max_load_factor_=s},i.prototype.hash_function=function(){return this.hasher_},i.prototype.index=function(s){return this.hasher_(this.fetcher_(s))%this.length()},i.prototype.insert=function(s){var o=this.capacity();++this.size_>o&&this.reserve(o*2);var u=this.index(s);this.data_[u].push(s)},i.prototype.erase=function(s){for(var o=this.index(s),u=this.data_[o],a=0;a<u.length;++a)if(u[a]===s){u.splice(a,1),--this.size_;break}},i}();Pt.HashBuckets=e;var t=10,r=1;return Pt}var di;function xu(){if(di)return It;di=1;var n=T&&T.__extends||function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])},o(u,a)};return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),e=T&&T.__read||function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),h,c=[],f;try{for(;(u===void 0||u-- >0)&&!(h=l.next()).done;)c.push(h.value)}catch(d){f={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(f)throw f.error}}return c},t=T&&T.__values||function(o){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&o[u],l=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(It,"__esModule",{value:!0}),It.SetHashBuckets=void 0;var r=No(),i=function(o){n(u,o);function u(a,l,h){var c=o.call(this,s,l)||this;return c.source_=a,c.key_eq_=h,c}return u._Swap_source=function(a,l){var h;h=e([l.source_,a.source_],2),a.source_=h[0],l.source_=h[1]},u.prototype.key_eq=function(){return this.key_eq_},u.prototype.find=function(a){var l,h,c=this.hash_function()(a)%this.length(),f=this.at(c);try{for(var d=t(f),_=d.next();!_.done;_=d.next()){var p=_.value;if(this.key_eq_(p.value,a))return p}}catch(v){l={error:v}}finally{try{_&&!_.done&&(h=d.return)&&h.call(d)}finally{if(l)throw l.error}}return this.source_.end()},u}(r.HashBuckets);It.SetHashBuckets=i;function s(o){return o.value}return It}var Ye={},_i;function Ho(){if(_i)return Ye;_i=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.make_pair=Ye.Pair=void 0;var n=zr(),e=Jr(),t=function(){function i(s,o){this.first=s,this.second=o}return i.prototype.equals=function(s){return(0,e.equal_to)(this.first,s.first)&&(0,e.equal_to)(this.second,s.second)},i.prototype.less=function(s){return(0,e.equal_to)(this.first,s.first)===!1?(0,e.less)(this.first,s.first):(0,e.less)(this.second,s.second)},i.prototype.hashCode=function(){return(0,n.hash)(this.first,this.second)},i}();Ye.Pair=t;function r(i,s){return new t(i,s)}return Ye.make_pair=r,Ye}var pi;function $u(){return pi||(pi=1,function(n){var e=T&&T.__extends||function(){var h=function(c,f){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var p in _)Object.prototype.hasOwnProperty.call(_,p)&&(d[p]=_[p])},h(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}(),t=T&&T.__read||function(h,c){var f=typeof Symbol=="function"&&h[Symbol.iterator];if(!f)return h;var d=f.call(h),_,p=[],v;try{for(;(c===void 0||c-- >0)&&!(_=d.next()).done;)p.push(_.value)}catch(b){v={error:b}}finally{try{_&&!_.done&&(f=d.return)&&f.call(d)}finally{if(v)throw v.error}}return p},r=T&&T.__spreadArray||function(h,c,f){if(f||arguments.length===2)for(var d=0,_=c.length,p;d<_;d++)(p||!(d in c))&&(p||(p=Array.prototype.slice.call(c,0,d)),p[d]=c[d]);return h.concat(p||Array.prototype.slice.call(c))};Object.defineProperty(n,"__esModule",{value:!0}),n.HashSet=void 0;var i=zu(),s=Do(),o=Zu(),u=xu(),a=Ho(),l=function(h){e(c,h);function c(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var _=h.call(this,function(p){return new o.SetElementList(p)})||this;return s.IHashContainer.construct.apply(s.IHashContainer,r([_,c,function(p,v){_.buckets_=new u.SetHashBuckets(_,p,v)}],t(f),!1)),_}return c.prototype.clear=function(){this.buckets_.clear(),h.prototype.clear.call(this)},c.prototype.swap=function(f){var d,_;d=t([f.data_,this.data_],2),this.data_=d[0],f.data_=d[1],o.SetElementList._Swap_associative(this.data_,f.data_),u.SetHashBuckets._Swap_source(this.buckets_,f.buckets_),_=t([f.buckets_,this.buckets_],2),this.buckets_=_[0],f.buckets_=_[1]},c.prototype.find=function(f){return this.buckets_.find(f)},c.prototype.begin=function(f){return f===void 0&&(f=null),f===null?h.prototype.begin.call(this):this.buckets_.at(f)[0]},c.prototype.end=function(f){if(f===void 0&&(f=null),f===null)return h.prototype.end.call(this);var d=this.buckets_.at(f);return d[d.length-1].next()},c.prototype.rbegin=function(f){return f===void 0&&(f=null),this.end(f).reverse()},c.prototype.rend=function(f){return f===void 0&&(f=null),this.begin(f).reverse()},c.prototype.bucket_count=function(){return this.buckets_.length()},c.prototype.bucket_size=function(f){return this.buckets_.at(f).length},c.prototype.load_factor=function(){return this.buckets_.load_factor()},c.prototype.hash_function=function(){return this.buckets_.hash_function()},c.prototype.key_eq=function(){return this.buckets_.key_eq()},c.prototype.bucket=function(f){return this.hash_function()(f)%this.buckets_.length()},c.prototype.max_load_factor=function(f){return f===void 0&&(f=null),this.buckets_.max_load_factor(f)},c.prototype.reserve=function(f){this.buckets_.reserve(f)},c.prototype.rehash=function(f){this.buckets_.rehash(f)},c.prototype._Insert_by_key=function(f){var d=this.find(f);return d.equals(this.end())===!1?new a.Pair(d,!1):(this.data_.push(f),d=d.prev(),this._Handle_insert(d,d.next()),new a.Pair(d,!0))},c.prototype._Insert_by_hint=function(f,d){var _=this.find(d);return _.equals(this.end())===!0&&(_=this.data_.insert(f,d),this._Handle_insert(_,_.next())),_},c.prototype._Handle_insert=function(f,d){for(;!f.equals(d);f=f.next())this.buckets_.insert(f)},c.prototype._Handle_erase=function(f,d){for(;!f.equals(d);f=f.next())this.buckets_.erase(f)},c}(i.UniqueSet);n.HashSet=l,function(h){h.Iterator=o.SetElementList.Iterator,h.ReverseIterator=o.SetElementList.ReverseIterator}(l=n.HashSet||(n.HashSet={})),n.HashSet=l}(br)),br}var Er={},Rt={},Tt={},vi;function el(){if(vi)return Tt;vi=1;var n=T&&T.__extends||function(){var i=function(s,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,a){u.__proto__=a}||function(u,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(u[l]=a[l])},i(s,o)};return function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(s,o);function u(){this.constructor=s}s.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}();Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.MapContainer=void 0;var e=Gr(),t=Vr(),r=function(i){n(s,i);function s(o){var u=i.call(this)||this;return u.data_=o(u),u}return s.prototype.assign=function(o,u){this.clear(),this.insert(o,u)},s.prototype.clear=function(){this.data_.clear()},s.prototype.begin=function(){return this.data_.begin()},s.prototype.end=function(){return this.data_.end()},s.prototype.has=function(o){return!this.find(o).equals(this.end())},s.prototype.size=function(){return this.data_.size()},s.prototype.push=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var a=new t.NativeArrayIterator(o,0),l=new t.NativeArrayIterator(o,o.length);return this.insert(a,l),this.size()},s.prototype.insert=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return o.length===1?this.emplace(o[0].first,o[0].second):o[0].next instanceof Function&&o[1].next instanceof Function?this._Insert_by_range(o[0],o[1]):this.emplace_hint(o[0],o[1].first,o[1].second)},s.prototype.erase=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return o.length===1&&(!(o[0]instanceof this.end().constructor)||o[0].source()!==this)?this._Erase_by_key(o[0]):o.length===1?this._Erase_by_range(o[0]):this._Erase_by_range(o[0],o[1])},s.prototype._Erase_by_range=function(o,u){u===void 0&&(u=o.next());var a=this.data_.erase(o,u);return this._Handle_erase(o,u),a},s}(e.Container);return Tt.MapContainer=r,Tt}var yi;function tl(){if(yi)return Rt;yi=1;var n=T&&T.__extends||function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])},o(u,a)};return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),e=T&&T.__read||function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),h,c=[],f;try{for(;(u===void 0||u-- >0)&&!(h=l.next()).done;)c.push(h.value)}catch(d){f={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(f)throw f.error}}return c},t=T&&T.__spreadArray||function(o,u,a){if(a||arguments.length===2)for(var l=0,h=u.length,c;l<h;l++)(c||!(l in u))&&(c||(c=Array.prototype.slice.call(u,0,l)),c[l]=u[l]);return o.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.UniqueMap=void 0;var r=el(),i=lr(),s=function(o){n(u,o);function u(){return o!==null&&o.apply(this,arguments)||this}return u.prototype.count=function(a){return this.find(a).equals(this.end())?0:1},u.prototype.get=function(a){var l=this.find(a);if(l.equals(this.end())===!0)throw i.ErrorGenerator.key_nout_found(this,"get",a);return l.second},u.prototype.take=function(a,l){var h=this.find(a);return h.equals(this.end())?this.emplace(a,l()).first.second:h.second},u.prototype.set=function(a,l){this.insert_or_assign(a,l)},u.prototype.insert=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o.prototype.insert.apply(this,t([],e(a),!1))},u.prototype._Insert_by_range=function(a,l){for(var h=a;!h.equals(l);h=h.next())this.emplace(h.value.first,h.value.second)},u.prototype.insert_or_assign=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(a.length===2)return this._Insert_or_assign_with_key_value(a[0],a[1]);if(a.length===3)return this._Insert_or_assign_with_hint(a[0],a[1],a[2])},u.prototype._Insert_or_assign_with_key_value=function(a,l){var h=this.emplace(a,l);return h.second===!1&&(h.first.second=l),h},u.prototype._Insert_or_assign_with_hint=function(a,l,h){var c=this.emplace_hint(a,l,h);return c.second!==h&&(c.second=h),c},u.prototype.extract=function(a){return a instanceof this.end().constructor?this._Extract_by_iterator(a):this._Extract_by_key(a)},u.prototype._Extract_by_key=function(a){var l=this.find(a);if(l.equals(this.end())===!0)throw i.ErrorGenerator.key_nout_found(this,"extract",a);var h=l.value;return this._Erase_by_range(l),h},u.prototype._Extract_by_iterator=function(a){return a.equals(this.end())===!0?this.end():(this._Erase_by_range(a),a)},u.prototype._Erase_by_key=function(a){var l=this.find(a);return l.equals(this.end())===!0?0:(this._Erase_by_range(l),1)},u.prototype.merge=function(a){for(var l=a.begin();!l.equals(a.end());)this.has(l.first)===!1?(this.insert(l.value),l=a.erase(l)):l=l.next()},u}(r.MapContainer);return Rt.UniqueMap=s,Rt}var Sr={},bi;function rl(){return bi||(bi=1,function(n){var e=T&&T.__extends||function(){var u=function(a,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(h[f]=c[f])},u(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(a,l);function h(){this.constructor=a}a.prototype=l===null?Object.create(l):(h.prototype=l.prototype,new h)}}(),t=T&&T.__read||function(u,a){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var h=l.call(u),c,f=[],d;try{for(;(a===void 0||a-- >0)&&!(c=h.next()).done;)f.push(c.value)}catch(_){d={error:_}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(d)throw d.error}}return f};Object.defineProperty(n,"__esModule",{value:!0}),n.MapElementList=void 0;var r=Fo(),i=Wr(),s=Lo(),o=function(u){e(a,u);function a(l){var h=u.call(this)||this;return h.associative_=l,h}return a.prototype._Create_iterator=function(l,h,c){return a.Iterator.create(this,l,h,c)},a._Swap_associative=function(l,h){var c;c=t([h.associative_,l.associative_],2),l.associative_=c[0],h.associative_=c[1]},a.prototype.associative=function(){return this.associative_},a}(r.ListContainer);n.MapElementList=o,function(u){var a=function(h){e(c,h);function c(f,d,_,p){var v=h.call(this,d,_,p)||this;return v.list_=f,v}return c.create=function(f,d,_,p){return new c(f,d,_,p)},c.prototype.reverse=function(){return new l(this)},c.prototype.source=function(){return this.list_.associative()},Object.defineProperty(c.prototype,"first",{get:function(){return this.value.first},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"second",{get:function(){return this.value.second},set:function(f){this.value.second=f},enumerable:!1,configurable:!0}),c}(i.ListIterator);u.Iterator=a;var l=function(h){e(c,h);function c(){return h!==null&&h.apply(this,arguments)||this}return c.prototype._Create_neighbor=function(f){return new c(f)},Object.defineProperty(c.prototype,"first",{get:function(){return this.base_.first},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"second",{get:function(){return this.base_.second},set:function(f){this.base_.second=f},enumerable:!1,configurable:!0}),c}(s.ReverseIterator);u.ReverseIterator=l}(o=n.MapElementList||(n.MapElementList={})),n.MapElementList=o}(Sr)),Sr}var At={},mi;function nl(){if(mi)return At;mi=1;var n=T&&T.__extends||function(){var o=function(u,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])},o(u,a)};return function(u,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(u,a);function l(){this.constructor=u}u.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),e=T&&T.__read||function(o,u){var a=typeof Symbol=="function"&&o[Symbol.iterator];if(!a)return o;var l=a.call(o),h,c=[],f;try{for(;(u===void 0||u-- >0)&&!(h=l.next()).done;)c.push(h.value)}catch(d){f={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(f)throw f.error}}return c},t=T&&T.__values||function(o){var u=typeof Symbol=="function"&&Symbol.iterator,a=u&&o[u],l=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(At,"__esModule",{value:!0}),At.MapHashBuckets=void 0;var r=No(),i=function(o){n(u,o);function u(a,l,h){var c=o.call(this,s,l)||this;return c.source_=a,c.key_eq_=h,c}return u._Swap_source=function(a,l){var h;h=e([l.source_,a.source_],2),a.source_=h[0],l.source_=h[1]},u.prototype.key_eq=function(){return this.key_eq_},u.prototype.find=function(a){var l,h,c=this.hash_function()(a)%this.length(),f=this.at(c);try{for(var d=t(f),_=d.next();!_.done;_=d.next()){var p=_.value;if(this.key_eq_(p.first,a))return p}}catch(v){l={error:v}}finally{try{_&&!_.done&&(h=d.return)&&h.call(d)}finally{if(l)throw l.error}}return this.source_.end()},u}(r.HashBuckets);At.MapHashBuckets=i;function s(o){return o.first}return At}var Mt={},gi;function il(){if(gi)return Mt;gi=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.Entry=void 0;var n=zr(),e=Jr(),t=function(){function r(i,s){this.first=i,this.second=s}return r.prototype.equals=function(i){return(0,e.equal_to)(this.first,i.first)},r.prototype.less=function(i){return(0,e.less)(this.first,i.first)},r.prototype.hashCode=function(){return(0,n.hash)(this.first)},r}();return Mt.Entry=t,Mt}var ki;function ol(){return ki||(ki=1,function(n){var e=T&&T.__extends||function(){var c=function(f,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,p){_.__proto__=p}||function(_,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(_[v]=p[v])},c(f,d)};return function(f,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");c(f,d);function _(){this.constructor=f}f.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}(),t=T&&T.__read||function(c,f){var d=typeof Symbol=="function"&&c[Symbol.iterator];if(!d)return c;var _=d.call(c),p,v=[],b;try{for(;(f===void 0||f-- >0)&&!(p=_.next()).done;)v.push(p.value)}catch(E){b={error:E}}finally{try{p&&!p.done&&(d=_.return)&&d.call(_)}finally{if(b)throw b.error}}return v},r=T&&T.__spreadArray||function(c,f,d){if(d||arguments.length===2)for(var _=0,p=f.length,v;_<p;_++)(v||!(_ in f))&&(v||(v=Array.prototype.slice.call(f,0,_)),v[_]=f[_]);return c.concat(v||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.HashMap=void 0;var i=tl(),s=Do(),o=rl(),u=nl(),a=il(),l=Ho(),h=function(c){e(f,c);function f(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];var p=c.call(this,function(v){return new o.MapElementList(v)})||this;return s.IHashContainer.construct.apply(s.IHashContainer,r([p,f,function(v,b){p.buckets_=new u.MapHashBuckets(p,v,b)}],t(d),!1)),p}return f.prototype.clear=function(){this.buckets_.clear(),c.prototype.clear.call(this)},f.prototype.swap=function(d){var _,p;_=t([d.data_,this.data_],2),this.data_=_[0],d.data_=_[1],o.MapElementList._Swap_associative(this.data_,d.data_),u.MapHashBuckets._Swap_source(this.buckets_,d.buckets_),p=t([d.buckets_,this.buckets_],2),this.buckets_=p[0],d.buckets_=p[1]},f.prototype.find=function(d){return this.buckets_.find(d)},f.prototype.begin=function(d){return d===void 0&&(d=null),d===null?c.prototype.begin.call(this):this.buckets_.at(d)[0]},f.prototype.end=function(d){if(d===void 0&&(d=null),d===null)return c.prototype.end.call(this);var _=this.buckets_.at(d);return _[_.length-1].next()},f.prototype.rbegin=function(d){return d===void 0&&(d=null),this.end(d).reverse()},f.prototype.rend=function(d){return d===void 0&&(d=null),this.begin(d).reverse()},f.prototype.bucket_count=function(){return this.buckets_.length()},f.prototype.bucket_size=function(d){return this.buckets_.at(d).length},f.prototype.load_factor=function(){return this.buckets_.load_factor()},f.prototype.hash_function=function(){return this.buckets_.hash_function()},f.prototype.key_eq=function(){return this.buckets_.key_eq()},f.prototype.bucket=function(d){return this.hash_function()(d)%this.buckets_.length()},f.prototype.max_load_factor=function(d){return d===void 0&&(d=null),this.buckets_.max_load_factor(d)},f.prototype.reserve=function(d){this.buckets_.reserve(d)},f.prototype.rehash=function(d){this.buckets_.rehash(d)},f.prototype.emplace=function(d,_){var p=this.find(d);return p.equals(this.end())===!1?new l.Pair(p,!1):(this.data_.push(new a.Entry(d,_)),p=p.prev(),this._Handle_insert(p,p.next()),new l.Pair(p,!0))},f.prototype.emplace_hint=function(d,_,p){var v=this.find(_);return v.equals(this.end())===!0&&(v=this.data_.insert(d,new a.Entry(_,p)),this._Handle_insert(v,v.next())),v},f.prototype._Handle_insert=function(d,_){for(;!d.equals(_);d=d.next())this.buckets_.insert(d)},f.prototype._Handle_erase=function(d,_){for(;!d.equals(_);d=d.next())this.buckets_.erase(d)},f}(i.UniqueMap);n.HashMap=h,function(c){c.Iterator=o.MapElementList.Iterator,c.ReverseIterator=o.MapElementList.ReverseIterator}(h=n.HashMap||(n.HashMap={})),n.HashMap=h}(Er)),Er}var Oi;function sl(){if(Oi)return Qt;Oi=1;var n=T&&T.__values||function(i){var s=typeof Symbol=="function"&&i[Symbol.iterator],o=0;return s?s.call(i):{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}}};Object.defineProperty(Qt,"__esModule",{value:!0});var e=$u(),t=ol(),r=function(){function i(){this.listeners_=new t.HashMap,this.created_at_=new Date}return i.prototype.dispatchEvent=function(s){var o,u,a=this.listeners_.find(s.type);if(!a.equals(this.listeners_.end())){s.target=this,s.timeStamp=new Date().getTime()-this.created_at_.getTime();try{for(var l=n(a.second),h=l.next();!h.done;h=l.next()){var c=h.value;c(s)}}catch(f){o={error:f}}finally{try{h&&!h.done&&(u=l.return)&&u.call(l)}finally{if(o)throw o.error}}}},i.prototype.addEventListener=function(s,o){var u=this.listeners_.find(s);u.equals(this.listeners_.end())&&(u=this.listeners_.emplace(s,new e.HashSet).first),u.second.insert(o)},i.prototype.removeEventListener=function(s,o){var u=this.listeners_.find(s);u.equals(this.listeners_.end())||(u.second.erase(o),u.second.empty()&&this.listeners_.erase(u))},i}();return Qt.EventTarget=r,Qt}var Kt={},Ei;function cr(){if(Ei)return Kt;Ei=1,Object.defineProperty(Kt,"__esModule",{value:!0});var n=function(){function e(t,r){this.type=t,r&&Object.assign(this,r)}return e}();return Kt.Event=n,Kt}var Gt={},Si;function al(){if(Si)return Gt;Si=1;var n=T&&T.__extends||function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var a in u)u.hasOwnProperty(a)&&(o[a]=u[a])},r(i,s)};return function(i,s){r(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(Gt,"__esModule",{value:!0});var e=cr(),t=function(r){n(i,r);function i(s,o){return r.call(this,s,o)||this}return i}(e.Event);return Gt.CloseEvent=t,Gt}var Vt={},wi;function ul(){if(wi)return Vt;wi=1;var n=T&&T.__extends||function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var a in u)u.hasOwnProperty(a)&&(o[a]=u[a])},r(i,s)};return function(i,s){r(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(Vt,"__esModule",{value:!0});var e=cr(),t=function(r){n(i,r);function i(s,o){return r.call(this,s,o)||this}return i}(e.Event);return Vt.MessageEvent=t,Vt}var zt={},Ci;function ll(){if(Ci)return zt;Ci=1;var n=T&&T.__extends||function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var a in u)u.hasOwnProperty(a)&&(o[a]=u[a])},r(i,s)};return function(i,s){r(i,s);function o(){this.constructor=i}i.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)}}();Object.defineProperty(zt,"__esModule",{value:!0});var e=cr(),t=function(r){n(i,r);function i(s,o){return r.call(this,s,o)||this}return i}(e.Event);return zt.ErrorEvent=t,zt}var qi;function cl(){return qi||(qi=1,function(n){var e=T&&T.__extends||function(){var c=function(f,d){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,p){_.__proto__=p}||function(_,p){for(var v in p)p.hasOwnProperty(v)&&(_[v]=p[v])},c(f,d)};return function(f,d){c(f,d);function _(){this.constructor=f}f.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}(),t=T&&T.__assign||function(){return t=Object.assign||function(c){for(var f,d=1,_=arguments.length;d<_;d++){f=arguments[d];for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&(c[p]=f[p])}return c},t.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var r=Bu(),i=sl(),s=cr(),o=al(),u=ul(),a=ll(),l=function(c){e(f,c);function f(d,_){var p=c.call(this)||this;return p.on_={},p.state_=f.CONNECTING,p.client_=new r.client,p.client_.on("connect",p._Handle_connect.bind(p)),p.client_.on("connectFailed",p._Handle_error.bind(p)),typeof _=="string"&&(_=[_]),p.client_.connect(d,_),p}return f.prototype.close=function(d,_){this.state_=f.CLOSING,d===void 0?this.connection_.sendCloseFrame():this.connection_.sendCloseFrame(d,_,!0)},f.prototype.send=function(d){if(typeof d.valueOf()=="string")this.connection_.sendUTF(d);else{var _=void 0;d instanceof Buffer?_=d:d instanceof Blob?_=new Buffer(d,"blob"):d.buffer?_=new Buffer(d.buffer):_=new Buffer(d),this.connection_.sendBytes(_)}},Object.defineProperty(f.prototype,"url",{get:function(){return this.client_.url.href},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"protocol",{get:function(){return this.client_.protocols?this.client_.protocols[0]:""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"extensions",{get:function(){return this.connection_&&this.connection_.extensions?this.connection_.extensions[0].name:""},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"readyState",{get:function(){return this.state_},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"bufferedAmount",{get:function(){return this.connection_.bytesWaitingToFlush},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"binaryType",{get:function(){return"arraybuffer"},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"onopen",{get:function(){return this.on_.open},set:function(d){this._Set_on("open",d)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"onclose",{get:function(){return this.on_.close},set:function(d){this._Set_on("close",d)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"onmessage",{get:function(){return this.on_.message},set:function(d){this._Set_on("message",d)},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"onerror",{get:function(){return this.on_.error},set:function(d){this._Set_on("error",d)},enumerable:!0,configurable:!0}),f.prototype._Set_on=function(d,_){this.on_[d]&&this.removeEventListener(d,this.on_[d]),this.addEventListener(d,_),this.on_[d]=_},f.prototype._Handle_connect=function(d){this.connection_=d,this.state_=f.OPEN,this.connection_.on("message",this._Handle_message.bind(this)),this.connection_.on("error",this._Handle_error.bind(this)),this.connection_.on("close",this._Handle_close.bind(this));var _=new s.Event("open",h);this.dispatchEvent(_)},f.prototype._Handle_close=function(d,_){var p=new o.CloseEvent("close",t({},h,{code:d,reason:_}));this.state_=f.CLOSED,this.dispatchEvent(p)},f.prototype._Handle_message=function(d){var _=new u.MessageEvent("message",t({},h,{data:d.binaryData?d.binaryData:d.utf8Data}));this.dispatchEvent(_)},f.prototype._Handle_error=function(d){var _=new a.ErrorEvent("error",t({},h,{error:d,message:d.message}));this.state_===f.CONNECTING&&(this.state_=f.CLOSED),this.dispatchEvent(_)},f}(i.EventTarget);n.WebSocket=l,function(c){c.CONNECTING=0,c.OPEN=1,c.CLOSING=2,c.CLOSED=3}(l=n.WebSocket||(n.WebSocket={})),n.WebSocket=l;var h={bubbles:!1,cancelable:!1}}(_r)),_r}var fl=Ut;fl.is_node()&&(T.WebSocket=cl().WebSocket);const _c=it([]),pc=it(!1),vc=["wss://relay.nostr.band","wss://nostr.wine","wss://yabu.me","wss://universe.nostrich.land"];function Ii(n){let e,t,r,i,s=JSON.parse(n[1][0].value.metadata.content).picture,o,u,a,l,h,c,f,d,_,p,v=JSON.parse(n[1][0].value.metadata.content).about+"",b,E,O,k,q,S,M,A=JSON.stringify(n[1][0].value.metadata,void 0,4)+"",I,L,z,$,J,ue,_e,re,ve,ye,le,F,be,ee,X,se=n[0].buttonTextCancel+"",me,te,Se,Z=s&&Pi(n);return{c(){e=w("div"),t=w("div"),r=w("div"),i=w("div"),Z&&Z.c(),o=B(),u=w("div"),a=w("img"),h=B(),c=w("div"),f=w("div"),d=N("about"),_=B(),p=w("div"),b=N(v),E=B(),O=w("div"),k=w("div"),q=N("profileJSON"),S=B(),M=w("div"),I=N(A),L=B(),z=w("div"),$=w("div"),J=w("button"),ue=N("copy pubKey"),_e=B(),re=w("button"),ve=N("copy hexKey"),ye=B(),le=w("div"),F=w("button"),be=N("Open in external app"),ee=B(),X=w("button"),me=N(se),this.h()},l(Ce){e=C(Ce,"DIV",{class:!0});var P=R(e);t=C(P,"DIV",{class:!0});var ne=R(t);r=C(ne,"DIV",{class:!0});var Te=R(r);i=C(Te,"DIV",{class:!0});var st=R(i);Z&&Z.l(st),st.forEach(g),o=Q(Te),u=C(Te,"DIV",{});var je=R(u);a=C(je,"IMG",{class:!0,src:!0,alt:!0}),je.forEach(g),Te.forEach(g),h=Q(ne),c=C(ne,"DIV",{class:!0});var W=R(c);f=C(W,"DIV",{class:!0});var at=R(f);d=H(at,"about"),at.forEach(g),_=Q(W),p=C(W,"DIV",{class:!0});var ut=R(p);b=H(ut,v),ut.forEach(g),W.forEach(g),E=Q(ne),O=C(ne,"DIV",{class:!0});var Ge=R(O);k=C(Ge,"DIV",{class:!0});var ie=R(k);q=H(ie,"profileJSON"),ie.forEach(g),S=Q(Ge),M=C(Ge,"DIV",{class:!0});var lt=R(M);I=H(lt,A),lt.forEach(g),Ge.forEach(g),ne.forEach(g),L=Q(P),z=C(P,"DIV",{class:!0});var Ve=R(z);$=C(Ve,"DIV",{class:!0});var ze=R($);J=C(ze,"BUTTON",{type:!0,class:!0});var ct=R(J);ue=H(ct,"copy pubKey"),ct.forEach(g),_e=Q(ze),re=C(ze,"BUTTON",{type:!0,class:!0});var Je=R(re);ve=H(Je,"copy hexKey"),Je.forEach(g),ze.forEach(g),ye=Q(Ve),le=C(Ve,"DIV",{class:!0});var We=R(le);F=C(We,"BUTTON",{type:!0,class:!0});var ft=R(F);be=H(ft,"Open in external app"),ft.forEach(g),ee=Q(We),X=C(We,"BUTTON",{type:!0,class:!0});var Yr=R(X);me=H(Yr,se),Yr.forEach(g),We.forEach(g),Ve.forEach(g),P.forEach(g),this.h()},h(){y(i,"class","w-16 h-16 rounded-lg flex justify-center overflow-hidden bg-surface-500/25"),y(a,"class",""),pe(a.src,l=JSON.parse(n[1][0].value.metadata.content).banner)||y(a,"src",l),y(a,"alt",""),y(r,"class","grid grid-cols-[auto_1fr] gap-2 max-w-md"),y(f,"class","font-bold"),y(p,"class","break-all whitespace-pre-wrap text-sm max-h-32 overflow-auto"),y(c,"class","rounded-sm border-4 border-dotted border-surface-300 p-1"),y(k,"class","font-bold"),y(M,"class","break-all whitespace-pre-wrap text-sm max-h-24 overflow-auto"),y(O,"class","rounded-sm border-4 border-dotted border-surface-300 p-1"),y(t,"class","grid grid-row-[auto_auto_auto] gap-1 max-w-md"),y(J,"type","button"),y(J,"class","btn variant-filled-secondary p-1"),y(re,"type","button"),y(re,"class","btn variant-filled-secondary p-1"),y($,"class","grid grid-row-[auto_auto] gap-2"),y(F,"type","button"),y(F,"class","btn variant-filled-surface p-2"),y(X,"type","button"),y(X,"class","btn variant-filled-surface p-2"),y(le,"class","grid grid-row-[auto_auto] gap-2"),y(z,"class","grid grid-cols-[auto_auto] gap-2"),y(e,"class","modal-example-form "+dl+" svelte-1wtdwek")},m(Ce,P){j(Ce,e,P),m(e,t),m(t,r),m(r,i),Z&&Z.m(i,null),m(r,o),m(r,u),m(u,a),m(t,h),m(t,c),m(c,f),m(f,d),m(c,_),m(c,p),m(p,b),m(t,E),m(t,O),m(O,k),m(k,q),m(O,S),m(O,M),m(M,I),m(e,L),m(e,z),m(z,$),m($,J),m(J,ue),m($,_e),m($,re),m(re,ve),m(z,ye),m(z,le),m(le,F),m(F,be),m(le,ee),m(le,X),m(X,me),te||(Se=[G(J,"click",n[3]),G(re,"click",n[4]),G(F,"click",n[5]),G(X,"click",function(){ir(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],te=!0)},p(Ce,P){n=Ce,P&2&&(s=JSON.parse(n[1][0].value.metadata.content).picture),s?Z?Z.p(n,P):(Z=Pi(n),Z.c(),Z.m(i,null)):Z&&(Z.d(1),Z=null),P&2&&!pe(a.src,l=JSON.parse(n[1][0].value.metadata.content).banner)&&y(a,"src",l),P&2&&v!==(v=JSON.parse(n[1][0].value.metadata.content).about+"")&&V(b,v),P&2&&A!==(A=JSON.stringify(n[1][0].value.metadata,void 0,4)+"")&&V(I,A),P&1&&se!==(se=n[0].buttonTextCancel+"")&&V(me,se)},d(Ce){Ce&&g(e),Z&&Z.d(),te=!1,Ne(Se)}}}function Pi(n){let e,t;return{c(){e=w("img"),this.h()},l(r){e=C(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){y(e,"class","w-16 object-contain justify-center"),pe(e.src,t=JSON.parse(n[1][0].value.metadata.content).picture)||y(e,"src",t),y(e,"alt","avatar")},m(r,i){j(r,e,i)},p(r,i){i&2&&!pe(e.src,t=JSON.parse(r[1][0].value.metadata.content).picture)&&y(e,"src",t)},d(r){r&&g(e)}}}function hl(n){let e,t=n[1][0]&&Ii(n);return{c(){t&&t.c(),e=Y()},l(r){t&&t.l(r),e=Y()},m(r,i){t&&t.m(r,i),j(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=Ii(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:K,o:K,d(r){t&&t.d(r),r&&g(e)}}}const dl="card p-4  shadow-xl space-y-4 break-all";function _l(n,e,t){let r;et(n,qe,l=>t(1,r=l));let{parent:i}=e;function s(l){var c,f;const h=l==="npub"?x.npubEncode((c=r[0])==null?void 0:c.value.pubkey):(f=r[0])==null?void 0:f.value.pubkey;navigator.clipboard.writeText(h).then(()=>{console.log(`copied: ${h.slice(0,15)}...`);const d={message:`copied: ${h.slice(0,15)}...`,timeout:3e3};xt.trigger(d)},()=>{console.log("コピー失敗");const d={message:"failed to copy",timeout:3e3,background:"bg-orange-500 text-white width-filled "};xt.trigger(d)}),i.onClose()}const o=()=>s("npub"),u=()=>s("hex"),a=()=>{var l;window.open("https://nostr.com/"+x.npubEncode((l=r[0])==null?void 0:l.value.pubkey),"_blank"),i.onClose()};return n.$$set=l=>{"parent"in l&&t(0,i=l.parent)},[i,r,s,o,u,a]}class pl extends Ie{constructor(e){super(),Pe(this,e,_l,hl,we,{parent:0})}}function Ri(n){let e,t,r=(n[1][0].title??"(title missing)")+"",i,s,o,u=JSON.stringify(n[1][0].value.note,void 0,4)+"",a,l,h,c,f,d,_,p,v,b,E,O=n[0].buttonTextCancel+"",k,q,S,M;return{c(){e=w("div"),t=w("header"),i=N(r),s=B(),o=w("div"),a=N(u),l=B(),h=w("footer"),c=w("div"),f=w("button"),d=N("copy noteID"),_=B(),p=w("button"),v=N("copy hexID"),b=B(),E=w("button"),k=N(O),this.h()},l(A){e=C(A,"DIV",{class:!0});var I=R(e);t=C(I,"HEADER",{class:!0});var L=R(t);i=H(L,r),L.forEach(g),s=Q(I),o=C(I,"DIV",{class:!0});var z=R(o);a=H(z,u),z.forEach(g),l=Q(I),h=C(I,"FOOTER",{class:!0});var $=R(h);c=C($,"DIV",{class:!0});var J=R(c);f=C(J,"BUTTON",{type:!0,class:!0});var ue=R(f);d=H(ue,"copy noteID"),ue.forEach(g),_=Q(J),p=C(J,"BUTTON",{type:!0,class:!0});var _e=R(p);v=H(_e,"copy hexID"),_e.forEach(g),b=Q(J),E=C(J,"BUTTON",{type:!0,class:!0});var re=R(E);k=H(re,O),re.forEach(g),J.forEach(g),$.forEach(g),I.forEach(g),this.h()},h(){y(t,"class",bl),y(o,"class","bg-surface-50-900-token break-words whitespace-pre-wrap max-h-60 overflow-auto"),y(f,"type","button"),y(f,"class","btn variant-filled-secondary p-1"),y(p,"type","button"),y(p,"class","btn variant-filled-secondary p-1"),y(E,"type","button"),y(E,"class","btn variant-filled-surface p-2"),y(c,"class","flex flex-wrap gap-2"),y(h,"class",q="modal-footer "+n[0].regionFooter),y(e,"class","modal-example-form "+yl+" bg-surface-200-700-token")},m(A,I){j(A,e,I),m(e,t),m(t,i),m(e,s),m(e,o),m(o,a),m(e,l),m(e,h),m(h,c),m(c,f),m(f,d),m(c,_),m(c,p),m(p,v),m(c,b),m(c,E),m(E,k),S||(M=[G(f,"click",n[3]),G(p,"click",n[4]),G(E,"click",function(){ir(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],S=!0)},p(A,I){n=A,I&2&&r!==(r=(n[1][0].title??"(title missing)")+"")&&V(i,r),I&2&&u!==(u=JSON.stringify(n[1][0].value.note,void 0,4)+"")&&V(a,u),I&1&&O!==(O=n[0].buttonTextCancel+"")&&V(k,O),I&1&&q!==(q="modal-footer "+n[0].regionFooter)&&y(h,"class",q)},d(A){A&&g(e),S=!1,Ne(M)}}}function vl(n){let e,t=n[1][0]&&Ri(n);return{c(){t&&t.c(),e=Y()},l(r){t&&t.l(r),e=Y()},m(r,i){t&&t.m(r,i),j(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=Ri(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:K,o:K,d(r){t&&t.d(r),r&&g(e)}}}const yl="card p-4  shadow-xl space-y-4 break-all",bl="text-2xl font-bold";function ml(n,e,t){let r;et(n,qe,a=>t(1,r=a));let{parent:i}=e;function s(a){var h,c;const l=a==="note"?x.noteEncode((h=r[0])==null?void 0:h.value.note.id):(c=r[0])==null?void 0:c.value.note.id;navigator.clipboard.writeText(l).then(()=>{console.log(`copied: ${l.slice(0,15)}...`);const f={message:`copied: ${l.slice(0,15)}...`,timeout:3e3};xt.trigger(f)},()=>{console.log("コピー失敗");const f={message:"failed to copy",timeout:3e3,background:"bg-orange-500 text-white width-filled "};xt.trigger(f)}),i.onClose()}const o=()=>s("note"),u=()=>s("hex");return n.$$set=a=>{"parent"in a&&t(0,i=a.parent)},[i,r,s,o,u]}class yc extends Ie{constructor(e){super(),Pe(this,e,ml,vl,we,{parent:0})}}function Ti(n){let e,t,r=(n[3][0].title??"(title missing)")+"",i,s,o,u=(n[3][0].body??"(body missing)")+"",a,l,h,c,f,d,_,p,v,b=n[2].kind+"",E,O,k,q,S,M,A,I,L=n[2].content+"",z,$,J,ue,_e,re,ve,ye=n[2].tags+"",le,F,be,ee,X,se=n[0].buttonTextCancel+"",me,te,Se,Z,Ce,P,ne,Te,st;return{c(){e=w("div"),t=w("header"),i=N(r),s=B(),o=w("article"),a=N(u),l=B(),h=w("label"),c=w("textarea"),f=B(),d=w("div"),_=w("b"),p=N("kind:"),v=B(),E=N(b),O=w("br"),k=B(),q=w("b"),S=N("content:"),M=w("br"),A=B(),I=w("span"),z=N(L),$=w("br"),J=B(),ue=w("b"),_e=N("tags:"),re=w("br"),ve=N(`
      [`),le=N(ye),F=N("]"),be=B(),ee=w("footer"),X=w("button"),me=N(se),Se=B(),Z=w("button"),Ce=N("Post Note"),this.h()},l(je){e=C(je,"DIV",{class:!0});var W=R(e);t=C(W,"HEADER",{class:!0});var at=R(t);i=H(at,r),at.forEach(g),s=Q(W),o=C(W,"ARTICLE",{class:!0});var ut=R(o);a=H(ut,u),ut.forEach(g),l=Q(W),h=C(W,"LABEL",{class:!0});var Ge=R(h);c=C(Ge,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),R(c).forEach(g),Ge.forEach(g),f=Q(W),d=C(W,"DIV",{class:!0});var ie=R(d);_=C(ie,"B",{});var lt=R(_);p=H(lt,"kind:"),lt.forEach(g),v=Q(ie),E=H(ie,b),O=C(ie,"BR",{}),k=Q(ie),q=C(ie,"B",{});var Ve=R(q);S=H(Ve,"content:"),Ve.forEach(g),M=C(ie,"BR",{}),A=Q(ie),I=C(ie,"SPAN",{class:!0});var ze=R(I);z=H(ze,L),ze.forEach(g),$=C(ie,"BR",{}),J=Q(ie),ue=C(ie,"B",{});var ct=R(ue);_e=H(ct,"tags:"),ct.forEach(g),re=C(ie,"BR",{}),ve=H(ie,`
      [`),le=H(ie,ye),F=H(ie,"]"),ie.forEach(g),be=Q(W),ee=C(W,"FOOTER",{class:!0});var Je=R(ee);X=C(Je,"BUTTON",{class:!0});var We=R(X);me=H(We,se),We.forEach(g),Se=Q(Je),Z=C(Je,"BUTTON",{class:!0});var ft=R(Z);Ce=H(ft,"Post Note"),ft.forEach(g),Je.forEach(g),W.forEach(g),this.h()},h(){y(t,"class",Ol),y(o,"class","body"),y(c,"class","textarea"),y(c,"rows","5"),y(c,"placeholder","Lorem ipsum dolor sit amet consectetur adipisicing elit."),y(h,"class","label break-all whitespace-pre-wrap"),y(I,"class","whitespace-pre-wrap"),y(d,"class","break-all text-sm"),y(X,"class",te="btn "+n[0].buttonNeutral),y(Z,"class",P="btn "+n[0].buttonPositive),y(ee,"class",ne="modal-footer "+n[0].regionFooter),y(e,"class","modal-example-form "+kl)},m(je,W){j(je,e,W),m(e,t),m(t,i),m(e,s),m(e,o),m(o,a),m(e,l),m(e,h),m(h,c),Xt(c,n[1].content),m(e,f),m(e,d),m(d,_),m(_,p),m(d,v),m(d,E),m(d,O),m(d,k),m(d,q),m(q,S),m(d,M),m(d,A),m(d,I),m(I,z),m(d,$),m(d,J),m(d,ue),m(ue,_e),m(d,re),m(d,ve),m(d,le),m(d,F),m(e,be),m(e,ee),m(ee,X),m(X,me),m(ee,Se),m(ee,Z),m(Z,Ce),Te||(st=[G(c,"input",n[5]),G(X,"click",function(){ir(n[0].onClose)&&n[0].onClose.apply(this,arguments)}),G(Z,"click",n[4])],Te=!0)},p(je,W){n=je,W&8&&r!==(r=(n[3][0].title??"(title missing)")+"")&&V(i,r),W&8&&u!==(u=(n[3][0].body??"(body missing)")+"")&&V(a,u),W&2&&Xt(c,n[1].content),W&4&&b!==(b=n[2].kind+"")&&V(E,b),W&4&&L!==(L=n[2].content+"")&&V(z,L),W&4&&ye!==(ye=n[2].tags+"")&&V(le,ye),W&1&&se!==(se=n[0].buttonTextCancel+"")&&V(me,se),W&1&&te!==(te="btn "+n[0].buttonNeutral)&&y(X,"class",te),W&1&&P!==(P="btn "+n[0].buttonPositive)&&y(Z,"class",P),W&1&&ne!==(ne="modal-footer "+n[0].regionFooter)&&y(ee,"class",ne)},d(je){je&&g(e),Te=!1,Ne(st)}}}function gl(n){let e,t=n[3][0]&&Ti(n);return{c(){t&&t.c(),e=Y()},l(r){t&&t.l(r),e=Y()},m(r,i){t&&t.m(r,i),j(r,e,i)},p(r,[i]){r[3][0]?t?t.p(r,i):(t=Ti(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:K,o:K,d(r){t&&t.d(r),r&&g(e)}}}const kl="card p-4 w-modal shadow-xl space-y-4",Ol="text-2xl font-bold";function El(n,e,t){let r;et(n,qe,l=>t(3,r=l));let{parent:i}=e,s={kind:1,tags:r[0].value.tags,content:r[0].value.content},o={content:r[0].value.content};function u(){o.content===void 0&&t(1,o.content="",o),r[0].response&&r[0].response(o),qe.close()}function a(){o.content=this.value,t(1,o)}return n.$$set=l=>{"parent"in l&&t(0,i=l.parent)},n.$$.update=()=>{n.$$.dirty&2&&t(2,s.content=o.content,s)},[i,o,s,r,u,a]}class bc extends Ie{constructor(e){super(),Pe(this,e,El,gl,we,{parent:0})}}const Ai=/(:[^:\s]+:)/,Mi=/(https?:\/\/[^\s"'<`]+)/,ji=/\.(?:jpg|jpeg|png|gif|webp)$/i,Sl=/(<marquee\b[^>]*>)/i,wl=/(<\/marquee>)/i,Di=/(\r\n|\n|\r)/,Fi=/(\\s+)/,Cl=/(nostr:[A-Za-z0-9]+(?= |　))/,ql=/(nostr:[A-Za-z0-9])/;async function Li(n,e){var u;const t=e.filter(a=>a[0]==="emoji");let r=[];t.length>0&&r.push(Ai.source),r.push(wl.source),r.push(Cl.source),r.push(Mi.source),r.push(ji.source),r.push(Sl.source),r.push(Fi.source),r.push(Di.source);const i=new RegExp(r.join("|"),"g"),s=n.split(i||" "),o=[];for(let a of s)if(a!==void 0)if(a.match(ql)){const l=a.indexOf("nostr:"),h=a.slice(0,l),c=a.slice(l);o.push({content:h,type:"text",marquee:""}),o.push({content:c,type:"nostr",url:c.slice(6),marquee:""})}else if(t.length>0&&a.match(Ai)){const l=(u=t.find(h=>`:${h[1]}:`===a))==null?void 0:u[2];l?o.push({content:a,type:"emoji",url:l,marquee:""}):o.push({content:a,type:"text",marquee:""})}else a.match(Mi)?a.match(ji)?o.push({content:a,type:"image",marquee:""}):o.push({content:a,type:"url",marquee:""}):a.match(Di)?o.push({content:"",type:"newline",marquee:""}):a.match(Fi)?o.push({content:"",type:"space",marquee:""}):o.push({content:a,type:"text",marquee:""});return console.log(o),o}function Ni(n){let e,t,r,i,s,o,u=n[0].buttonTextCancel+"",a,l,h,c,f;return{c(){e=w("div"),t=w("img"),i=B(),s=w("footer"),o=w("button"),a=N(u),this.h()},l(d){e=C(d,"DIV",{class:!0});var _=R(e);t=C(_,"IMG",{src:!0,alt:!0,class:!0}),i=Q(_),s=C(_,"FOOTER",{class:!0});var p=R(s);o=C(p,"BUTTON",{class:!0});var v=R(o);a=H(v,u),v.forEach(g),p.forEach(g),_.forEach(g),this.h()},h(){var d;pe(t.src,r=(d=n[1][0])==null?void 0:d.image)||y(t,"src",r),y(t,"alt",""),y(t,"class","svelte-1scgpoe"),y(o,"class",l="btn "+n[0].buttonNeutral),y(s,"class",h="modal-footer "+n[0].regionFooter),y(e,"class","modal-example-form "+Pl)},m(d,_){j(d,e,_),m(e,t),m(e,i),m(e,s),m(s,o),m(o,a),c||(f=[G(t,"click",n[2]),G(o,"click",function(){ir(n[0].onClose)&&n[0].onClose.apply(this,arguments)})],c=!0)},p(d,_){var p;n=d,_&2&&!pe(t.src,r=(p=n[1][0])==null?void 0:p.image)&&y(t,"src",r),_&1&&u!==(u=n[0].buttonTextCancel+"")&&V(a,u),_&1&&l!==(l="btn "+n[0].buttonNeutral)&&y(o,"class",l),_&1&&h!==(h="modal-footer "+n[0].regionFooter)&&y(s,"class",h)},d(d){d&&g(e),c=!1,Ne(f)}}}function Il(n){let e,t=n[1][0]&&Ni(n);return{c(){t&&t.c(),e=Y()},l(r){t&&t.l(r),e=Y()},m(r,i){t&&t.m(r,i),j(r,e,i)},p(r,[i]){r[1][0]?t?t.p(r,i):(t=Ni(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:K,o:K,d(r){t&&t.d(r),r&&g(e)}}}const Pl="card p-4  shadow-xl space-y-4 break-all";function Rl(n,e,t){let r;et(n,qe,o=>t(1,r=o));let{parent:i}=e;function s(){var o;window.open((o=r[0])==null?void 0:o.image,"_blank")}return n.$$set=o=>{"parent"in o&&t(0,i=o.parent)},[i,r,s]}class Tl extends Ie{constructor(e){super(),Pe(this,e,Rl,Il,we,{parent:0})}}function Hi(n,e,t){const r=n.slice();return r[14]=e[t],r[16]=t,r}function Al(n){return{c:K,l:K,m:K,p:K,i:K,o:K,d:K}}function Ml(n){let e,t,r=n[13],i=[];for(let o=0;o<r.length;o+=1)i[o]=zi(Hi(n,r,o));const s=o=>U(i[o],1,1,()=>{i[o]=null});return{c(){e=w("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var u=R(e);for(let a=0;a<i.length;a+=1)i[a].l(u);u.forEach(g),this.h()},h(){y(e,"class","parent-container break-all whitespace-pre-wrap")},m(o,u){j(o,e,u);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(o,u){if(u&131103){r=o[13];let a;for(a=0;a<r.length;a+=1){const l=Hi(o,r,a);i[a]?(i[a].p(l,u),D(i[a],1)):(i[a]=zi(l),i[a].c(),D(i[a],1),i[a].m(e,null))}for(Oe(),a=r.length;a<i.length;a+=1)s(a);Ee()}},i(o){if(!t){for(let u=0;u<r.length;u+=1)D(i[u]);t=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)U(i[u]);t=!1},d(o){o&&g(e),Yo(i,o)}}}function jl(n){let e,t,r=n[14].content+"",i,s,o,u=n[14].beforeSpace&&Ui(n);return{c(){e=w("div"),u&&u.c(),t=B(),i=N(r),s=B(),this.h()},l(a){e=C(a,"DIV",{class:!0});var l=R(e);u&&u.l(l),t=Q(l),i=H(l,r),s=Q(l),l.forEach(g),this.h()},h(){y(e,"class",o=n[14].marquee+" break-all whitespace-pre-wrap w-[fix-content ] inline-flex")},m(a,l){j(a,e,l),u&&u.m(e,null),m(e,t),m(e,i),m(e,s)},p(a,l){a[14].beforeSpace?u?u.p(a,l):(u=Ui(a),u.c(),u.m(e,t)):u&&(u.d(1),u=null),l&3&&r!==(r=a[14].content+"")&&V(i,r),l&3&&o!==(o=a[14].marquee+" break-all whitespace-pre-wrap w-[fix-content ] inline-flex")&&y(e,"class",o)},i:K,o:K,d(a){a&&g(e),u&&u.d()}}}function Dl(n){let e,t,r,i,s;const o=[Ql,Bl],u=[];function a(l,h){return h&3&&(e=null),e==null&&(e=!!l[4](l[14].url)),e?0:1}return t=a(n,-1),r=u[t]=o[t](n),{c(){r.c(),i=Y()},l(l){r.l(l),i=Y()},m(l,h){u[t].m(l,h),j(l,i,h),s=!0},p(l,h){let c=t;t=a(l,h),t===c?u[t].p(l,h):(Oe(),U(u[c],1,1,()=>{u[c]=null}),Ee(),r=u[t],r?r.p(l,h):(r=u[t]=o[t](l),r.c()),D(r,1),r.m(i.parentNode,i))},i(l){s||(D(r),s=!0)},o(l){U(r),s=!1},d(l){u[t].d(l),l&&g(i)}}}function Fl(n){let e,t,r,i,s,o,u,a,l=n[14].beforeSpace&&Ki(n);function h(){return n[6](n[14])}return{c(){e=w("div"),l&&l.c(),t=B(),r=w("img"),s=B(),this.h()},l(c){e=C(c,"DIV",{class:!0});var f=R(e);l&&l.l(f),t=Q(f),r=C(f,"IMG",{class:!0,src:!0,alt:!0}),s=Q(f),f.forEach(g),this.h()},h(){y(r,"class","max-h-[10em] object-contain"),pe(r.src,i=n[14].content)||y(r,"src",i),y(r,"alt",""),y(e,"class",o=""+n[14].marquee+" w-[fit-content] inline-flex")},m(c,f){j(c,e,f),l&&l.m(e,null),m(e,t),m(e,r),m(e,s),u||(a=G(r,"click",h),u=!0)},p(c,f){n=c,n[14].beforeSpace?l?l.p(n,f):(l=Ki(n),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f&3&&!pe(r.src,i=n[14].content)&&y(r,"src",i),f&3&&o!==(o=""+n[14].marquee+" w-[fit-content] inline-flex")&&y(e,"class",o)},i:K,o:K,d(c){c&&g(e),l&&l.d(),u=!1,a()}}}function Ll(n){let e,t,r,i,s,o,u=n[14].beforeSpace&&Gi(n);function a(c,f){return c[14].content.length>80?tc:ec}let l=a(n),h=l(n);return{c(){e=w("div"),u&&u.c(),t=B(),r=w("a"),h.c(),s=B(),this.h()},l(c){e=C(c,"DIV",{class:!0});var f=R(e);u&&u.l(f),t=Q(f),r=C(f,"A",{class:!0,href:!0,target:!0});var d=R(r);h.l(d),d.forEach(g),s=Q(f),f.forEach(g),this.h()},h(){y(r,"class","anchor"),y(r,"href",i=n[14].content),y(r,"target","_blank"),y(e,"class",o=n[14].marquee+" w-[fit-content] break-all whitespace-pre-wrap inline-flex flex")},m(c,f){j(c,e,f),u&&u.m(e,null),m(e,t),m(e,r),h.m(r,null),m(e,s)},p(c,f){c[14].beforeSpace?u?u.p(c,f):(u=Gi(c),u.c(),u.m(e,t)):u&&(u.d(1),u=null),l===(l=a(c))&&h?h.p(c,f):(h.d(1),h=l(c),h&&(h.c(),h.m(r,null))),f&3&&i!==(i=c[14].content)&&y(r,"href",i),f&3&&o!==(o=c[14].marquee+" w-[fit-content] break-all whitespace-pre-wrap inline-flex flex")&&y(e,"class",o)},i:K,o:K,d(c){c&&g(e),u&&u.d(),h.d()}}}function Nl(n){let e,t,r,i,s,o,u,a,l=n[14].beforeSpace&&Vi(n);function h(){return n[5](n[14])}return{c(){e=w("div"),l&&l.c(),t=B(),r=w("img"),s=B(),this.h()},l(c){e=C(c,"DIV",{class:!0});var f=R(e);l&&l.l(f),t=Q(f),r=C(f,"IMG",{class:!0,src:!0,alt:!0}),s=Q(f),f.forEach(g),this.h()},h(){y(r,"class","max-h-[1.5em] inline object-contain align-bottom"),pe(r.src,i=n[14].url)||y(r,"src",i),y(r,"alt",""),y(e,"class",o=n[14].marquee+" w-[fit-content] break-all whitespace-pre-wrap inline-flex flex align-bottom")},m(c,f){j(c,e,f),l&&l.m(e,null),m(e,t),m(e,r),m(e,s),u||(a=G(r,"click",h),u=!0)},p(c,f){n=c,n[14].beforeSpace?l?l.p(n,f):(l=Vi(n),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f&3&&!pe(r.src,i=n[14].url)&&y(r,"src",i),f&3&&o!==(o=n[14].marquee+" w-[fit-content] break-all whitespace-pre-wrap inline-flex flex align-bottom")&&y(e,"class",o)},i:K,o:K,d(c){c&&g(e),l&&l.d(),u=!1,a()}}}function Hl(n){let e;return{c(){e=N(" ")},l(t){e=H(t," ")},m(t,r){j(t,e,r)},p:K,i:K,o:K,d(t){t&&g(e)}}}function Ul(n){let e;return{c(){e=w("br")},l(t){e=C(t,"BR",{})},m(t,r){j(t,e,r)},p:K,i:K,o:K,d(t){t&&g(e)}}}function Ui(n){let e=Array(n[14].beforeSpace).fill(" ").join("")+"",t;return{c(){t=N(e)},l(r){t=H(r,e)},m(r,i){j(r,t,i)},p(r,i){i&3&&e!==(e=Array(r[14].beforeSpace).fill(" ").join("")+"")&&V(t,e)},d(r){r&&g(t)}}}function Bl(n){let e,t=n[14].content+"",r;return{c(){e=w("span"),r=N(t),this.h()},l(i){e=C(i,"SPAN",{class:!0});var s=R(e);r=H(s,t),s.forEach(g),this.h()},h(){y(e,"class","text-black/80")},m(i,s){j(i,e,s),m(e,r)},p(i,s){s&3&&t!==(t=i[14].content+"")&&V(r,t)},i:K,o:K,d(i){i&&g(e)}}}function Ql(n){let e,t,r,i,s,o,u,a,l;const h=[Jl,zl,Vl,Gl,Kl],c=[];function f(d,_){return _&3&&(e=null),_&3&&(t=null),_&3&&(r=null),_&3&&(i=null),_&3&&(s=null),e==null&&(e=x.decode(d[14].url).type==="note"),e?0:(t==null&&(t=x.decode(d[14].url).type==="nevent"),t?1:(r==null&&(r=x.decode(d[14].url).type==="npub"),r?2:(i==null&&(i=x.decode(d[14].url).type==="nprofile"),i?3:(s==null&&(s=x.decode(d[14].url).type==="naddr"),s?4:-1))))}return~(o=f(n,-1))&&(u=c[o]=h[o](n)),{c(){u&&u.c(),a=Y()},l(d){u&&u.l(d),a=Y()},m(d,_){~o&&c[o].m(d,_),j(d,a,_),l=!0},p(d,_){let p=o;o=f(d,_),o===p?~o&&c[o].p(d,_):(u&&(Oe(),U(c[p],1,1,()=>{c[p]=null}),Ee()),~o?(u=c[o],u?u.p(d,_):(u=c[o]=h[o](d),u.c()),D(u,1),u.m(a.parentNode,a)):u=null)},i(d){l||(D(u),l=!0)},o(d){U(u),l=!1},d(d){~o&&c[o].d(d),d&&g(a)}}}function Kl(n){let e,t=n[14].url.slice(0,20)+"",r,i;return{c(){e=w("span"),r=N(t),i=N(`...
            `),this.h()},l(s){e=C(s,"SPAN",{class:!0});var o=R(e);r=H(o,t),i=H(o,`...
            `),o.forEach(g),this.h()},h(){y(e,"class","text-black/80")},m(s,o){j(s,e,o),m(e,r),m(e,i)},p(s,o){o&3&&t!==(t=s[14].url.slice(0,20)+"")&&V(r,t)},i:K,o:K,d(s){s&&g(e)}}}function Gl(n){let e,t;return e=new ur({props:{queryKey:["metadata",x.decode(n[14].url).data.pubkey],pubkey:x.decode(n[14].url).data.pubkey,$$slots:{default:[Wl,({metadata:r})=>({17:r}),({metadata:r})=>r?131072:0]},$$scope:{ctx:n}}}),{c(){De(e.$$.fragment)},l(r){Ke(e.$$.fragment,r)},m(r,i){Fe(e,r,i),t=!0},p(r,i){const s={};i&3&&(s.queryKey=["metadata",x.decode(r[14].url).data.pubkey]),i&3&&(s.pubkey=x.decode(r[14].url).data.pubkey),i&393219&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){Le(e,r)}}}function Vl(n){let e,t;return e=new ur({props:{queryKey:["metadata",x.decode(n[14].url).data],pubkey:x.decode(n[14].url).data,$$slots:{default:[Yl,({metadata:r})=>({17:r}),({metadata:r})=>r?131072:0]},$$scope:{ctx:n}}}),{c(){De(e.$$.fragment)},l(r){Ke(e.$$.fragment,r)},m(r,i){Fe(e,r,i),t=!0},p(r,i){const s={};i&3&&(s.queryKey=["metadata",x.decode(r[14].url).data]),i&3&&(s.pubkey=x.decode(r[14].url).data),i&393219&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){Le(e,r)}}}function zl(n){let e,t,r,i,s;return r=new To({props:{queryKey:[x.decode(n[14].url).data.id],id:x.decode(n[14].url).data.id,$$slots:{default:[Zl,({text:o})=>({1:o}),({text:o})=>o?2:0]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("div"),De(r.$$.fragment),i=B(),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=R(e);t=C(u,"DIV",{class:!0,style:!0});var a=R(t);Ke(r.$$.fragment,a),a.forEach(g),i=Q(u),u.forEach(g),this.h()},h(){y(t,"class","grid grid-cols-[auto_1fr] gap-1"),Wi(t,"margin-bottom","-25px"),y(e,"class","card border border-surface-400 bg-surface-200/50 p-2")},m(o,u){j(o,e,u),m(e,t),Fe(r,t,null),m(e,i),s=!0},p(o,u){const a={};u&3&&(a.queryKey=[x.decode(o[14].url).data.id]),u&3&&(a.id=x.decode(o[14].url).data.id),u&262146&&(a.$$scope={dirty:u,ctx:o}),r.$set(a)},i(o){s||(D(r.$$.fragment,o),s=!0)},o(o){U(r.$$.fragment,o),s=!1},d(o){o&&g(e),Le(r)}}}function Jl(n){let e,t,r,i,s;return r=new To({props:{queryKey:[x.decode(n[14].url).data],id:x.decode(n[14].url).data,$$slots:{default:[$l,({text:o})=>({1:o}),({text:o})=>o?2:0]},$$scope:{ctx:n}}}),{c(){e=w("div"),t=w("div"),De(r.$$.fragment),i=B(),this.h()},l(o){e=C(o,"DIV",{class:!0});var u=R(e);t=C(u,"DIV",{class:!0,style:!0});var a=R(t);Ke(r.$$.fragment,a),a.forEach(g),i=Q(u),u.forEach(g),this.h()},h(){y(t,"class","grid grid-cols-[auto_1fr] gap-1"),Wi(t,"margin-bottom","-25px"),y(e,"class","card border border-surface-400 bg-surface-200/50 p-2 my-1")},m(o,u){j(o,e,u),m(e,t),Fe(r,t,null),m(e,i),s=!0},p(o,u){const a={};u&3&&(a.queryKey=[x.decode(o[14].url).data]),u&3&&(a.id=x.decode(o[14].url).data),u&262146&&(a.$$scope={dirty:u,ctx:o}),r.$set(a)},i(o){s||(D(r.$$.fragment,o),s=!0)},o(o){U(r.$$.fragment,o),s=!1},d(o){o&&g(e),Le(r)}}}function Wl(n){let e,t,r,i=JSON.parse(n[17].content).name+"",s,o,u,a;function l(){return n[10](n[17],n[14])}return{c(){e=w("button"),t=N("@"),r=w("u"),s=N(i),o=B(),this.h()},l(h){e=C(h,"BUTTON",{class:!0});var c=R(e);t=H(c,"@"),r=C(c,"U",{});var f=R(r);s=H(f,i),f.forEach(g),c.forEach(g),o=Q(h),this.h()},h(){y(e,"class","inline-flex text-sm text-black/80")},m(h,c){j(h,e,c),m(e,t),m(e,r),m(r,s),j(h,o,c),u||(a=G(e,"click",l),u=!0)},p(h,c){n=h,c&131072&&i!==(i=JSON.parse(n[17].content).name+"")&&V(s,i)},d(h){h&&g(e),h&&g(o),u=!1,a()}}}function Yl(n){let e,t,r,i=JSON.parse(n[17].content).name+"",s,o,u,a;function l(){return n[9](n[17],n[14])}return{c(){e=w("button"),t=N("@"),r=w("u"),s=N(i),o=B(),this.h()},l(h){e=C(h,"BUTTON",{class:!0});var c=R(e);t=H(c,"@"),r=C(c,"U",{});var f=R(r);s=H(f,i),f.forEach(g),c.forEach(g),o=Q(h),this.h()},h(){y(e,"class","inline-flex text-sm text-black/80")},m(h,c){j(h,e,c),m(e,t),m(e,r),m(r,s),j(h,o,c),u||(a=G(e,"click",l),u=!0)},p(h,c){n=h,c&131072&&i!==(i=JSON.parse(n[17].content).name+"")&&V(s,i)},d(h){h&&g(e),h&&g(o),u=!1,a()}}}function Bi(n){let e,t;return{c(){e=w("img"),this.h()},l(r){e=C(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){y(e,"class","w-8 object-contain justify-center"),pe(e.src,t=JSON.parse(n[17].content).picture)||y(e,"src",t),y(e,"alt","avatar")},m(r,i){j(r,e,i)},p(r,i){i&131072&&!pe(e.src,t=JSON.parse(r[17].content).picture)&&y(e,"src",t)},d(r){r&&g(e)}}}function Xl(n){let e=JSON.parse(n[17].content).picture,t,r,i=JSON.parse(n[17].content).display_name+"",s,o,u,a,l=JSON.parse(n[17].content).name+"",h,c,f,d=n[1].content+"",_,p,v,b=e&&Bi(n);function E(){return n[8](n[17],n[1])}return{c(){b&&b.c(),t=B(),r=w("div"),s=N(i),o=B(),u=w("button"),a=N("@"),h=N(l),c=B(),f=w("div"),_=N(d),this.h()},l(O){b&&b.l(O),t=Q(O),r=C(O,"DIV",{});var k=R(r);s=H(k,i),o=Q(k),u=C(k,"BUTTON",{class:!0});var q=R(u);a=H(q,"@"),h=H(q,l),q.forEach(g),c=Q(k),f=C(k,"DIV",{class:!0});var S=R(f);_=H(S,d),S.forEach(g),k.forEach(g),this.h()},h(){y(u,"class","text-sm text-blue-600/50"),y(f,"class","max-h-48 overflow-auto")},m(O,k){b&&b.m(O,k),j(O,t,k),j(O,r,k),m(r,s),m(r,o),m(r,u),m(u,a),m(u,h),m(r,c),m(r,f),m(f,_),p||(v=G(u,"click",E),p=!0)},p(O,k){n=O,k&131072&&(e=JSON.parse(n[17].content).picture),e?b?b.p(n,k):(b=Bi(n),b.c(),b.m(t.parentNode,t)):b&&(b.d(1),b=null),k&131072&&i!==(i=JSON.parse(n[17].content).display_name+"")&&V(s,i),k&131072&&l!==(l=JSON.parse(n[17].content).name+"")&&V(h,l),k&2&&d!==(d=n[1].content+"")&&V(_,d)},d(O){b&&b.d(O),O&&g(t),O&&g(r),p=!1,v()}}}function Zl(n){let e,t;return e=new ur({props:{queryKey:["metadata",n[1].pubkey],pubkey:n[1].pubkey,$$slots:{default:[Xl,({metadata:r})=>({17:r}),({metadata:r})=>r?131072:0]},$$scope:{ctx:n}}}),{c(){De(e.$$.fragment)},l(r){Ke(e.$$.fragment,r)},m(r,i){Fe(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.queryKey=["metadata",r[1].pubkey]),i&2&&(s.pubkey=r[1].pubkey),i&393218&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){Le(e,r)}}}function Qi(n){let e,t;return{c(){e=w("img"),this.h()},l(r){e=C(r,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){y(e,"class","w-8 object-contain justify-center"),pe(e.src,t=JSON.parse(n[17].content).picture)||y(e,"src",t),y(e,"alt","avatar")},m(r,i){j(r,e,i)},p(r,i){i&131072&&!pe(e.src,t=JSON.parse(r[17].content).picture)&&y(e,"src",t)},d(r){r&&g(e)}}}function xl(n){let e=JSON.parse(n[17].content).picture,t,r,i=JSON.parse(n[17].content).display_name+"",s,o,u,a,l=JSON.parse(n[17].content).name+"",h,c,f,d=n[1].content+"",_,p,v,b=e&&Qi(n);function E(){return n[7](n[17],n[1])}return{c(){b&&b.c(),t=B(),r=w("div"),s=N(i),o=B(),u=w("button"),a=N("@"),h=N(l),c=B(),f=w("div"),_=N(d),this.h()},l(O){b&&b.l(O),t=Q(O),r=C(O,"DIV",{});var k=R(r);s=H(k,i),o=Q(k),u=C(k,"BUTTON",{class:!0});var q=R(u);a=H(q,"@"),h=H(q,l),q.forEach(g),c=Q(k),f=C(k,"DIV",{class:!0});var S=R(f);_=H(S,d),S.forEach(g),k.forEach(g),this.h()},h(){y(u,"class","text-sm text-blue-600/50"),y(f,"class","max-h-48 overflow-auto")},m(O,k){b&&b.m(O,k),j(O,t,k),j(O,r,k),m(r,s),m(r,o),m(r,u),m(u,a),m(u,h),m(r,c),m(r,f),m(f,_),p||(v=G(u,"click",E),p=!0)},p(O,k){n=O,k&131072&&(e=JSON.parse(n[17].content).picture),e?b?b.p(n,k):(b=Qi(n),b.c(),b.m(t.parentNode,t)):b&&(b.d(1),b=null),k&131072&&i!==(i=JSON.parse(n[17].content).display_name+"")&&V(s,i),k&131072&&l!==(l=JSON.parse(n[17].content).name+"")&&V(h,l),k&2&&d!==(d=n[1].content+"")&&V(_,d)},d(O){b&&b.d(O),O&&g(t),O&&g(r),p=!1,v()}}}function $l(n){let e,t;return e=new ur({props:{queryKey:["metadata",n[1].pubkey],pubkey:n[1].pubkey,$$slots:{default:[xl,({metadata:r})=>({17:r}),({metadata:r})=>r?131072:0]},$$scope:{ctx:n}}}),{c(){De(e.$$.fragment)},l(r){Ke(e.$$.fragment,r)},m(r,i){Fe(e,r,i),t=!0},p(r,i){const s={};i&2&&(s.queryKey=["metadata",r[1].pubkey]),i&2&&(s.pubkey=r[1].pubkey),i&393218&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){Le(e,r)}}}function Ki(n){let e=Array(n[14].beforeSpace).fill(" ").join("")+"",t;return{c(){t=N(e)},l(r){t=H(r,e)},m(r,i){j(r,t,i)},p(r,i){i&3&&e!==(e=Array(r[14].beforeSpace).fill(" ").join("")+"")&&V(t,e)},d(r){r&&g(t)}}}function Gi(n){let e=Array(n[14].beforeSpace).fill(" ").join("")+"",t;return{c(){t=N(e)},l(r){t=H(r,e)},m(r,i){j(r,t,i)},p(r,i){i&3&&e!==(e=Array(r[14].beforeSpace).fill(" ").join("")+"")&&V(t,e)},d(r){r&&g(t)}}}function ec(n){let e=n[14].content+"",t;return{c(){t=N(e)},l(r){t=H(r,e)},m(r,i){j(r,t,i)},p(r,i){i&3&&e!==(e=r[14].content+"")&&V(t,e)},d(r){r&&g(t)}}}function tc(n){let e=n[14].content.slice(0,75)+"",t,r;return{c(){t=N(e),r=N("...")},l(i){t=H(i,e),r=H(i,"...")},m(i,s){j(i,t,s),j(i,r,s)},p(i,s){s&3&&e!==(e=i[14].content.slice(0,75)+"")&&V(t,e)},d(i){i&&g(t),i&&g(r)}}}function Vi(n){let e=Array(n[14].beforeSpace).fill(" ").join("")+"",t;return{c(){t=N(e)},l(r){t=H(r,e)},m(r,i){j(r,t,i)},p(r,i){i&3&&e!==(e=Array(r[14].beforeSpace).fill(" ").join("")+"")&&V(t,e)},d(r){r&&g(t)}}}function zi(n){let e,t,r,i;const s=[Ul,Hl,Nl,Ll,Fl,Dl,jl],o=[];function u(a,l){return a[14].type==="newline"?0:a[14].type==="space"?1:a[14].type==="emoji"?2:a[14].type==="url"?3:a[14].type==="image"?4:a[14].type==="nostr"&&a[14].url?5:a[14].content.length>0?6:-1}return~(e=u(n))&&(t=o[e]=s[e](n)),{c(){t&&t.c(),r=Y()},l(a){t&&t.l(a),r=Y()},m(a,l){~e&&o[e].m(a,l),j(a,r,l),i=!0},p(a,l){let h=e;e=u(a),e===h?~e&&o[e].p(a,l):(t&&(Oe(),U(o[h],1,1,()=>{o[h]=null}),Ee()),~e?(t=o[e],t?t.p(a,l):(t=o[e]=s[e](a),t.c()),D(t,1),t.m(r.parentNode,r)):t=null)},i(a){i||(D(t),i=!0)},o(a){U(t),i=!1},d(a){~e&&o[e].d(a),a&&g(r)}}}function rc(n){let e;return{c(){e=N(n[1])},l(t){e=H(t,n[1])},m(t,r){j(t,e,r)},p(t,r){r&2&&V(e,t[1])},i:K,o:K,d(t){t&&g(e)}}}function nc(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:rc,then:Ml,catch:Al,value:13,blocks:[,,,]};return xr(t=Li(n[1],n[0]),i),{c(){e=Y(),i.block.c()},l(s){e=Y(),i.block.l(s)},m(s,o){j(s,e,o),i.block.m(s,i.anchor=o),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,[o]){n=s,i.ctx=n,o&3&&t!==(t=Li(n[1],n[0]))&&xr(t,i)||Wo(i,n,o)},i(s){r||(D(i.block),r=!0)},o(s){for(let o=0;o<3;o+=1){const u=i.blocks[o];U(u)}r=!1},d(s){s&&g(e),i.block.d(s),i.token=null,i=null}}}function ic(n,e,t){let{text:r}=e,{tag:i}=e;const s={ref:Tl,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function o(v){if(typeof v=="string"){const b={type:"component",image:v,component:s};qe.trigger(b)}}const u={ref:pl,props:{background:"bg-red-500"},slot:"<p>Skeleton</p>"};function a(v,b){console.log(v);const E={type:"component",value:{metadata:v,pubkey:b},component:u};qe.trigger(E)}function l(v){try{return x.decode(v),!0}catch{return!1}}const h=v=>o(v.url),c=v=>o(v.content),f=(v,b)=>{a(v,b.pubkey)},d=(v,b)=>{a(v,b.pubkey)},_=(v,b)=>{a(v,x.decode(b.url).data)},p=(v,b)=>{a(v,x.decode(b.url).data.pubkey)};return n.$$set=v=>{"text"in v&&t(1,r=v.text),"tag"in v&&t(0,i=v.tag)},[i,r,o,a,l,h,c,f,d,_,p]}class mc extends Ie{constructor(e){super(),Pe(this,e,ic,nc,we,{text:1,tag:0})}}export{lc as A,mc as C,hc as M,dc as N,bc as P,vc as R,cc as T,fc as a,pl as b,yc as c,To as d,ur as e,_c as f,qe as m,pc as n};
